(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{591:function(s,t,a){"use strict";a.r(t);var e=a(29),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"promise-æ„é€ å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-æ„é€ å‡½æ•°"}},[s._v("#")]),s._v(" Promise æ„é€ å‡½æ•°")]),s._v(" "),a("p",[a("code",[s._v("Promise (excutor) {}")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("executor")]),s._v("  å‡½æ•°ï¼š æ‰§è¡Œå™¨  "),a("code",[s._v("(resolve, reject) => {}")])]),s._v(" "),a("li",[a("code",[s._v("resolve")]),s._v("  å‡½æ•°ï¼šå†…éƒ¨å®šä¹‰æˆåŠŸæ—¶æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•°  "),a("code",[s._v("value => {}")])]),s._v(" "),a("li",[a("code",[s._v("reject")]),s._v("  å‡½æ•°ï¼šå†…éƒ¨å®šä¹‰å¤±è´¥æ—¶æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•°  "),a("code",[s._v("reason => {}")])])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼š "),a("code",[s._v("executor")]),s._v("  ä¼šåœ¨  "),a("code",[s._v("Promise")]),s._v("  å†…éƒ¨"),a("strong",[s._v("ç«‹å³åŒæ­¥è°ƒç”¨")]),s._v("ï¼ˆâš ï¸ï¼‰ï¼Œå¼‚æ­¥æ“ä½œåœ¨æ‰§è¡Œå™¨ä¸­æ‰§è¡Œã€‚")]),s._v(" "),a("h3",{attrs:{id:"promise-prototype-then-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-prototype-then-æ–¹æ³•"}},[s._v("#")]),s._v(" "),a("code",[s._v("Promise.prototype.then")]),s._v("  æ–¹æ³•")]),s._v(" "),a("p",[a("code",[s._v("(onResolved, onRejected) => {}")])]),s._v(" "),a("ul",[a("li",[s._v("onResolved å‡½æ•°ï¼šæˆåŠŸçš„å›è°ƒå‡½æ•°  "),a("code",[s._v("(value) => {}")])]),s._v(" "),a("li",[s._v("onRejected å‡½æ•°ï¼šå¤±è´¥çš„å›è°ƒå‡½æ•°  "),a("code",[s._v("(reason) => {}")])])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼šæŒ‡å®šç”¨äºå¾—åˆ°æˆåŠŸ  "),a("code",[s._v("value")]),s._v("  çš„"),a("strong",[s._v("æˆåŠŸå›è°ƒ")]),s._v("å’Œç”¨äºå¾—åˆ°å¤±è´¥  "),a("code",[s._v("reason")]),s._v("  çš„å¤±è´¥å›è°ƒï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ã€‚")]),s._v(" "),a("h3",{attrs:{id:"promise-prototype-catch-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-prototype-catch-æ–¹æ³•"}},[s._v("#")]),s._v(" "),a("code",[s._v("Promise.prototype.catch")]),s._v("  æ–¹æ³•")]),s._v(" "),a("p",[a("code",[s._v("(onRejected) => {}")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("onRejected")]),s._v("  å‡½æ•°ï¼šå¤±è´¥çš„å›è°ƒå‡½æ•°  "),a("code",[s._v("(reason) => {}")])])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼š "),a("code",[s._v("then()")]),s._v("  çš„è¯­æ³•ç³–ï¼Œç›¸å½“äºï¼š  "),a("code",[s._v("then(undefined, onRejected)")])]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ï¼š")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\np"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("reason")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reason"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"promise-resolve-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-resolve-æ–¹æ³•"}},[s._v("#")]),s._v(" "),a("code",[s._v("Promise.resolve")]),s._v("  æ–¹æ³•")]),s._v(" "),a("p",[a("code",[s._v("(value) => {}")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("value")]),s._v(" ï¼šæˆåŠŸçš„æ•°æ®æˆ– Promise å¯¹è±¡")])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼šè¿”å›ä¸€ä¸ªæˆåŠŸ / å¤±è´¥çš„ Promise å¯¹è±¡")]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¼ å…¥çš„å‚æ•°ä¸ºéPromiseç±»å‹çš„å¯¹è±¡ï¼Œåˆ™è¿”å›çš„ç»“æœä¸ºæˆåŠŸçš„Promiseå¯¹è±¡")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœä¼ å…¥çš„å‚æ•°ä¸ºPromiseå¯¹è±¡ï¼Œå‚æ•°çš„ç»“æœå†³å®šäº†resolveçš„ç»“æœ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// resolve("success")')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Error"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// console.log(p2);")]),s._v("\np2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("reason")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("reason"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"promise-reject-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-reject-æ–¹æ³•"}},[s._v("#")]),s._v(" "),a("code",[s._v("Promise.reject")]),s._v("  æ–¹æ³•")]),s._v(" "),a("p",[a("code",[s._v("(reason) => {}")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("reason")]),s._v(" ï¼šå¤±è´¥çš„åŸå› ã€‚")])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼š"),a("strong",[s._v("è¿”å›ä¸€ä¸ªå¤±è´¥çš„ Promise å¯¹è±¡")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("666")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ— è®ºä¼ å…¥ä»€ä¹ˆç±»å‹çš„å€¼éƒ½è¿”å›å¤±è´¥çš„Promiseå¯¹è±¡")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// p2çš„çŠ¶æ€ä¸ºå¤±è´¥ï¼Œå€¼ä¸ºä¼ å…¥Promiseå¯¹è±¡çš„å€¼")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"promise-all-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-all-æ–¹æ³•"}},[s._v("#")]),s._v(" "),a("code",[s._v("Promise.all")]),s._v("  æ–¹æ³•")]),s._v(" "),a("p",[a("code",[s._v("(promises) => {}")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("promises")]),s._v("  ï¼šåŒ…å« n ä¸ª Promise çš„æ•°ç»„")])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œ"),a("strong",[s._v("åªæœ‰æ‰€æœ‰çš„ Promise éƒ½æˆåŠŸæ‰æˆåŠŸ")]),s._v("ï¼Œ"),a("strong",[s._v("åªè¦æœ‰ä¸€ä¸ªå¤±è´¥äº†å°±ç›´æ¥å¤±è´¥")]),s._v("ã€‚")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OK'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// let p2 = Promise.resolve('Success');")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Oh Yeah'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("all")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" p2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" p3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"promise-race-æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#promise-race-æ–¹æ³•"}},[s._v("#")]),s._v(" "),a("code",[s._v("Promise.race")]),s._v("  æ–¹æ³•")]),s._v(" "),a("p",[a("code",[s._v("(promises) => {}")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("promises")]),s._v("  ï¼šåŒ…å« n ä¸ª Promise å¯¹è±¡çš„æ•°ç»„ã€‚")])]),s._v(" "),a("p",[s._v("è¯´æ˜ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œ"),a("strong",[s._v("ç¬¬ä¸€ä¸ªå®Œæˆçš„ Promise çš„ç»“æœçŠ¶æ€å°±æ˜¯æœ€ç»ˆçš„ç»“æœçŠ¶æ€ã€‚")])]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'OK'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Success'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" p3 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Oh Yeah'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("race")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("p2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("p3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// p2çš„ç»“æœçŠ¶æ€")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),a("h2",{attrs:{id:"æ€»ç»“-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“-2"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://zh.javascript.info/promise-api#zong-jie",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ€»ç»“"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("code",[s._v("Promise")]),s._v("  ç±»æœ‰ 6 ç§é™æ€æ–¹æ³•ï¼š")]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("Promise.all(promises)")]),s._v("  ï¼šç­‰å¾…æ‰€æœ‰ promise éƒ½ resolve æ—¶ï¼Œè¿”å›å­˜æ”¾å®ƒä»¬ç»“æœçš„æ•°ç»„ã€‚å¦‚æœç»™å®šçš„ä»»æ„ä¸€ä¸ª promise ä¸º rejectï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå˜æˆ  "),a("code",[s._v("Promise.all")]),s._v("  çš„ errorï¼Œ"),a("strong",[s._v("æ‰€æœ‰å…¶ä»– promise çš„ç»“æœéƒ½ä¼šè¢«å¿½ç•¥")]),s._v("ã€‚")])]),s._v(" "),a("li",[a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Promise.allSettled(promises)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ï¼ˆES2020 æ–°å¢æ–¹æ³•ï¼‰ ç­‰å¾…æ‰€æœ‰ promise éƒ½ settle æ—¶ï¼Œå¹¶ä»¥åŒ…å«ä»¥ä¸‹å†…å®¹çš„å¯¹è±¡æ•°ç»„çš„å½¢å¼è¿”å›å®ƒä»¬çš„ç»“æœï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("status")]),s._v(" :  "),a("code",[s._v('"fulfilled"')]),s._v("  æˆ–  "),a("code",[s._v('"rejected"')])]),s._v(" "),a("li",[a("code",[s._v("value")]),s._v(" ï¼ˆå¦‚æœ fulfilledï¼‰æˆ–  "),a("code",[s._v("reason")]),s._v(" ï¼ˆå¦‚æœ rejectedï¼‰ã€‚")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("Promise.race(promises)")]),s._v("  â€”â€” ç­‰å¾…ç¬¬ä¸€ä¸ª settle çš„ promiseï¼Œå¹¶å°†å…¶ result/error ä½œä¸ºç»“æœè¿”å›ã€‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("Promise.any(promises)")]),s._v(" ï¼ˆES2021 æ–°å¢æ–¹æ³•ï¼‰ï¼š ç­‰å¾…ç¬¬ä¸€ä¸ª fulfilled çš„ promiseï¼Œå¹¶å°†å…¶ç»“æœä½œä¸ºç»“æœè¿”å›ã€‚å¦‚æœæ‰€æœ‰ promise éƒ½ rejectedï¼Œ "),a("code",[s._v("Promise.any")]),s._v("  åˆ™ä¼šæŠ›å‡º "),a("a",{attrs:{href:"https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/AggregateError",target:"_blank",rel:"noopener noreferrer"}},[a("code",[s._v("AggregateError")]),s._v(" "),a("OutboundLink")],1),s._v(" é”™è¯¯ç±»å‹çš„ error å®ä¾‹ã€‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("Promise.resolve(value)")]),s._v("  ï¼šä½¿ç”¨ç»™å®š value åˆ›å»ºä¸€ä¸ª resolved çš„ promiseã€‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("Promise.reject(error)")]),s._v("  ï¼š ä½¿ç”¨ç»™å®š error åˆ›å»ºä¸€ä¸ª rejected çš„ promiseã€‚")])])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("Promise.all")]),s._v("  å¯èƒ½æ˜¯åœ¨å®æˆ˜ä¸­ä½¿ç”¨æœ€å¤šçš„ã€‚")])])])}),[],!1,null,null,null);t.default=n.exports}}]);