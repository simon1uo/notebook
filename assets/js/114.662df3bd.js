(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{610:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"fetch-çš„ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetch-çš„ä½¿ç”¨"}},[t._v("#")]),t._v(" "),s("code",[t._v("fetch")]),t._v("  çš„ä½¿ç”¨")]),t._v(" "),s("p",[s("code",[t._v("fetch()")]),t._v("  æ–¹æ³•æ˜¯ä¸€ç§ç°ä»£é€šç”¨ç½‘ç»œè¯·æ±‚çš„æ–¹æ³•ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" promise "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[s("code",[t._v("url")]),t._v(" ï¼šè¯·æ±‚ç½‘ç»œè·¯å¾„ï¼›")]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(" ï¼šå¯é€‰å‚æ•°ï¼ˆæ–¹æ³•ã€è¯·æ±‚å¤´ç­‰ï¼‰ã€‚æ²¡æœ‰å¯é€‰å‚æ•°ï¼Œé»˜è®¤è¯·æ±‚æ–¹æ³•  "),s("code",[t._v("get")]),t._v(" ã€‚")])]),t._v(" "),s("p",[t._v("ä½¿ç”¨  "),s("code",[t._v("fetch")]),t._v("  å‘é€ç½‘ç»œè¯·æ±‚åï¼Œè·å–æ¥è‡ªæœåŠ¡å™¨çš„å“åº”éœ€è¦ç»è¿‡ä¸¤ä¸ªé˜¶æ®µï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ç¬¬ä¸€é˜¶æ®µï¼šå½“æœåŠ¡å™¨å‘é€äº†å“åº”å¤´ï¼Œ "),s("code",[t._v("fetch")]),t._v("  è¿”å›çš„  "),s("code",[t._v("promise")]),t._v("  å°±ä½¿ç”¨å†…å»ºçš„  "),s("code",[t._v("Response")]),t._v("  ç±»å¯¹è±¡æ¥ "),s("strong",[t._v("å¯¹å“åº”å¤´è¿›è¡Œè§£æ")]),t._v("ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å¯ä»¥åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ£€æŸ¥å“åº”å¤´ï¼Œæ£€æŸ¥ HTTP çŠ¶æ€ç¡®å®šè¯·æ±‚æ˜¯å¦æˆåŠŸäº†ï¼Œè¿™ä¸ªé˜¶æ®µè¿˜æ²¡æœ‰å“åº”ä½“ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœ "),s("code",[t._v("fetch")]),t._v("  æ— æ³•å»ºç«‹ä¸€ä¸ª HTTP è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œç½‘ç»œé—®é¢˜ï¼›è¯·æ±‚ç½‘ç»œåœ°å€ä¸å­˜åœ¨ï¼Œæ­¤æ—¶  "),s("code",[t._v("promise")]),t._v("  å°±ä¼š  "),s("code",[t._v("reject")]),t._v(" ã€‚")]),t._v(" "),s("li",[t._v("å¼‚å¸¸çš„ HTTP çŠ¶æ€ï¼Œä¾‹å¦‚ 404 æˆ– 500ï¼Œä¸ä¼šå¯¼è‡´å‡ºç° errorã€‚")])])]),t._v(" "),s("p",[t._v("è¯·æ±‚ HTTP çŠ¶æ€å¯ä»¥é€šè¿‡ä¸¤ä¸ªå±æ€§æŸ¥çœ‹ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("status")]),t._v(" ï¼šHTTP çŠ¶æ€ç ï¼›")]),t._v(" "),s("li",[s("code",[t._v("ok")]),t._v(" ï¼šå¸ƒå°”å€¼ï¼Œå¦‚æœ HTTP çŠ¶æ€ç ä¸º 200-299ï¼Œåˆ™ä¸º  "),s("code",[t._v("true")]),t._v(" ã€‚")])]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ok"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœ HTTP çŠ¶æ€ç ä¸º 200-299")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å– response bodyï¼ˆæ­¤æ–¹æ³•ä¼šåœ¨ä¸‹é¢è§£é‡Šï¼‰")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HTTP-Error: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("ç¬¬äºŒé˜¶æ®µï¼šè·å–  "),s("code",[t._v("response")]),t._v("  å“åº”ä½“ï¼Œä½¿ç”¨ä¸€ä¸ªå…¶ä»–çš„æ–¹æ³•è°ƒç”¨ã€‚")]),t._v(" "),s("p",[s("code",[t._v("Response")]),t._v("  æä¾›äº†å¤šç§åŸºäº  "),s("code",[t._v("promise")]),t._v("  çš„æ–¹æ³•ï¼Œæ¥ä»¥ä¸åŒçš„æ ¼å¼è®¿é—® resposne bodyï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[s("code",[t._v("response.text()")])]),t._v(" ï¼šè¯»å–  "),s("code",[t._v("response")]),t._v(" ï¼Œå¹¶ä»¥æ–‡æœ¬å½¢å¼è¿”å› responseï¼›")]),t._v(" "),s("li",[s("strong",[s("code",[t._v("response.json()")])]),t._v(" ï¼šå°†  "),s("code",[t._v("response")]),t._v("  è§£æä¸º JSONï¼›")]),t._v(" "),s("li",[s("code",[t._v("response.formData()")]),t._v(" ï¼šä»¥  "),s("code",[t._v("FormData")]),t._v("  å¯¹è±¡çš„å½¢å¼è¿”å› responseï¼›")]),t._v(" "),s("li",[s("code",[t._v("response.blob()")]),t._v(" ï¼šä»¥ Blob çš„å½¢å¼è¿”å› responseï¼›")]),t._v(" "),s("li",[s("code",[t._v("response.arrayBuffer()")]),t._v(" ï¼šä»¥ ArrayBuffer å½¢å¼è¿”å› responseï¼›")]),t._v(" "),s("li",[s("code",[t._v("response.body")]),t._v("  ï¼šæ˜¯  "),s("code",[t._v("ReadableStream")]),t._v("  å¯¹è±¡ï¼Œå…è®¸é€å—è¯»å–  "),s("code",[t._v("body")]),t._v("  ã€‚")])])])]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ / è·å–å“åº”çš„ JSON å¯¹è±¡ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" commits "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("login"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("æˆ–è€…ä½¿ç”¨çº¯  "),s("code",[t._v("promise")]),t._v(" ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("commits")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("login"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("æ³¨æ„")]),t._v(" "),s("p",[t._v("ä¸€èˆ¬åªèƒ½é€‰æ‹©ä¸€ç§è¯»å– body çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå·²ç»ä½¿ç”¨äº†  "),s("code",[t._v("response.text()")]),t._v("  æ¥è·å–  "),s("code",[t._v("response")]),t._v(" ï¼Œ é‚£ä¹ˆå†ç”¨  "),s("code",[t._v("response.json()")]),t._v("  ä¸ä¼šç”Ÿæ•ˆã€‚å› ä¸ºå“åº”ä½“å†…å®¹å·²ç»è¢«å¤„ç†è¿‡äº†ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"å“åº”å¤´-response-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¤´-response-header"}},[t._v("#")]),t._v(" å“åº”å¤´ Response header")]),t._v(" "),s("p",[t._v("Response header æ˜¯ä½äº  "),s("code",[t._v("response.headers")]),t._v("  ä¸­çš„"),s("strong",[t._v("ä¸€ä¸ªç±»ä¼¼äº Map çš„ header å¯¹è±¡")]),t._v("ã€‚ï¼ˆä¸æ˜¯çœŸæ­£çš„ Map å¯¹è±¡ï¼‰ å¯ä»¥é€šè¿‡ "),s("strong",[t._v("åå­—")]),t._v(" è·å–å„ä¸ª  "),s("code",[t._v("header")]),t._v(" ï¼Œæˆ–è€…è¿­ä»£ã€‚")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ / è·å–å“åº”å¤´  "),s("code",[t._v("Content-type")]),t._v(" ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–ä¸€ä¸ª header")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// application/json; charset=utf-8")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿­ä»£æ‰€æœ‰ header")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" = ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"è¯·æ±‚å¤´-request-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚å¤´-request-header"}},[t._v("#")]),t._v(" è¯·æ±‚å¤´ Request header")]),t._v(" "),s("p",[t._v("å¯ä»¥é€šè¿‡åœ¨ä½¿ç”¨  "),s("code",[t._v("fetch")]),t._v("  æ—¶ï¼Œåœ¨é€‰æ‹©å‚æ•°ä¸­é…ç½®  "),s("code",[t._v("headers")]),t._v("  é€‰é¡¹ã€‚")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("protectedUrl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Authentication")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'secret'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("blockquote",[s("p",[t._v("ä¸ºäº†ä¿è¯ HTTP çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ï¼Œå­˜åœ¨ä¸èƒ½æ§åˆ¶çš„è¯·æ±‚å¤´ï¼šhttps://fetch.spec.whatwg.org/#forbidden-header-nameã€‚ä»…æœ‰æµè§ˆå™¨æ§åˆ¶ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"è¯·æ±‚æ–¹æ³•-method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚æ–¹æ³•-method"}},[t._v("#")]),t._v(" è¯·æ±‚æ–¹æ³•  "),s("code",[t._v("method")])]),t._v(" "),s("p",[t._v("è¦ä½¿ç”¨ é»˜è®¤æ–¹æ³•  "),s("code",[t._v("GET")]),t._v("  ä»¥å¤–çš„è¯·æ±‚æ–¹æ³•ï¼Œé€šè¿‡  "),s("code",[t._v("method")]),t._v("  é€‰é¡¹é…ç½® / æˆ–è€…é…ç½®  "),s("code",[t._v("body")]),t._v(" ï¼ˆrequest bodyï¼Œ å¸¸ç”¨ JSONï¼‰ã€‚")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ / ä»¥ JSON å½¢å¼å‘é€å¯¹è±¡ç±»å‹çš„è¯·æ±‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" user "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'John'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("surname")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Smith'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/article/fetch/post/user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json;charset=utf-8'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[t._v("å¦‚æœè¯·æ±‚çš„  "),s("code",[t._v("body")]),t._v("  æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™  "),s("code",[t._v("Content-Type")]),t._v("  ä¼šé»˜è®¤è®¾ç½®ä¸º  "),s("code",[t._v("text/plain;charset=UTF-8")]),t._v(" ã€‚æ‰€ä»¥å¦‚æœè¦å‘é€ JSONï¼Œéœ€è¦è®¾ç½®è¯·æ±‚å¤´  "),s("code",[t._v("Content-type")]),t._v("  æ§åˆ¶ç¼–ç ç±»å‹ã€‚")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ / è·å– GitHub ç”¨æˆ·ä¿¡æ¯ã€‚")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("åˆ›å»ºä¸€ä¸ªå¼‚æ­¥å‡½æ•°  "),s("code",[t._v("getUsers(names)")]),t._v(" ï¼Œè¯¥å‡½æ•°æ¥å— GitHub ç™»å½•åæ•°ç»„ä½œä¸ºè¾“å…¥ï¼ŒæŸ¥è¯¢ GitHub ä»¥è·å–æœ‰å…³è¿™äº›ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶è¿”å› GitHub ç”¨æˆ·æ•°ç»„ã€‚")]),t._v(" "),s("li",[t._v("GitHub æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„ APIï¼šhttps://api.github.com/users/USERNAME")])])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUsers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("names")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" jobs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" names"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" job "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("https://api.github.com/users/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    jobs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("job"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" results "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Promis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jobs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" results"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("blockquote",[s("ul",[s("li",[t._v("å¯¹äº æ¯ä¸€ä¸ªç”¨æˆ·åéƒ½æœ‰ä¸€ä¸ª  "),s("code",[t._v("fetch")]),t._v("  è¯·æ±‚ã€‚æ±‚ä¸åº”è¯¥ç›¸äº’ç­‰å¾…ã€‚ä»¥ä¾¿èƒ½å¤Ÿå°½å¿«è·å–åˆ°æ•°æ®ã€‚å¦‚æœä»»ä½•ä¸€ä¸ªè¯·æ±‚å¤±è´¥äº†ï¼Œæˆ–è€…æ²¡æœ‰è¿™ä¸ªç”¨æˆ·ï¼Œåˆ™å‡½æ•°åº”è¯¥è¿”å›  "),s("code",[t._v("null")]),t._v("  åˆ°ç»“æœæ•°ç»„ä¸­ã€‚")]),t._v(" "),s("li",[s("code",[t._v(".then")]),t._v("  è°ƒç”¨ç´§è·Ÿåœ¨  "),s("code",[t._v("fetch")]),t._v("  åé¢ï¼Œè¿™æ ·å½“æ”¶åˆ°å“åº”æ—¶ï¼Œå®ƒä¸ä¼šç­‰å¾…å…¶ä»–çš„  "),s("code",[t._v("fetch")]),t._v(" ï¼Œè€Œæ˜¯ç«‹å³å¼€å§‹è¯»å–  "),s("code",[t._v(".json()")]),t._v(" ã€‚é€šè¿‡å°†  "),s("code",[t._v(".json()")]),t._v("  ç›´æ¥æ·»åŠ åˆ°æ¯ä¸ª  "),s("code",[t._v("fetch")]),t._v("  ä¸­ï¼Œå°±èƒ½ç¡®ä¿æ¯ä¸ª fetch åœ¨æ”¶åˆ°å“åº”æ—¶éƒ½ä¼šç«‹å³å¼€å§‹ä»¥ JSON æ ¼å¼è¯»å–æ•°æ®ï¼Œè€Œä¸ä¼šå½¼æ­¤ç­‰å¾…ã€‚")]),t._v(" "),s("li",[t._v("ä½¿ç”¨  "),s("code",[t._v("await Promise.all")]),t._v("  å°†ä¼šç­‰åˆ°æ‰€æœ‰çš„  "),s("code",[t._v("fetch")]),t._v("  éƒ½è·å–åˆ°å“åº”æ•°æ®æ‰å¼€å§‹è§£æã€‚")])])]),t._v(" "),s("h2",{attrs:{id:"fetch-çš„åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetch-çš„åº”ç”¨"}},[t._v("#")]),t._v(" "),s("code",[t._v("Fetch")]),t._v("  çš„åº”ç”¨")]),t._v(" "),s("h3",{attrs:{id:"formdata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#formdata"}},[t._v("#")]),t._v(" "),s("code",[t._v("FormData")])]),t._v(" "),s("p",[t._v("ç”¨äºå‘é€ HTML è¡¨å•æ•°æ®çš„ç±»å‹å¯¹è±¡ã€‚æ„é€ å™¨ä½¿ç”¨å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" formData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("form"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[s("code",[t._v("[form]")]),t._v("  æ˜¯é€‰æ‹©æ€§æä¾›çš„ã€‚å¦‚æœæä¾›äº† HTML  "),s("code",[t._v("form")]),t._v("  å…ƒç´ ï¼Œå°±ä¼šè‡ªåŠ¨æ•è·è¯¥  "),s("code",[t._v("from")]),t._v("  å…ƒç´ å­—æ®µã€‚")])]),t._v(" "),s("p",[s("code",[t._v("FormData")]),t._v(" "),s("strong",[t._v("çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºç½‘ç»œæ–¹æ³•")]),t._v("ã€‚ä¾‹å¦‚  "),s("code",[t._v("fetch")]),t._v("  å¯ä»¥æ¥å—ä¸€ä¸ª  "),s("code",[t._v("FormData")]),t._v("  å¯¹è±¡ä½œä¸º bodyã€‚å®ƒä¼šè¢«ç¼–ç å¹¶å‘é€å‡ºå»ï¼Œå¸¦æœ‰  "),s("code",[t._v("Content-Type: multipart/form-data")]),t._v(" ã€‚")]),t._v(" "),s("p",[t._v("å¯¹äºæœåŠ¡å™¨ï¼Œåªæ˜¯æ™®é€šçš„è¡¨è¾¾æ•°æ®æäº¤ã€‚")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ / æäº¤ç®€å•çš„è¡¨å•æ•°æ®ï¼š")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("form")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("formElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("John"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("surname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Smith"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),t._v(" "),s("div",{staticClass:"vuepress-plugin-demo-block__wrapper",staticStyle:{display:"none"},attrs:{"data-config":"","data-type":"vanilla","data-code":"%3Chtml%3E%0A%20%20%3Cform%20id%3D%22formElem%22%3E%0A%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22name%22%20value%3D%22John%22%3E%0A%20%20%20%20%3Cinput%20type%3D%22text%22%20name%3D%22surname%22%20value%3D%22Smith%22%3E%0A%20%20%20%20%3Cinput%20type%3D%22submit%22%3E%0A%09%3C%2Fform%3E%0A%3C%2Fhtml%3E%0A"}},[s("div",{staticClass:"vuepress-plugin-demo-block__display"},[s("div",{staticClass:"vuepress-plugin-demo-block__app"})]),t._v(" "),s("div",{staticClass:"vuepress-plugin-demo-block__code"},[s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("form")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("formElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("John"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("surname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Smith"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])])]),t._v(" "),s("div",{staticClass:"vuepress-plugin-demo-block__footer"})]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" formElem "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#formElem"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nformElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onsubmit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("preventDefault\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/article/formdata/post/user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[s("code",[t._v("FormData")]),t._v("  æä¾›çš„æ–¹æ³•ä¿®æ”¹å…¶ä¸­çš„å­—æ®µï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("formData.append(name, value)")]),t._v(" ï¼šæ·»åŠ å…·æœ‰ç»™å®š  "),s("code",[t._v("name")]),t._v("  å’Œ  "),s("code",[t._v("value")]),t._v("  çš„è¡¨å•å­—æ®µï¼›")]),t._v(" "),s("li",[s("code",[t._v("formData.append(name, blob, fileName)")]),t._v(" ï¼šæ·»åŠ ä¸€ä¸ªç›¸å½“äº  "),s("code",[t._v('<input type="file">')]),t._v("  è¾“å…¥ç±»å‹çš„å­—æ®µã€‚ç¬¬ä¸‰ä¸ªå‚æ•°  "),s("code",[t._v("fileName")]),t._v("  è®¾ç½®æ–‡ä»¶åï¼ˆè€Œä¸æ˜¯è¡¨å•å­—æ®µåï¼‰ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨æˆ·æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„åç§°ï¼›")]),t._v(" "),s("li",[s("code",[t._v("formData.delete(name)")]),t._v("  ï¼šç§»é™¤å¸¦æœ‰ç»™å®š  "),s("code",[t._v("name")]),t._v("  çš„å­—æ®µï¼›")]),t._v(" "),s("li",[s("code",[t._v("formData.get(name)")]),t._v(" ï¼šè·å–å¸¦æœ‰ç»™å®š  "),s("code",[t._v("name")]),t._v("  çš„å­—æ®µå€¼ï¼›")]),t._v(" "),s("li",[s("code",[t._v("formData.has(name)")]),t._v(" ï¼šå¦‚æœå­˜åœ¨å¸¦æœ‰ç»™å®š  "),s("code",[t._v("name")]),t._v("  çš„å­—æ®µï¼Œåˆ™è¿”å›  "),s("code",[t._v("true")]),t._v(" ï¼Œå¦åˆ™è¿”å›  "),s("code",[t._v("false")]),t._v(" ã€‚")])]),t._v(" "),s("blockquote",[s("p",[t._v("æŠ€æœ¯ä¸Šï¼Œå¯ä»¥æ‹¥æœ‰å¤šä¸ª "),s("strong",[t._v("ç›¸åŒåç§°")]),t._v(" "),s("code",[t._v("name")]),t._v("  çš„å­—æ®µã€‚å› æ­¤ï¼Œå¤šæ¬¡è°ƒç”¨  "),s("code",[t._v("append")]),t._v("  å°†ä¼šæ·»åŠ å¤šä¸ªå…·æœ‰ç›¸åŒåç§°çš„å­—æ®µã€‚ä½¿ç”¨  "),s("code",[t._v("set")]),t._v("  æ–¹æ³•ï¼Œç¡®ä¿è¯¥å­—æ®µåªæœ‰ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼ˆç§»é™¤ä¹‹å‰å­˜åœ¨çš„  "),s("code",[t._v("name")]),t._v("  å­—æ®µï¼‰ã€‚")])]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("formData.set(name, value)")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("formData.set(name, blob, fileName)")])]),t._v(" "),s("p",[s("strong",[t._v("ä¸ä½¿ç”¨  "),s("code",[t._v("append")]),t._v("  çš„æ–¹æ³•ç›¸åŒ")]),t._v("ã€‚")])])]),t._v(" "),s("p",[t._v("å¯ä»¥ä½¿ç”¨  "),s("code",[t._v("for ... of")]),t._v("  å¾ªç¯è¿­ä»£  "),s("code",[t._v("formData")]),t._v("  ä¸­çš„å­—æ®µä¸å€¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" formData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" = ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h4",{attrs:{id:"formdata-è¡¨å•ä¸Šä¼ æ–‡ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#formdata-è¡¨å•ä¸Šä¼ æ–‡ä»¶"}},[t._v("#")]),t._v(" "),s("code",[t._v("FormData")]),t._v("  è¡¨å•ä¸Šä¼ æ–‡ä»¶")]),t._v(" "),s("p",[s("code",[t._v("FormData")]),t._v("  è¡¨å•ç±»å‹å§‹ç»ˆå¸¦æœ‰è¯·æ±‚å¤´  "),s("code",[t._v("Content-type: multipart/form-data")]),t._v("  å‘é€æ•°æ®ï¼Œè¿™ä¸ªç¼–ç å…è®¸å‘é€æ–‡ä»¶ ï¼ˆ "),s("code",[t._v('<input type="file">')]),t._v("  ç±»å‹çš„è¾“å…¥æ¡†ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ / "),s("strong",[t._v("ä¸Šä¼ å›¾ç‰‡")]),t._v("ï¼š")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("form")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("formElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("firstName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("John"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  Picture: "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("picture"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("image/*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("formElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onsubmit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/article/formdata/post/user-avatar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FormData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("formElem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"fetch-è·¨æºè¯·æ±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetch-è·¨æºè¯·æ±‚"}},[t._v("#")]),t._v(" "),s("code",[t._v("Fetch")]),t._v("  è·¨æºè¯·æ±‚")]),t._v(" "),s("blockquote",[s("p",[t._v("è·¨æºè¯·æ±‚ï¼ˆè·¨åŸŸï¼‰ ï¼ˆè·¨æºèµ„æºè¯·æ±‚ Cross-Origin Resource Sharing / CORS ï¼‰ï¼šå‘é€åˆ°å…¶ä»–åŸŸã€åè®®æˆ–è€…ç«¯å£çš„è¯·æ±‚ã€‚")])]),t._v(" "),s("p",[t._v("å…è®¸è·¨æºè¯·æ±‚çš„ä¸¤ç§è¯·æ±‚ç±»å‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å®‰å…¨è¯·æ±‚ï¼›")]),t._v(" "),s("li",[t._v("æ‰€æœ‰çš„å…¶ä»–è¯·æ±‚ã€‚")])]),t._v(" "),s("p",[t._v("å®‰å…¨çš„è¯·æ±‚éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å®‰å…¨çš„è¯·æ±‚æ–¹æ³•ï¼š "),s("code",[t._v("GET")]),t._v(" ã€  "),s("code",[t._v("POST")]),t._v(" ã€ "),s("code",[t._v("HEAD")]),t._v(" ï¼›")]),t._v(" "),s("li",[t._v("å®‰å…¨çš„è¯·æ±‚å¤´ header ä»…å…è®¸è‡ªå®šä¹‰ä¸‹åˆ—çš„ headerï¼š\n"),s("ul",[s("li",[s("code",[t._v("Accept")]),t._v(" ï¼Œ")]),t._v(" "),s("li",[s("code",[t._v("Accept-Language")]),t._v(" ï¼Œ")]),t._v(" "),s("li",[s("code",[t._v("Content-Language")]),t._v(" ï¼Œ")]),t._v(" "),s("li",[s("code",[t._v("Content-Type")]),t._v("  çš„å€¼ä¸º  "),s("code",[t._v("application/x-www-form-urlencoded")]),t._v(" ï¼Œ "),s("code",[t._v("multipart/form-data")]),t._v("  æˆ–  "),s("code",[t._v("text/plain")]),t._v(" ã€‚")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("é™¤äº†å®‰å…¨çš„è¯·æ±‚ï¼Œæ²¡æœ‰ç¬¦åˆä¸Šè¿°æ¡ä»¶çš„è¯·æ±‚éƒ½ä¸ºéå®‰å…¨çš„è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨  "),s("code",[t._v("PUT")]),t._v("  è¯·æ±‚æ–¹æ³•ï¼Œæˆ–è€…å…·æœ‰é™¤äº†ä¸Šè¿°çš„è‡ªå®šä¹‰çš„è¯·æ±‚å¤´éƒ¨ã€‚")]),t._v(" "),s("p",[t._v("å®‰å…¨çš„è¯·æ±‚ä¸éå®‰å…¨çš„è¯·æ±‚çš„æœ¬è´¨åŒºåˆ«ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å¯ä»¥ä½¿ç”¨  "),s("code",[t._v("<form>")]),t._v("  /  "),s("code",[t._v("script")]),t._v("  è¿›è¡Œå®‰å…¨è¯·æ±‚ï¼Œæ— éœ€ç‰¹æ®Šçš„æ–¹æ³•ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ä½¿ç”¨å®‰å…¨çš„è¯·æ±‚èƒ½å…¼å®¹è¾ƒæ—§çš„æœåŠ¡å™¨ï¼Œä¸ç”¨è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚")])])]),t._v(" "),s("li",[s("p",[t._v("è€Œå‘é€éå®‰å…¨çš„è¯·æ±‚ï¼Œæ— æ³•è¿›è¡ŒåŒæ ·çš„å·¥ä½œã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("æ—§çš„æœåŠ¡å™¨å¯èƒ½ä¼šè®¤ä¸ºæ­¤ç±»è¯·æ±‚æ¥è‡ªå…·æœ‰ç‰¹æƒçš„æ¥æºã€‚å½“å°è¯•å‘é€ä¸€ä¸ªéå®‰å…¨è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªç‰¹æ®Šçš„é¢„æ£€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œè¯¢é—®æœåŠ¡æ˜¯å¦æ¥å—æ­¤ç±»è·¨æºè¯·æ±‚å—ã€‚")]),t._v(" "),s("p",[t._v("æœåŠ¡å™¨éœ€è¦æ˜ç¡®é€šè¿‡ header ç¡®è®¤ï¼Œå¦åˆ™éå®‰å…¨çš„è¯·æ±‚æ— æ³•å‘é€ã€‚")])])])])]),t._v(" "),s("p",[s("strong",[t._v("å¯¹äºå®‰å…¨çš„è¯·æ±‚ CORS")]),t._v("ï¼š")]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ï¼š")]),t._v(" "),s("p",[t._v("ä»  "),s("code",[t._v("https://somewhere.page")]),t._v("  è¯·æ±‚  "),s("code",[t._v("https://anywhere.com/request")]),t._v(" ï¼Œå‘é€çš„è¯·æ±‚å¤´ä¸ºï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("GET /request\nHost: anywhere.com\nOrigin: https://somewhere.page\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("blockquote",[s("p",[t._v("è¯·æ±‚å¤´çš„ Origin ä¼šåŒ…å«ç¡®åˆ‡çš„è¯·æ±‚æ¥æºï¼ˆåŸŸåã€åè®®ã€ç«¯å£ï¼‰ï¼Œæ²¡æœ‰è·¯å¾„ã€‚æœåŠ¡å™¨æ£€æŸ¥ Origin ï¼Œå¦‚æœåŒæ„æ¥å—è¯·æ±‚ï¼Œå°±ä¼šåœ¨å“åº”ä¸­æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„ header  "),s("code",[t._v("Access-Control-Allow-Origin")]),t._v(" ã€‚è¯¥ header åŒ…å«äº†å…è®¸çš„æºï¼Œæˆ–è€…ä¸€ä¸ªæ˜Ÿå·  "),s("code",[t._v("*")]),t._v(" ã€‚ç„¶åå“åº”æˆåŠŸï¼Œå¦åˆ™æŠ¥é”™ã€‚")]),t._v(" "),s("p",[t._v("æµè§ˆå™¨ä½œä¸ºä¸­é—´äººï¼šç¡®ä¿äº†å‘é€çš„è·¨æºè¯·æ±‚å¸¦æœ‰æ­£ç¡®çš„ Originï¼›æ£€æŸ¥å“åº”å¤´ä¸­æ˜¯å¦å¸¦æœ‰è®¸å¯  "),s("code",[t._v("Access-Control-Allow-Origin")]),t._v(" ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å…è®¸ JavaScript è®¿é—®å“åº”ï¼Œå¦åˆ™å°†å¤±è´¥å¹¶æŠ¥é”™ã€‚")])]),t._v(" "),s("p",[t._v("å“åº”çš„è¯·æ±‚å¤´ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("200 OK\nContent-Type:text/html; charset=UTF-8\nAccess-Control-Allow-Origin: *\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("blockquote",[s("p",[t._v("å¯¹äºå“åº”å¤´ ï¼ˆResponse Headerï¼‰å¤„ç†è·¨æºè¯·æ±‚æ—¶ï¼ŒJavaScript åªèƒ½è®¿é—® å®‰å…¨çš„å“åº”å¤´ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Cache-Control")])]),t._v(" "),s("li",[s("code",[t._v("Content-Language")])]),t._v(" "),s("li",[s("code",[t._v("Content-Type")])]),t._v(" "),s("li",[s("code",[t._v("Expires")])]),t._v(" "),s("li",[s("code",[t._v("Last-Modified")])]),t._v(" "),s("li",[s("code",[t._v("Pragma")])])]),t._v(" "),s("p",[t._v("å¯¹äºå…¶ä»–çš„å“åº”å¤´éƒ½ä¼šå¯¼è‡´å‡ºé”™ã€‚")]),t._v(" "),s("p",[t._v("è¦æˆäºˆ JavaScript å¯¹ä»»ä½•å…¶ä»–è¯·æ±‚çš„è®¿é—®æƒé™ï¼ŒæœåŠ¡å™¨å¿…é¡»å‘é€  "),s("code",[t._v("Access-Control-Expose-Headers")]),t._v("  headerã€‚å®ƒåŒ…å«ä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„åº”è¯¥è¢«è®¾ç½®ä¸ºå¯è®¿é—®çš„éå®‰å…¨ header åç§°åˆ—è¡¨ã€‚")])]),t._v(" "),s("p",[s("strong",[t._v("å¯¹äºéå®‰å…¨çš„è¯·æ±‚")]),t._v("ï¼š")]),t._v(" "),s("p",[t._v("ä¸ºäº†ä½¿ç”¨ä»»ä½•çš„ HTTP è¯·æ±‚æ–¹æ³•ï¼ˆä¸ä»… GET / POSTï¼Œè¿˜æœ‰å¯èƒ½æ˜¯ PATCHã€DELETE æˆ–è€…å…¶ä»–ï¼‰ã€‚")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("æµè§ˆå™¨å‘é€é¢„æ£€è¯·æ±‚ï¼Œæ¥è¯·æ±‚è®¸å¯ï¼š")]),t._v(" "),s("p",[t._v("é¢„æ£€è¯·æ±‚ä½¿ç”¨  "),s("code",[t._v("OPTIONS")]),t._v("  æ–¹æ³•ï¼Œå®ƒæ²¡æœ‰ bodyï¼Œä½†æ˜¯æœ‰ä¸‰ä¸ª headerï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Access-Control-Request-Method")]),t._v("  header å¸¦æœ‰éå®‰å…¨è¯·æ±‚çš„æ–¹æ³•ã€‚")]),t._v(" "),s("li",[s("code",[t._v("Access-Control-Request-Headers")]),t._v("  header æä¾›ä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„éå®‰å…¨ HTTP-header åˆ—è¡¨ã€‚")])])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœæœåŠ¡å™¨åŒæ„å¤„ç†è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šè¿›è¡Œå“åº”ä»¥ä¸‹å“åº”å¤´ä¿¡æ¯ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Access-Control-Allow-Origin")]),t._v("  å¿…é¡»ä¸º  "),s("code",[t._v("*")]),t._v("  æˆ–è¿›è¡Œè¯·æ±‚çš„æºæ‰èƒ½å…è®¸æ­¤è¯·æ±‚ã€‚")]),t._v(" "),s("li",[s("code",[t._v("Access-Control-Allow-Methods")]),t._v("  å¿…é¡»å…·æœ‰å…è®¸çš„æ–¹æ³•ã€‚")]),t._v(" "),s("li",[s("code",[t._v("Access-Control-Allow-Headers")]),t._v("  å¿…é¡»å…·æœ‰ä¸€ä¸ªå…è®¸çš„ header åˆ—è¡¨ã€‚")]),t._v(" "),s("li",[s("code",[t._v("Access-Control-Max-Age")]),t._v("  å¯ä»¥æŒ‡å®šç¼“å­˜æ­¤æƒé™çš„ç§’æ•°ã€‚å› æ­¤ï¼Œæµè§ˆå™¨ä¸æ˜¯å¿…é¡»ä¸ºæ»¡è¶³ç»™å®šæƒé™çš„åç»­è¯·æ±‚å‘é€é¢„æ£€ã€‚")])])])]),t._v(" "),s("p",[t._v("ğŸŒ° ä¾‹å­ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å‘é€é¢„æ£€è¯·æ±‚ /preflight requestï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("OPTIONS /service.json\nHost: site.com\nOrigin: https://somewhere.info\nAccess-Control-Request-Method: PATCH\nAccess-Control-Request-Headers: Content-Type,API-Key\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("blockquote",[s("ul",[s("li",[s("code",[t._v("Origin")]),t._v(" ï¼š æ¥æºã€‚")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Access-Control-Request-Method")]),t._v("  ï¼š è¯·æ±‚æ–¹æ³•ã€‚")]),t._v(" "),s("li",[s("code",[t._v("Access-Control-Request-Headers")]),t._v("  ï¼š ä»¥é€—å·åˆ†éš”çš„éå®‰å…¨ header åˆ—è¡¨ã€‚")])])])]),t._v(" "),s("li",[s("p",[t._v("æœåŠ¡å™¨å“åº”é¢„æ£€å“åº” /preflight responseï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Access-Control-Allow-Origin: https://somewhere.page\nAccess-Control-Allow-Methods: PUT,PATCH,DELETE\nAccess-Control-Allow-Headers: Content-Type,API-Key\nAccess-Control-Max-Age: 86400\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("blockquote",[s("p",[t._v("è¿™å°†å…è®¸åç»­é€šä¿¡ï¼Œå¦åˆ™ä¼šè§¦å‘é”™è¯¯ã€‚å¦‚æœæœåŠ¡å™¨å°†æ¥éœ€è¦å…¶ä»–æ–¹æ³•å’Œ headerï¼Œåˆ™å¯ä»¥é€šè¿‡å°†è¿™äº›æ–¹æ³•å’Œ header æ·»åŠ åˆ°åˆ—è¡¨ä¸­æ¥é¢„å…ˆå…è®¸å®ƒä»¬ã€‚")]),t._v(" "),s("p",[t._v("å¯ä»¥çœ‹åˆ°  "),s("code",[t._v("PATCH")]),t._v("  åœ¨  "),s("code",[t._v("Access-Control-Allow-Methods")]),t._v("  ä¸­ï¼Œ "),s("code",[t._v("Content-Type,API-Key")]),t._v("  åœ¨åˆ—è¡¨  "),s("code",[t._v("Access-Control-Allow-Headers")]),t._v("  ä¸­ï¼Œå› æ­¤å®ƒå°†å‘é€ä¸»è¯·æ±‚ã€‚")]),t._v(" "),s("p",[s("code",[t._v("Access-Control-Max-Age")]),t._v("  å¸¦æœ‰ä¸€ä¸ªè¡¨ç¤ºç§’çš„æ•°å­—ï¼Œåˆ™åœ¨ç»™å®šçš„æ—¶é—´å†…ï¼Œé¢„æ£€æƒé™ä¼šè¢«ç¼“å­˜ã€‚ä¸Šé¢çš„å“åº”å°†è¢«ç¼“å­˜ 86400 ç§’ï¼Œä¹Ÿå°±æ˜¯ä¸€å¤©ã€‚åœ¨æ­¤æ—¶é—´èŒƒå›´å†…ï¼Œåç»­è¯·æ±‚å°†ä¸ä¼šè§¦å‘é¢„æ£€ã€‚å‡è®¾å®ƒä»¬ç¬¦åˆç¼“å­˜çš„é…é¢ï¼Œåˆ™å°†ç›´æ¥å‘é€å®ƒä»¬ã€‚")])])]),t._v(" "),s("li",[s("p",[t._v("å‘é€å®é™…è¯·æ±‚ï¼š")]),t._v(" "),s("p",[t._v("æœ€åçš„è¯·æ±‚å¤´ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("PATCH /service.json\nHost: site.com\nContent-Type: application/json\nAPI-Key: secret\nOrigin: https://javascript.info\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("å“åº”å¤´åº”è¯¥æ·»åŠ   "),s("code",[t._v("Access-Control-Allow-Origin")]),t._v(" ã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Access-Control-Allow-Origin: https://somewhere.pages\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])]),t._v(" "),s("h3",{attrs:{id:"fetch-è¯·æ±‚å‡­è¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fetch-è¯·æ±‚å‡­è¯"}},[t._v("#")]),t._v(" Fetch  è¯·æ±‚å‡­è¯")]),t._v(" "),s("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œç”± JavaScript ä»£ç å‘èµ·çš„è·¨æºè¯·æ±‚ï¼Œä¸ä¼šå¸¦ä»»ä½•å‡­æ®ï¼ˆcookies æˆ–è€… HTTP ç½‘ç»œè®¤è¯ï¼‰ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å› ä¸ºå…·æœ‰å‡­æ®çš„è¯·æ±‚æ¯”æ²¡æœ‰å‡­æ®çš„è¯·æ±‚è¦å¼ºå¤§å¾—å¤šã€‚å¦‚æœè¢«å…è®¸ï¼Œå®ƒä¼šä½¿ç”¨å®ƒä»¬çš„å‡­æ®æˆäºˆ JavaScript ä»£è¡¨ç”¨æˆ·è¡Œä¸ºå’Œè®¿é—®æ•æ„Ÿä¿¡æ¯çš„å…¨éƒ¨æƒåŠ›ã€‚")])]),t._v(" "),s("p",[t._v("æ‰€ä»¥è¦åœ¨ è·¨æºè¯·æ±‚ å¿…é¡»æ˜¾å¼åœ°å¸¦æœ‰å…è®¸è¯·æ±‚çš„å‡­æ®å’Œé™„åŠ  headerã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å­ï¼šè¦åœ¨  "),s("code",[t._v("fetch")]),t._v("  ä¸­å‘é€å‡­æ®ï¼Œéœ€è¦æ·»åŠ   "),s("code",[t._v('credentials: "include"')]),t._v("  é€‰é¡¹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://another.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("credentials")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"include"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("blockquote",[s("p",[t._v("ç°åœ¨ï¼Œ "),s("code",[t._v("fetch")]),t._v("  å°†æŠŠæºè‡ª  "),s("code",[t._v("another.com")]),t._v("  çš„ cookie å’Œæˆ‘ä»¬çš„è¯·æ±‚å‘é€åˆ°è¯¥ç½‘ç«™ã€‚")])]),t._v(" "),s("p",[t._v("å¦‚æœæœåŠ¡å™¨åŒæ„æ¥å— "),s("strong",[t._v("å¸¦æœ‰å‡­æ®")]),t._v(" çš„è¯·æ±‚ï¼Œåˆ™é™¤äº†  "),s("code",[t._v("Access-Control-Allow-Origin")]),t._v("  å¤–ï¼ŒæœåŠ¡å™¨è¿˜åº”è¯¥åœ¨å“åº”ä¸­æ·»åŠ  header  "),s("code",[t._v("Access-Control-Allow-Credentials: true")]),t._v(" ã€‚")]),t._v(" "),s("p",[t._v("å“åº”å¤´å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("200 OK\nAccess-Control-Allow-Origin: https://somewhere.pages\nAccess-Control-Allow-Credentials: true\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("æ³¨æ„ï¼šå¯¹äºå…·æœ‰å‡­æ®çš„è¯·æ±‚ï¼Œç¦æ­¢  "),s("code",[t._v("Access-Control-Allow-Origin")]),t._v("  ä½¿ç”¨æ˜Ÿå·  "),s("code",[t._v("*")]),t._v(" ã€‚å¦‚ä¸Šæ‰€ç¤ºï¼Œå®ƒå¿…é¡»æœ‰ä¸€ä¸ªç¡®åˆ‡çš„æºã€‚è¿™æ˜¯å¦ä¸€é¡¹å®‰å…¨æªæ–½ï¼Œä»¥ç¡®ä¿æœåŠ¡å™¨çœŸçš„çŸ¥é“å®ƒä¿¡ä»»çš„å‘å‡ºæ­¤è¯·æ±‚çš„æ˜¯è°ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);