(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{695:function(t,s,a){"use strict";a.r(s);var n=a(29),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("ul",[a("li",[t._v("说说对 SPA（单页面应用）的理解？优缺点？")]),t._v(" "),a("li",[t._v("如何实现 SPA？")])])]),t._v(" "),a("h2",{attrs:{id:"概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),a("p",[t._v("SPA（Single-page Application） 单页面应用是一种 "),a("strong",[t._v("网络应用程序或者网站的模型")]),t._v("；")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("通过动态重写当前页面与用户交互，避免了页面切换打断用户体验。")])]),t._v(" "),a("li",[a("p",[t._v("在单页面应用中，必要的代码都通过单个页面加载和检索，或者根据需要（响应用户的操作）动态加载适当的资源添加到页面中。")])]),t._v(" "),a("li",[a("p",[t._v("页面在任何时间点都不应该会重新加载，也不会将控制转移到其他页面。")]),t._v(" "),a("blockquote",[a("p",[t._v("理解例子：看作这个页面应用为一个杯子，杯子中可以装不同的内容，变的始终是杯子中的内容，而不是杯子。")])])]),t._v(" "),a("li",[a("p",[t._v("常见的 JavaScript 框架 Vue、React、Angular、ember 都属于 SPA。")])])]),t._v(" "),a("p",[t._v("MPA（Multi-page Application 多页面应用），意味着应用中有多个页面，每个页面都是一个主页面，当访问另一个页面的时候都需要重新加载 HTML、CSS、JavaScript 代码，公共文件则是按需加载。")]),t._v(" "),a("p",[t._v("SPA 与 MPA 两者对比：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("SPA")]),t._v(" "),a("th",[t._v("MPA")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("刷新方式")]),t._v(" "),a("td",[t._v("局部刷新")]),t._v(" "),a("td",[t._v("整页刷新")])]),t._v(" "),a("tr",[a("td",[t._v("URL 模式")]),t._v(" "),a("td",[t._v("哈希模式")]),t._v(" "),a("td",[t._v("历史模式")])]),t._v(" "),a("tr",[a("td",[t._v("SEO 搜索引擎优化")]),t._v(" "),a("td",[t._v("难以实现")]),t._v(" "),a("td",[t._v("容易实现")])]),t._v(" "),a("tr",[a("td",[t._v("数据传递")]),t._v(" "),a("td",[t._v("容易")]),t._v(" "),a("td",[t._v("通过 URL、Cookie、localStorage")])]),t._v(" "),a("tr",[a("td",[t._v("页面切换")]),t._v(" "),a("td",[t._v("速度快，用户体验好")]),t._v(" "),a("td",[t._v("需要切换加载资源，速度慢，用户体验差")])]),t._v(" "),a("tr",[a("td",[t._v("维护成本")]),t._v(" "),a("td",[t._v("相对容易")]),t._v(" "),a("td",[t._v("相对复杂")])])])]),t._v(" "),a("h2",{attrs:{id:"spa-的优缺点分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spa-的优缺点分析"}},[t._v("#")]),t._v(" SPA 的优缺点分析")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("ul",[a("li",[t._v("具有桌面应用的即时性、网站的可移植性、可访问性特点；")]),t._v(" "),a("li",[t._v("用户体验好、快速，内容改变不需要重新加载页面；")]),t._v(" "),a("li",[t._v("良好的前后端分离，分工明确；")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ul",[a("li",[t._v("不利于搜索引擎 SEO 优化")]),t._v(" "),a("li",[t._v("首次渲染速度相对较慢")])]),t._v(" "),a("p",[t._v("TODO：SPA 实现 搜索引擎 SEO 优化；")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("如何解决 SPA 首屏加载速度慢；")])])]),t._v(" "),a("h2",{attrs:{id:"spa-首屏加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spa-首屏加载"}},[t._v("#")]),t._v(" SPA 首屏加载")]),t._v(" "),a("p",[a("strong",[t._v("首屏加载的概念")]),t._v("：浏览器从响应用户输入网址，到首屏内容渲染完成的事件，此时整个网页不一定需要全部渲染完成，但是需要展示当前视窗需要的内容；")]),t._v(" "),a("p",[t._v("计算首屏加载时间：")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("点击查看")]),t._v(" "),a("p",[t._v("两种方法：")]),t._v(" "),a("p",[t._v("通过  "),a("code",[t._v("DOMContentLoad")]),t._v("  事件：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DOMContentLoaded'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  conosole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'first contentful painting'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("通过  "),a("code",[t._v("performance")]),t._v("  ：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("performance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntriesByName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"first-contentful-paint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("p",[t._v("解决单页应用首屏进入加载慢的问题：")]),t._v(" "),a("blockquote",[a("p",[t._v("页面渲染导致加载速度慢的因素有：")]),t._v(" "),a("ul",[a("li",[t._v("网络延时；")]),t._v(" "),a("li",[t._v("资源文件体积过大；")]),t._v(" "),a("li",[t._v("资源是否重复发送请求去加载；")]),t._v(" "),a("li",[t._v("加载脚本时，渲染的内容堵塞了；")])])]),t._v(" "),a("p",[t._v("解决方案：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("减小入口文件体积；")]),t._v(" "),a("p",[t._v("常见手段是路由懒加载，把不同的路由对应不同的组件分割成不同的代码块，待路由被请求的时候会单独打包路由，使得入口文件变小，加载速度大大增加。")]),t._v(" "),a("p",[t._v("🌰 动态加载路由例子：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("routes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("component")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/views/main.vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("blockquote",[a("p",[t._v("函数形式加载路由，可以把各自的路由文件分别打包吗，只有在解析给定的路由时才会加载路由组件。")])])]),t._v(" "),a("li",[a("p",[t._v("静态资源本地缓存；")]),t._v(" "),a("ul",[a("li",[t._v("图片资源压缩大小；")])])]),t._v(" "),a("li",[a("p",[t._v("UI 框架按需加载；（组件按序引用）")])]),t._v(" "),a("li",[a("p",[t._v("组件重复打包问题，避免重复加载组件；")])]),t._v(" "),a("li",[a("p",[t._v("使用 Gzip 压缩；")]),t._v(" "),a("p",[t._v("需要浏览器支持。")])]),t._v(" "),a("li",[a("p",[t._v("使用 SSR（Server Side）：")]),t._v(" "),a("p",[t._v("服务器端的渲染，组件或者页面通过服务器生成 HTML 代码，再发送到浏览器。")])])]),t._v(" "),a("h2",{attrs:{id:"参考来源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考来源"}},[t._v("#")]),t._v(" 参考来源")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("a",{attrs:{href:"https://vue3js.cn/interview/vue/spa.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试官：你对 SPA 单页面的理解，它的优缺点分别是什么？如何实现 SPA 应用呢 | web 前端面试 - 面试官系列 (vue3js.cn)"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://vue3js.cn/interview/vue/first_page_time.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试官：SPA 首屏加载速度慢的怎么解决？ | web 前端面试 - 面试官系列 (vue3js.cn)"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);s.default=e.exports}}]);