(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{563:function(s,t,a){"use strict";a.r(t);var n=a(29),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("JavaScript åœ¨å¤„ç†å‡½æ•°æ—¶æä¾›äº†éå‡¡çš„çµæ´»æ€§ã€‚é™¤äº†å‰é¢æåˆ°çš„ è¢«ä¼ é€’ï¼Œç”¨ä½œå¯¹è±¡ï¼Œè¿˜å¯ä»¥ "),a("strong",[s._v("è½¬å‘è°ƒç”¨")]),s._v(" å’Œ "),a("strong",[s._v("è£…é¥°")]),s._v(" å‡½æ•°ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å¼•å­-é€æ˜ç¼“å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å­-é€æ˜ç¼“å­˜"}},[s._v("#")]),s._v(" å¼•å­ï¼šé€æ˜ç¼“å­˜")]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ / æœ‰ä¸€ä¸ª CPU é‡è´Ÿè½½çš„å‡½æ•°  "),a("code",[s._v("slow(x)")]),s._v(" ï¼Œä½†å®ƒçš„ç»“æœæ˜¯ç¨³å®šçš„ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºç›¸åŒçš„  "),a("code",[s._v("x")]),s._v(" ï¼Œå®ƒæ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚å¦‚æœç»å¸¸è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¯èƒ½å¸Œæœ›å°† "),a("strong",[s._v("ç»“æœç¼“å­˜")]),s._v(" ä¸‹æ¥ï¼Œä»¥é¿å…åœ¨é‡æ–°è®¡ç®—ä¸ŠèŠ±è´¹é¢å¤–çš„æ—¶é—´ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ä¸æ˜¯å°†è¿™ä¸ªåŠŸèƒ½æ·»åŠ åˆ°  "),a("code",[s._v("slow()")]),s._v("  ä¸­ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ª "),a("strong",[s._v("åŒ…è£…å™¨å‡½æ•°")]),s._v("ï¼ˆWrapperï¼‰ï¼Œè¯¥å‡½æ•°å¢åŠ äº†ç¼“å­˜åŠŸèƒ½ã€‚")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... å¯èƒ½ä¼šæœ‰é‡è´Ÿè½½çš„ CPU å¯†é›†å‹å·¥ä½œ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ,,, ")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("called with ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" x\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è£…é¥°å™¨å‡½æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" cache "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœç¼“å­˜èµ·æœ‰å¯¹åº”çš„ç»“æœ")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ™ä»ç¼“å­˜ä¸­è¯»å–ç»“æœ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦åˆ™å°±è°ƒç”¨ func(x)")]),s._v("\n    \n    cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç„¶åå°† x æ·»åŠ åˆ°ç¼“å­˜")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nslow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// slow(1) è¢«ç¼“å­˜ä¸‹æ¥å¹¶è¿”å›ç»“æœ")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'again'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿”å›ç¼“å­˜ä¸­çš„ç»“æœ")]),s._v("\n\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// slow(2) è¢«ç¼“å­˜ä¸‹æ¥å¹¶è¿”å›ç»“æœ")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'again'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿”å›ç¼“å­˜ä¸­çš„ç»“æœ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("blockquote",[a("p",[a("code",[s._v("cachingDecorator")]),s._v("  æ˜¯ä¸€ä¸ª "),a("strong",[s._v("è£…é¥°å™¨ï¼ˆdecoratorï¼‰")]),s._v("ï¼šä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒæ¥å—å¦ä¸€ä¸ªå‡½æ•°å¹¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚")]),s._v(" "),a("p",[s._v("æ€æƒ³ï¼šå¯ä»¥ä¸ºä»»ä½•ä¸€ä¸ªå‡½æ•°è°ƒç”¨  "),a("code",[s._v("cachingDecorator")]),s._v(" ï¼Œå®ƒå°†è¿”å›ç¼“å­˜åŒ…è£…å™¨ã€‚é€šè¿‡å°†ç¼“å­˜ä¸ä¸»å‡½æ•°ä»£ç åˆ†å¼€ï¼Œä½¿ä¸»å‡½æ•°ä»£ç å˜å¾—æ›´ç®€å•ã€‚")]),s._v(" "),a("p",[a("code",[s._v("cachingDecorator(func)")]),s._v("  çš„ç»“æœæ˜¯ä¸€ä¸ª â€œåŒ…è£…å™¨â€ï¼š "),a("code",[s._v("function(x)")]),s._v("  å°†  "),a("code",[s._v("func(x)")]),s._v("  çš„è°ƒç”¨ â€œåŒ…è£…â€ åˆ°ç¼“å­˜é€»è¾‘ä¸­ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/simon1uo/image-flow@master/image/DC1V4M.png",alt:"image-20220511140925295"}})]),s._v(" "),a("p",[s._v("ä»å¤–éƒ¨ä»£ç æ¥çœ‹ï¼ŒåŒ…è£…çš„  "),a("code",[s._v("slow")]),s._v("  å‡½æ•°æ‰§è¡Œçš„ä»ç„¶æ˜¯ä¸ä¹‹å‰ç›¸åŒçš„æ“ä½œã€‚å®ƒåªæ˜¯åœ¨å…¶è¡Œä¸ºä¸Šæ·»åŠ äº†ç¼“å­˜åŠŸèƒ½ã€‚")])]),s._v(" "),a("p",[s._v("ä½¿ç”¨  "),a("code",[s._v("cachingDecorator")]),s._v("  å¹¶ä¸æ”¹å˜åŸæ¥å‡½æ•°çš„ä»£ç çš„å¥½å¤„ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("cachingDecorator")]),s._v("  æ˜¯å¯é‡ç”¨çš„ã€‚")]),s._v(" "),a("li",[s._v("ç¼“å­˜é€»è¾‘æ˜¯ç‹¬ç«‹çš„ï¼Œå®ƒæ²¡æœ‰å¢åŠ   "),a("code",[s._v("slow")]),s._v("  æœ¬èº«çš„å¤æ‚æ€§ã€‚")]),s._v(" "),a("li",[s._v("å¦‚æœéœ€è¦ï¼Œå¯ä»¥ç»„åˆå¤šä¸ªè£…é¥°å™¨ï¼ˆå…¶ä»–è£…é¥°å™¨å°†éµå¾ªåŒæ ·çš„é€»è¾‘ï¼‰ã€‚")])]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ / ä¸Šé¢çš„ "),a("strong",[s._v("ç¼“å­˜è£…é¥°å™¨")]),s._v(" ä¸é€‚ç”¨äº "),a("strong",[s._v("å¯¹è±¡çš„æ–¹æ³•")]),s._v("ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" worker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("someMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... CPU è¿‡è½½ä»»åŠ¡")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Called with "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("someMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (*)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// function cachingDecorator(func) ... ")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¯ç”¨")]),s._v("\n\nwork"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸å¯ç”¨")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("blockquote",[a("p",[s._v("å› ä¸ºè£…é¥°å™¨è¯•å›¾è®¿é—®  "),a("code",[s._v("this.someMethod")]),s._v("  æ—¶ ï¼Œè¿™é‡Œçš„  "),a("code",[s._v("this")]),s._v("  ä¸º  "),a("code",[s._v("undefined")]),s._v(" ã€‚åŒ…è£…å™¨å°†è°ƒç”¨ä¼ é€’ç»™åŸå§‹æ–¹æ³•ï¼Œä½†æ²¡æœ‰ä¸Šä¸‹æ–‡  "),a("code",[s._v("this")]),s._v(" ã€‚å› æ­¤ï¼Œå‘ç”Ÿäº†é”™è¯¯ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"func-call"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#func-call"}},[s._v("#")]),s._v(" "),a("code",[s._v("func.call()")])]),s._v(" "),a("p",[a("strong",[s._v("å¯ä»¥ä½¿ç”¨å†…å»ºå‡½æ•°æ–¹æ³•  "),a("code",[s._v("func.call(content, ...args)")])]),s._v(" è§£å†³è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒå…è®¸è°ƒç”¨ä¸€ä¸ª "),a("strong",[s._v("æ˜¾å¼è®¾ç½®  "),a("code",[s._v("this")])]),s._v(" çš„å‡½æ•°ã€‚")]),s._v(" "),a("p",[s._v("è¯­æ³•ä¸ºï¼š "),a("code",[s._v("func.call(context, arg1, arg2, ...)")]),s._v(" ã€‚")]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ /  "),a("code",[s._v("call")]),s._v("  çš„ç®€å•åº”ç”¨ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("è¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯è°ƒç”¨  "),a("code",[s._v("func")]),s._v("  å‡½æ•°ï¼Œå¹¶ä¸”ä¼ å…¥å‚æ•°ä¸º  "),a("code",[s._v("1, 2, 3")]),s._v(" ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯  "),a("code",[s._v("func.call")]),s._v("  è¿˜ä¼šå°†  "),a("code",[s._v("this")]),s._v("  è®¾ç½®ä¸º  "),a("code",[s._v("obj")]),s._v(" ã€‚")])]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"John"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" admin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Admin"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// ä½¿ç”¨ call å°†ä¸åŒçš„å¯¹è±¡ä¼ é€’ä¸º "this"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// John")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sayHi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("admin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Admin")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("blockquote",[a("p",[s._v("æœ‰å‚æ•°çš„æŒ‡å®šä¸Šä¸‹æ–‡è°ƒç”¨ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("say")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("phrase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("': '")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" phrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Simon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("say")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("p",[s._v("ğŸŒ° ä¾‹å­ / ä¿®æ”¹å…ˆå‰çš„ "),a("strong",[s._v("ç¼“å­˜è£…é¥°å™¨")]),s._v(" ä¾‹å­ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" worker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("someMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... CPU è¿‡è½½ä»»åŠ¡")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Called with "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("someMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (*)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" cache "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n   \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nworker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è°ƒç”¨ç¼“å­˜")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("blockquote",[a("p",[s._v("åœ¨æ­¤ä¹‹ä¸­  "),a("code",[s._v("this")]),s._v("  çš„ä¼ é€’è¿‡ç¨‹ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("åœ¨ç»è¿‡è£…é¥°ä¹‹åï¼Œ "),a("code",[s._v("worker.slow")]),s._v("  ç°åœ¨æ˜¯åŒ…è£…å™¨  "),a("code",[s._v("function (x) { ... }")]),s._v(" ã€‚")]),s._v(" "),a("li",[s._v("å› æ­¤ï¼Œå½“  "),a("code",[s._v("worker.slow(2)")]),s._v("  æ‰§è¡Œæ—¶ï¼ŒåŒ…è£…å™¨å°†  "),a("code",[s._v("2")]),s._v("  ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”  "),a("code",[s._v("this=worker")]),s._v(" ï¼ˆå®ƒæ˜¯ç‚¹ç¬¦å·  "),a("code",[s._v(".")]),s._v("  ä¹‹å‰çš„å¯¹è±¡ï¼‰ã€‚")]),s._v(" "),a("li",[s._v("åœ¨åŒ…è£…å™¨å†…éƒ¨ï¼Œå‡è®¾ç»“æœå°šæœªç¼“å­˜ï¼Œ "),a("code",[s._v("func.call(this, x)")]),s._v("  å°†å½“å‰çš„  "),a("code",[s._v("this")]),s._v(" ï¼ˆ "),a("code",[s._v("=worker")]),s._v(" ï¼‰å’Œå½“å‰çš„å‚æ•°ï¼ˆ "),a("code",[s._v("=2")]),s._v(" ï¼‰ä¼ é€’ç»™åŸå§‹æ–¹æ³•ã€‚")])])]),s._v(" "),a("h2",{attrs:{id:"ä¼ é€’å¤šä¸ªå‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¼ é€’å¤šä¸ªå‚æ•°"}},[s._v("#")]),s._v(" ä¼ é€’å¤šä¸ªå‚æ•°")]),s._v(" "),a("p",[s._v("å¦‚æœè¦å°† "),a("strong",[s._v("ç¼“å­˜è£…é¥°å™¨")]),s._v(" å†™å¾—æ›´åŠ é€šç”¨ï¼Œå°±è¦ä½¿å®ƒå¯ä»¥æ¥æ”¶å¤šä¸ªå‚æ•°çš„å‡½æ•°ã€‚")]),s._v(" "),a("p",[s._v("ä¾‹å¦‚ï¼Œç°åœ¨çš„  "),a("code",[s._v("woker.slow")]),s._v("  å˜æˆäº†å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" worker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ... ")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" min "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" max \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nworker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("woker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("blockquote",[a("p",[s._v("æ­¤å¤„  "),a("code",[s._v("cachingDecorator")]),s._v("  åº”è¯¥è¦è®°ä½ç›¸åŒå‚æ•°çš„è°ƒç”¨ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ä¹‹å‰ï¼Œå¯¹äºå•ä¸ªå‚æ•°  "),a("code",[s._v("x")]),s._v(" ï¼Œå¯ä»¥åªä½¿ç”¨  "),a("code",[s._v("cache.set(x, result)")]),s._v("  æ¥ä¿å­˜ç»“æœï¼Œå¹¶ä½¿ç”¨  "),a("code",[s._v("cache.get(x)")]),s._v("  æ¥æ£€ç´¢å¹¶è·å–ç»“æœã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ç°åœ¨ï¼Œéœ€è¦è®°ä½ "),a("strong",[s._v("å‚æ•°ç»„åˆ")]),s._v(" "),a("code",[s._v("(min,max)")]),s._v("  çš„ç»“æœã€‚åŸç”Ÿçš„  "),a("code",[s._v("Map")]),s._v("  ä»…å°†å•ä¸ªå€¼ä½œä¸ºé”®ï¼ˆkeyï¼‰ã€‚")])]),s._v(" "),a("blockquote",[a("p",[s._v("è§£å†³æ–¹æ¡ˆçš„æ–¹å‘ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("å®ç°ä¸€ä¸ªæ–°çš„ï¼ˆæˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼‰ç±»ä¼¼ map çš„æ›´é€šç”¨å¹¶ä¸”å…è®¸å¤šä¸ªé”®çš„æ•°æ®ç»“æ„ã€‚")]),s._v(" "),a("li",[s._v("åµŒå¥— Mapï¼š "),a("code",[s._v("cache.set(min)")]),s._v("  å°†æ˜¯ä¸€ä¸ªå­˜å‚¨ï¼ˆé”®å€¼ï¼‰å¯¹  "),a("code",[s._v("(max, result)")]),s._v("  çš„  "),a("code",[s._v("Map")]),s._v(" ã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨  "),a("code",[s._v("cache.get(min).get(max)")]),s._v("  æ¥è·å–  "),a("code",[s._v("result")]),s._v(" ã€‚")]),s._v(" "),a("li",[s._v("å°†ä¸¤ä¸ªå€¼åˆå¹¶ä¸ºä¸€ä¸ªã€‚ä¸ºäº†çµæ´»æ€§ï¼Œå¯ä»¥å…è®¸ä¸ºè£…é¥°å™¨æä¾›ä¸€ä¸ªã€Œå“ˆå¸Œå‡½æ•°ã€ï¼Œè¯¥å‡½æ•°çŸ¥é“å¦‚ä½•å°†å¤šä¸ªå€¼åˆå¹¶ä¸ºä¸€ä¸ªå€¼ã€‚")])])]),s._v(" "),a("p",[s._v("åœ¨å®é™…åº”ç”¨ä¸­ä¸€èˆ¬ä½¿ç”¨ ã€Œå“ˆå¸Œå‡½æ•°ã€å°†å¤šä¸ªå€¼åˆå¹¶ä¸ºä¸€ä¸ªå€¼ã€‚")]),s._v(" "),a("p",[s._v("åœ¨  "),a("code",[s._v("func.call")]),s._v("  æ—¶ï¼Œä¼ å…¥çš„ä¸å†æ˜¯ä¸€ä¸ª  "),a("code",[s._v("x")]),s._v(" ï¼Œå¦‚æœæ˜¯å¤šä¸ªå‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Rest è¯­æ³•çš„  "),a("code",[s._v("...")]),s._v("  æ”¶é›†å¤šä¸ªå‚æ•°ã€‚æ‰€ä»¥å†™ä¸º  "),a("code",[s._v("func.call(this, ...arguments)")]),s._v(" ï¼Œ  "),a("code",[s._v("arguments")]),s._v("   æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰å‚æ•°çš„ä¸ºæ•°ç»„ã€‚")]),s._v(" "),a("p",[s._v("æœ€åï¼Œæ”¹è‰¯è¿‡åçš„  "),a("code",[s._v("cachingDecorator")]),s._v("  ä¸ºï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" worker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("Called with ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("min"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("max"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" min "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" cache "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (*)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("has")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// (**)")]),s._v("\n\n    cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("','")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nworker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachingDecorator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// works")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Again "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" worker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("slow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// same (cached)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("blockquote",[a("p",[s._v("ç°åœ¨è¿™ä¸ªåŒ…è£…å™¨å¯ä»¥å¤„ç†ä»»æ„æ•°é‡çš„å‚æ•°äº†ï¼ˆå°½ç®¡å“ˆå¸Œå‡½æ•°è¿˜éœ€è¦è¢«è¿›è¡Œè°ƒæ•´ä»¥å…è®¸ä»»æ„æ•°é‡çš„å‚æ•°ï¼‰ã€‚")]),s._v(" "),a("p",[s._v("ä¸¤ä¸ªå…³é”®ç‚¹ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("(*)")]),s._v("  å¤„ï¼šè°ƒç”¨  "),a("code",[s._v("hash")]),s._v("  æ¥ä»  "),a("code",[s._v("arguments")]),s._v("  åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„é”®ã€‚è¿™é‡Œçš„ å“ˆå¸Œå‡½æ•° ä½¿ç”¨ä¸€ä¸ª è¿æ¥ç¬¦å°†ä¸¤ä¸ªå‚æ•°è¿æ¥åœ¨ä¸€èµ·ä½œä¸º Mapo çš„é”®ã€‚")]),s._v(" "),a("li",[a("code",[s._v("(**)")]),s._v("  ï¼š ä½¿ç”¨  "),a("code",[s._v("func.call(this, ...arguments)")]),s._v("  å°†åŒ…è£…å™¨è·å–çš„ä¸Šä¸‹æ–‡å’Œæ‰€æœ‰å‚æ•°ä¼ é€’ç»™åŸå§‹å‡½æ•°ã€‚")])])]),s._v(" "),a("h2",{attrs:{id:"func-apply"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#func-apply"}},[s._v("#")]),s._v(" "),a("code",[s._v("func.apply()")])]),s._v(" "),a("p",[s._v("å¯ä»¥ä½¿ç”¨  "),a("code",[s._v("func.apply(this, arguments)")]),s._v("  ä»£æ›¿  "),a("code",[s._v("func.call(this, ...arguments)")]),s._v(" ã€‚")]),s._v(" "),a("p",[s._v("ä½¿ç”¨è¯­æ³•ï¼š "),a("code",[s._v("func.apply(context, args)")]),s._v(" ã€‚")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("context")]),s._v(" ï¼š å¯ä»¥è®¾ç½®ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚")]),s._v(" "),a("li",[a("code",[s._v("args")]),s._v("  ï¼š ç±»æ•°ç»„å¯¹è±¡ä½œä¸ºå‚æ•°åˆ—è¡¨ã€‚")])]),s._v(" "),a("p",[a("strong",[a("code",[s._v("call")]),s._v("  å’Œ  "),a("code",[s._v("apply")]),s._v("  å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼š "),a("code",[s._v("call")]),s._v("  æœŸæœ›ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œè€Œ  "),a("code",[s._v("apply")]),s._v("  æœŸæœ›ä¸€ä¸ªåŒ…å«è¿™äº›å‚æ•°çš„ç±»æ•°ç»„å¯¹è±¡ã€‚")]),s._v(" å…¶ä»–æ–¹é¢ï¼Œä¸¤ä¸ªæ–¹æ³•çš„è°ƒç”¨éƒ½å‡ ä¹æ˜¯ç­‰æ•ˆçš„ã€‚")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("å…³äº  "),a("code",[s._v("args")]),s._v("  çš„å¾®å°åŒºåˆ«ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("Spread è¯­æ³•  "),a("code",[s._v("...")]),s._v("  å…è®¸å°† "),a("strong",[s._v("å¯è¿­ä»£å¯¹è±¡")]),s._v(" "),a("code",[s._v("args")]),s._v("  ä½œä¸ºåˆ—è¡¨ä¼ é€’ç»™  "),a("code",[s._v("call")]),s._v(" ã€‚")]),s._v(" "),a("li",[a("code",[s._v("apply")]),s._v("  åªæ¥å— "),a("strong",[s._v("ç±»æ•°ç»„")]),s._v(" "),a("code",[s._v("args")]),s._v(" ã€‚")])])]),s._v(" "),a("p",[s._v("å¯¹äºå³å¯è¿­ä»£åˆæ˜¯ç±»æ•°ç»„çš„å¯¹è±¡ï¼Œä¾‹å¦‚ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œä½¿ç”¨  "),a("code",[s._v("call")]),s._v("  æˆ–  "),a("code",[s._v("apply")]),s._v("  å‡å¯ï¼Œä½†æ˜¯  "),a("code",[s._v("apply")]),s._v("  å¯èƒ½ä¼šæ›´å¿«ï¼Œå› ä¸ºå¤§å¤šæ•° JavaScript å¼•æ“åœ¨å†…éƒ¨å¯¹å…¶è¿›è¡Œäº†ä¼˜åŒ–ã€‚")]),s._v(" "),a("p",[s._v("è¿™ç§ "),a("strong",[s._v("å°†æ‰€æœ‰å‚æ•°è¿åŒä¸Šä¸‹æ–‡")]),s._v(" ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°è¢«ç§°ä¸º ã€Œå‘¼å«è½¬ç§»ã€ï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("wrapper")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"æ–¹æ³•å€Ÿç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•å€Ÿç”¨"}},[s._v("#")]),s._v(" æ–¹æ³•å€Ÿç”¨")]),s._v(" "),a("p",[s._v("ä½¿ç”¨  "),a("code",[s._v("func.apply")]),s._v("  è§£å†³ä¸Šé¢ å“ˆå¸Œå‡½æ•° å¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„  "),a("code",[s._v("args")]),s._v(" ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨  "),a("code",[s._v("arguments.join()")]),s._v("  ï¼Œå› ä¸º  "),a("code",[s._v("arguments")]),s._v("  åªæ˜¯ç±»æ•°ç»„å¯¹è±¡è€Œä¸æ˜¯çœŸæ­£çš„æ•°ç»„ï¼Œä¸èƒ½ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€‚")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("è¿™ç§ç”¨æ³•ä¸º "),a("strong",[s._v("æ–¹æ³•å€Ÿç”¨")]),s._v("ã€‚ä»å¸¸è§„æ•°ç»„  "),a("code",[s._v("[]")]),s._v("  ä¸­å€Ÿç”¨  "),a("code",[s._v("join")]),s._v("  æ–¹æ³•ï¼Œä½¿ç”¨  "),a("code",[s._v("[].join.call(arguments)")]),s._v("  åœ¨  "),a("code",[s._v("arguments")]),s._v("  çš„ä¸Šä¸‹æ–‡è¿è¡Œå®ƒã€‚")]),s._v(" "),a("h2",{attrs:{id:"è£…é¥°å™¨å’Œå‡½æ•°å±æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è£…é¥°å™¨å’Œå‡½æ•°å±æ€§"}},[s._v("#")]),s._v(" è£…é¥°å™¨å’Œå‡½æ•°å±æ€§")]),s._v(" "),a("p",[s._v("é€šå¸¸ï¼Œç”¨è£…é¥°çš„å‡½æ•°æ›¿æ¢ä¸€ä¸ªå‡½æ•°æˆ–ä¸€ä¸ªæ–¹æ³•æ˜¯å®‰å…¨çš„ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯å¦‚æœåŸå§‹å‡½æ•°æœ‰å±æ€§ï¼Œä¾‹å¦‚  "),a("code",[s._v("func.calledCount")]),s._v("  æˆ–å…¶ä»–ï¼Œåˆ™è£…é¥°åçš„å‡½æ•°å°†ä¸å†æä¾›è¿™äº›å±æ€§ã€‚å› ä¸ºè¿™æ˜¯è£…é¥°å™¨ã€‚")]),s._v(" "),a("p",[s._v("ä¸€äº›åŒ…è£…å™¨å¯èƒ½ä¼šæä¾›è‡ªå·±çš„å±æ€§ã€‚ä¾‹å¦‚ï¼Œè£…é¥°å™¨ä¼šè®¡ç®—ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ä»¥åŠèŠ±è´¹äº†å¤šå°‘æ—¶é—´ï¼Œå¹¶é€šè¿‡åŒ…è£…å™¨å±æ€§æš´éœ²è¿™äº›ä¿¡æ¯ã€‚")]),s._v(" "),a("p",[s._v("å­˜åœ¨ä¸€ç§åˆ›å»ºè£…é¥°å™¨çš„æ–¹æ³•ï¼Œè¯¥è£…é¥°å™¨å¯ä¿ç•™å¯¹å‡½æ•°å±æ€§çš„è®¿é—®æƒé™ï¼Œä½†è¿™éœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„  "),a("code",[s._v("Proxy")]),s._v("  å¯¹è±¡æ¥åŒ…è£…å‡½æ•°ã€‚")]),s._v(" "),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("è£…é¥°å™¨")]),s._v(" æ˜¯ä¸€ä¸ªå›´ç»•æ”¹å˜å‡½æ•°è¡Œä¸ºçš„åŒ…è£…å™¨ã€‚ä¸»è¦å·¥ä½œä»ç”±è¯¥å‡½æ•°æ¥å®Œæˆã€‚ï¼ˆå¯ä»¥çœ‹ä½œæ˜¯æ·»åŠ å‡½æ•°é¢å¤–åŠŸèƒ½çš„ åˆ‡é¢ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªè€Œä¸éœ€è¦æ›´æ”¹å‡½æ•°ä»£ç ï¼‰")])]),s._v(" "),a("li",[a("p",[s._v("å®ç°å‡½æ•° "),a("strong",[s._v("è£…é¥°å™¨")]),s._v(" ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("func.call(context, arg1, arg2 ...)")]),s._v("  ï¼šä½¿ç”¨ç»™å®šçš„ä¸Šä¸‹æ–‡ "),a("strong",[s._v("å¯¹è±¡")]),s._v(" å’Œ "),a("strong",[s._v("å‚æ•°")]),s._v(" è°ƒç”¨  "),a("code",[s._v("func")]),s._v(" .")]),s._v(" "),a("li",[a("code",[s._v("func.apply(context, args)")]),s._v(" ï¼šè°ƒç”¨  "),a("code",[s._v("func")]),s._v("  å°†  "),a("code",[s._v("context")]),s._v("  ä¸Šä¸‹æ–‡å¯¹è±¡ä½œä¸º  "),a("code",[s._v("this")]),s._v("  å’Œ "),a("strong",[s._v("ç±»æ•°ç»„")]),s._v(" çš„  "),a("code",[s._v("args")]),s._v("  ä¼ é€’ç»™å‚æ•°åˆ—è¡¨ã€‚")])])]),s._v(" "),a("li",[a("p",[s._v("é€šå¸¸ "),a("strong",[s._v("å‘¼å«è½¬ç§»")]),s._v(" ä½¿ç”¨  "),a("code",[s._v("apply")]),s._v("  å®Œæˆï¼š")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("wrapper")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("originalFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("æ–¹æ³•å€Ÿç”¨")]),s._v("ï¼š ä»ä¸€ä¸ªå¯¹è±¡ä¸­è·å–ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­ã€Œè°ƒç”¨ã€å®ƒã€‚é‡‡ç”¨æ•°ç»„æ–¹æ³•å¹¶å°†å®ƒä»¬åº”ç”¨äº  "),a("code",[s._v("arguments")]),s._v("  æˆ–è€…ä½¿ç”¨ Rest å‚æ•°å¯¹è±¡ã€‚")])])]),s._v(" "),a("h2",{attrs:{id:"å®ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ä¾‹"}},[s._v("#")]),s._v(" å®ä¾‹")]),s._v(" "),a("h3",{attrs:{id:"é—´è°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—´è°"}},[s._v("#")]),s._v(" é—´è°")]),s._v(" "),a("blockquote",[a("p",[s._v("åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨  "),a("code",[s._v("spy(func)")]),s._v(" ï¼Œå®ƒåº”è¯¥è¿”å›ä¸€ä¸ªåŒ…è£…å™¨ï¼Œè¯¥åŒ…è£…å™¨å°† "),a("strong",[s._v("æ‰€æœ‰å¯¹å‡½æ•°çš„è°ƒç”¨")]),s._v(" ä¿å­˜åœ¨å…¶  "),a("code",[s._v("calls")]),s._v("  å±æ€§ä¸­ã€‚æ¯ä¸ªè°ƒç”¨éƒ½ä¿å­˜åœ¨ä¸€ä¸ª "),a("strong",[s._v("å‚æ•°æ•°ç»„")]),s._v("ã€‚")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("work")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// work æ˜¯ä¸€ä¸ªä»»æ„çš„å‡½æ•°æˆ–æ–¹æ³•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nwork "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("spy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("work")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("work")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 9")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" args "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" work"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("calls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'call:'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "call:1,2", "call:4,5"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("spy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("calls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n  wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("calls "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" wrapper\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"å»¶æ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»¶æ—¶"}},[s._v("#")]),s._v(" å»¶æ—¶")]),s._v(" "),a("blockquote",[a("p",[s._v("åˆ›å»ºä¸€ä¸ªè£…é¥°å™¨  "),a("code",[s._v("delay(f, ms)")]),s._v(" ï¼Œè¯¥è£…é¥°å™¨å°†  "),a("code",[s._v("f")]),s._v("  çš„æ¯æ¬¡è°ƒç”¨å»¶æ—¶  "),a("code",[s._v("ms")]),s._v("  æ¯«ç§’ã€‚")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  conosle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// create wrappers")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" f1000 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" f1500 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// åœ¨ 1000ms åæ˜¾ç¤º "test"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f1500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// åœ¨ 1500ms åæ˜¾ç¤º "test"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("blockquote",[a("p",[s._v("ç”±äº "),a("strong",[s._v("ç®­å¤´å‡½æ•°")]),s._v(" æ²¡æœ‰è‡ªå·±çš„  "),a("code",[s._v("this")]),s._v("  å’Œ  "),a("code",[s._v("arguments")]),s._v(" ï¼Œæ‰€ä»¥  "),a("code",[s._v("f.apply(this, arguments)")]),s._v("  ä» "),a("strong",[s._v("å½“å‰åŒ…è£…å™¨")]),s._v(" ä¸­è·å–  "),a("code",[s._v("this")]),s._v("  å’Œ  "),a("code",[s._v("arguments")]),s._v(" ã€‚")])]),s._v(" "),a("p",[s._v("å¦‚æœä¸ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œéœ€è¦é€šè¿‡ä¸­é—´å˜é‡ä¼ é€’æ­£ç¡®çš„  "),a("code",[s._v("this")]),s._v(" ã€‚")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" savedThis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedThis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"é˜²æŠ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é˜²æŠ–"}},[s._v("#")]),s._v(" é˜²æŠ–")]),s._v(" "),a("blockquote",[a("p",[s._v("é˜²æŠ–å¤„ç†å¯ä»¥çœ‹ä½œè£…é¥°å™¨  "),a("code",[s._v("debounce(f, ms)")]),s._v("  çš„ç»“æœæ˜¯ä¸€ä¸ª "),a("strong",[s._v("åŒ…è£…èµ·")]),s._v("ï¼Œè¯¥åŒ…è£…å™¨æš‚åœå¯¹  "),a("code",[s._v("f")]),s._v("  çš„è°ƒç”¨ï¼Œç›´åˆ°ç»è¿‡  "),a("code",[s._v("ms")]),s._v("  æ¯«ç§’çš„ã€Œå†·å´æœŸã€ï¼Œç„¶åä½¿ç”¨æœ€æ–°çš„å‚æ•°è°ƒç”¨  "),a("code",[s._v("f")]),s._v("  ä¸€æ¬¡ã€‚")]),s._v(" "),a("p",[s._v("ä¾‹å¦‚ï¼Œä¸€ä¸ªå‡½æ•°  "),a("code",[s._v("f")]),s._v("  æ›¿æ¢ä¸º  "),a("code",[s._v("f = debounce(f, 1000)")]),s._v(" ã€‚å¦‚æœåŒ…è£…å™¨å‡½æ•° åˆ†åˆ«åœ¨ 0 msï¼Œ 200 msï¼Œ 500 ms æ—¶è¢«è°ƒç”¨äº†ï¼Œä¹‹åæ²¡æœ‰å…¶ä»–è°ƒç”¨ï¼Œé‚£ä¹ˆå®é™…çš„  "),a("code",[s._v("f")]),s._v("  åªä¼šåœ¨ 1500 ms æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯éœ€è¦ç­‰å¾… æœ€åä¸€æ¬¡è°ƒç”¨æ—¶ ç»è¿‡ 1000 ms å çš„å†·å´æœŸã€‚")]),s._v(" "),a("p",[s._v("å®é™…åº”ç”¨ï¼šå¦‚æœç”¨æˆ·è¾“å…¥ä¸€äº›å†…å®¹ï¼Œåœ¨ç”¨æˆ·è¾“å…¥å®Œæˆåæ‰å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ²¡æœ‰å¿…è¦ä¸ºæ¯ä¸€ä¸ªå­—ç¬¦çš„è¾“å…¥éƒ½å‘é€è¯·æ±‚ã€‚è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œæ‰å¤„ç†æ•´ä¸ªè¾“å…¥ç»“æœã€‚ä¸€èˆ¬ è¾“å…¥æ¡† çš„å‘ç”Ÿè¾“å…¥å˜åŒ–æ—¶ä¼šè°ƒç”¨ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå¦‚æœç›‘å¬æ¯ä¸€æ¬¡å˜åŒ–åˆ™æ•´ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ä¼šè¢«é¢‘ç¹è°ƒç”¨ï¼Œä½¿ç”¨ é˜²æŠ–  "),a("code",[s._v("debounce")]),s._v("  å»¶æ—¶ 1000 ms å¤„ç†ï¼Œåªä¼šåœ¨æœ€åä¸€æ¬¡è¾“å…¥åçš„ 1000 ms åè¢«è°ƒç”¨ä¸€æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°ã€‚")])]),s._v(" "),a("p",[s._v("æ‰‹å†™ä¸€ä¸ª  "),a("code",[s._v("debounce")]),s._v("  é˜²æŠ–è£…é¥°å™¨ï¼š")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("debounce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("timeout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" delay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("h3",{attrs:{id:"èŠ‚æµ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èŠ‚æµ"}},[s._v("#")]),s._v(" èŠ‚æµ")]),s._v(" "),a("blockquote",[a("p",[s._v("èŠ‚æµè£…é¥°å™¨  "),a("code",[s._v("throttle(f, ms)")]),s._v("  è¿”å›ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå½“è¢«å¤šæ¬¡è°ƒç”¨æ—¶ï¼Œåœ¨æ¯ ms æœ€å¤šå°†è°ƒç”¨ä¼ é€’ç»™  "),a("code",[s._v("f")]),s._v("  ä¸€æ¬¡ã€‚")]),s._v(" "),a("p",[s._v("ä¸é˜²æŠ–è£…é¥°å™¨åŒºåˆ†ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("debouce")]),s._v("  ä¼šåœ¨ ã€Œå†·å´æœŸã€ä¹‹åè¿è¡Œå‡½æ•°ä¸€æ¬¡ã€‚é€‚åˆå¤„ç†æœ€ç»ˆç»“æœã€‚")]),s._v(" "),a("li",[a("code",[s._v("throttle")]),s._v("  è¿è¡Œå‡½æ•°çš„é¢‘ç‡ ä¸ä¼šå¤§äº æ‰€ç»™å®šçš„æ—¶é—´  "),a("code",[s._v("ms")]),s._v(" ã€‚é€‚ç”¨äº "),a("strong",[s._v("ä¸åº”è¯¥ç»å¸¸è¿›è¡Œçš„å®šæ—¶æ›´æ–°")]),s._v("ã€‚")]),s._v(" "),a("li",[s._v("é˜²æŠ–æ˜¯æ¥å¬ç”µè¯çš„ç§˜ä¹¦ï¼Œä¸€ç›´ç­‰åˆ° ms æ¯«ç§’ä¹‹åæ‰ä¼šæŠŠä¿¡æ¯ä¼ è¾¾ç»™è€æ¿ã€‚è€ŒèŠ‚æµæ˜¯æ¥å¬ç”µè¯çš„ç§˜ä¹¦ï¼Œæ‰“æ‰°è€æ¿çš„é¢‘ç‡ä¸èƒ½è¶…è¿‡æ¯ ms ä¸€æ¬¡ã€‚")])]),s._v(" "),a("p",[s._v("å®é™…åº”ç”¨ï¼šè¿½è¸ªé¼ æ ‡æŒ‡é’ˆçš„ç§»åŠ¨ï¼Œä»¥æ›´æ–°ç½‘é¡µä¸Šçš„æŸäº›ä¿¡æ¯ã€‚ä½†æ˜¯æ²¡æœ‰å¿…è¦å°†æ¯ä¸€ä¸ªå¾®å°çš„ç§»åŠ¨éƒ½ç»‘å®šäº‹ä»¶æ›´æ–°ï¼Œé«˜äºæ¯ 100 ms çš„æ›´æ–°é¢‘æ¬¡æ²¡æœ‰æ„ä¹‰ã€‚æ‰€ä»¥å°†å…¶åŒ…è£…åˆ° èŠ‚æµè£…é¥°å™¨ï¼Œä½¿ç”¨  "),a("code",[s._v("throttle(update, 1000)")]),s._v("  ä½œä¸ºæ¯æ¬¡é¼ æ ‡ç§»åŠ¨æ—¶è¿è¡Œçš„å‡½æ•°ï¼Œè€Œä¸æ˜¯åŸå§‹çš„  "),a("code",[s._v("update()")]),s._v(" ã€‚è£…é¥°å™¨ä¼šè¢«é¢‘ç¹è°ƒç”¨ï¼Œä½†æ˜¯æœ€å¤šæ¯ 100 ms å°†è°ƒç”¨è£…å‘ç»™  "),a("code",[s._v("update()")]),s._v("  ä¸€æ¬¡ã€‚")])]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("throttle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" isThrottled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      savedArgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      savedThis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  \n \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isThrottled"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      savedArgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" arguments\n      savedThis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    isThrottled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("func")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      isThrottled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedArgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wrapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedThis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" savedArgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        savedArgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" savedThis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" wrapper\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" f1000 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("throttle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("f1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("p",[s._v("è°ƒç”¨  "),a("code",[s._v("throttle(func, ms)")]),s._v("  è¿”å›  "),a("code",[s._v("wrapper")]),s._v(" ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œ  "),a("code",[s._v("wrapper")]),s._v("  å€¼è¿è¡Œ  "),a("code",[s._v("func")]),s._v("  å¹¶è®¾ç½®å†·å´çŠ¶æ€ï¼ˆ "),a("code",[s._v("isThrottled = true")]),s._v(" ï¼‰ã€‚")]),s._v(" "),a("li",[s._v("åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰è°ƒç”¨éƒ½è®°å¿†åœ¨  "),a("code",[s._v("savedArgs/savedThis")]),s._v("  ä¸­ã€‚è¯·æ³¨æ„ï¼Œä¸Šä¸‹æ–‡å’Œå‚æ•°ï¼ˆargumentsï¼‰åŒç­‰é‡è¦ï¼Œåº”è¯¥è¢«è®°ä¸‹æ¥ã€‚")]),s._v(" "),a("li",[s._v("ç»è¿‡  "),a("code",[s._v("ms")]),s._v("  æ¯«ç§’åï¼Œè§¦å‘  "),a("code",[s._v("setTimeout")]),s._v("  ä¸­çš„å›è°ƒå‡½æ•°ã€‚å†·å´çŠ¶æ€ç§»é™¤ï¼ˆ "),a("code",[s._v("isThrottled = false")]),s._v(" ï¼‰ï¼Œå¦‚æœå¿½ç•¥äº†è°ƒç”¨ï¼Œå³å°†ä½¿ç”¨æœ€åè®°å¿†çš„å‚æ•°å’Œä¸Šä¸‹æ–‡æ‰§è¡Œ  "),a("code",[s._v("wrapper")]),s._v(" ï¼ˆå› ä¸ºä¸ä»…ä»…éœ€è¦æ‰§è¡Œ  "),a("code",[s._v("func")]),s._v(" ï¼Œè¿˜è¦è¿›å…¥ å†·å´çŠ¶æ€å¹¶ä¸”è®¾ç½® timeout é‡åˆ¶å®ƒï¼‰ã€‚")])]),s._v(" "),a("p",[s._v("æ‰€ä»¥åœ¨ä¾‹å­ä¸­ï¼Œ åªæ‰§è¡Œäº† ç¬¬ä¸€æ¬¡ å’Œ æœ€åä¸€æ¬¡ã€‚")])])])}),[],!1,null,null,null);t.default=e.exports}}]);