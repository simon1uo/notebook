---
title:  ğŸŒ˜ å®ç°æ¥å£æ‹“å±•
date: 2022-06-11 17:40:14
permalink: /pages/8fff17/
categories:
  -  ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€
  -  ğŸšŸ axios
  -  ğŸ’½ ä½¿ç”¨ TypeScript é‡æ„ axios åº“
tags:
  - 
---
## å®ç°æ¥å£æ‹“å±•

### éœ€æ±‚åˆ†æ

ä¸ºäº†ç”¨æˆ·æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨ axios å‘é€è¯·æ±‚ï¼Œ**å¯ä»¥ä¸ºæ‰€æœ‰æ”¯æŒè¯·æ±‚æ–¹æ³•æ‰©å±•ä¸€äº›æ¥å£**ï¼š

- `axios.request(config)`
- `axios.get(url[, config])`
- `axios.delete(url[, config])`
- `axios.head(url[, config])`
- `axios.options(url[, config])`
- `axios.post(url[, data[, config]])`
- `axios.put(url[, data[, config]])`
- `axios.patch(url[, data[, config]])`

å¦‚æœä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œå°±ä¸å¿…åœ¨ `config` ä¸­æŒ‡å®š `url` ã€`method` ã€`data` è¿™äº›å±æ€§äº†ã€‚

ä»éœ€æ±‚ä¸Šæ¥çœ‹ï¼Œ`axios` ä¸å†å•å•æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªæ··åˆå¯¹è±¡ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œåˆæœ‰å¾ˆå¤šæ–¹æ³•å±æ€§ã€‚



### æ¥å£ç±»å‹å®šä¹‰

æ ¹æ®éœ€æ±‚åˆ†æï¼Œæ··åˆå¯¹è±¡ `axios` æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å†å®ç°ä¸€ä¸ªåŒ…æ‹¬å®ƒå±æ€§æ–¹æ³•çš„ç±»ï¼Œç„¶åæŠŠè¿™ä¸ªç±»çš„åŸå‹å±æ€§å’Œè‡ªèº«å±æ€§å†æ‹·è´åˆ° `axios` ä¸Šã€‚

å…ˆç»™ `axios` æ··åˆå¯¹è±¡å®šä¹‰æ¥å£ç±»å‹ï¼š

`types/index.ts`ï¼š

```typescript
export interface Axios {
  request(config: AxiosRequestConfig): AxiosPromise

  get(url: string, config?: AxiosRequestConfig): AxiosPromise

  delete(url: string, config?: AxiosRequestConfig): AxiosPromise

  head(url: string, config?: AxiosRequestConfig): AxiosPromise

  options(url: string, config?: AxiosRequestConfig): AxiosPromise

  post(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise

  put(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise
}

export interface AxiosInstance extends Axios {
  (config: AxiosRequestConfig): AxiosPromise
}
```

> é¦–å…ˆå®šä¹‰ä¸€ä¸ª `Axios` ç±»å‹æ¥å£ï¼Œå®ƒæè¿°äº† `Axios` ç±»ä¸­çš„å…¬å…±æ–¹æ³•ï¼Œæ¥ç€å®šä¹‰äº† `AxiosInstance` æ¥å£ç»§æ‰¿ `Axios`ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªæ··åˆç±»å‹çš„æ¥å£ã€‚
>
> å¦å¤– `AxiosRequestConfig` ç±»å‹æ¥å£ä¸­çš„ `url` å±æ€§å˜æˆäº†å¯é€‰å±æ€§ã€‚
>
> ```typescript
> export interface AxiosRequestConfig {
>   url?: string
>   // ... 
> }
> ```



### åˆ›å»º `Axios` ç±»

åˆ›å»ºä¸€ä¸ª `Axios` ç±»ï¼Œæ¥å®ç°æ¥å£å®šä¹‰çš„å…¬å…±æ–¹æ³•ã€‚åˆ›å»ºäº†ä¸€ä¸ª `core` ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾å‘é€è¯·æ±‚æ ¸å¿ƒæµç¨‹çš„ä»£ç ã€‚åˆ›å»º `Axios.ts` æ–‡ä»¶ï¼š

`src/core/Axios.ts`ï¼š

```typescript
import { AxiosPromise, AxiosRequestConfig, Method } from '../types'
import dispatchRequest from './dispatchRequest'

export default class Axios {
  request(config: AxiosRequestConfig): AxiosPromise {
    return dispatchRequest(config)
  }

  get(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData('get', url, config)
  }

  delete(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData('delete', url, config)
  }

  head(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData('head', url, config)
  }

  options(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData('options', url, config)
  }

  post(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithData('post', url, data, config)
  }

  put(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithData('put', url, data, config)
  }

  patch(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithData('patch', url, data, config)
  }

  _requestMethodWithoutData(method: Method, url: string, config?: AxiosRequestConfig) {
    return this.request(
      Object.assign(config || {}, {
        method,
        url
      })
    )
  }

  _requestMethodWithData(method: Method, url: string, data?: any, config?: AxiosRequestConfig) {
    return this.request(
      Object.assign(config || {}, {
        method,
        url,
        data
      })
    )
  }
}
```

> å…¶ä¸­ `request` æ–¹æ³•çš„åŠŸèƒ½å’Œæˆ‘ä»¬ä¹‹å‰çš„ `axios` å‡½æ•°åŠŸèƒ½æ˜¯ä¸€è‡´ã€‚`axios` å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯å‘é€è¯·æ±‚ã€‚

åŸºäºæ¨¡å—åŒ–ç¼–ç¨‹çš„æ€æƒ³ï¼Œæˆ‘ä»¬æŠŠè¿™éƒ¨åˆ†åŠŸèƒ½æŠ½å‡ºä¸€ä¸ªå•ç‹¬çš„æ¨¡å—ï¼Œåœ¨ `core` ç›®å½•ä¸‹åˆ›å»º `dispatchRequest` æ–¹æ³•ï¼ŒæŠŠä¹‹å‰ `axios.ts` çš„ç›¸å…³ä»£ç æ‹·è´è¿‡å»ã€‚

`core/dispatchRequest.ts`ï¼š

```typescript
import { AxiosPromise, AxiosRequestConfig, AxiosResponse } from '../types'
import { buildURL } from '../helpers/url'
import { transformRequest, transformResponse } from '../helpers/data'
import { processHeaders } from '../helpers/headers'
import xhr from './xhr'

export default function dispatchRequest(config: AxiosRequestConfig): AxiosPromise {
  processConfig(config)
  return xhr(config).then(res => {
    return transformResponseData(res)
  })
}

function processConfig(config: AxiosRequestConfig): void {
  config.url = transformURL(config)
  config.headers = transformRequestHeader(config)
  config.data = transformRequestData(config)
}

function transformURL(config: AxiosRequestConfig): any {
  const { url, params } = config
  return buildURL(url, params)
}

function transformRequestData(config: AxiosRequestConfig): any {
  return transformRequest(config.data)
}

function transformRequestHeader(config: AxiosRequestConfig): any {
  const { headers = {}, data } = config
  return processHeaders(headers, data)
}

function transformResponseData(res: AxiosResponse): AxiosResponse {
  res.data = transformResponse(res.data)
  return res
}
```

å›åˆ° `Axios.ts` æ–‡ä»¶ï¼Œå¯¹äº `get`ã€`delete`ã€`head`ã€`options`ã€`post`ã€`patch`ã€`put` è¿™äº›æ–¹æ³•ï¼Œéƒ½æ˜¯å¯¹å¤–æä¾›çš„è¯­æ³•ç³–ï¼Œå†…éƒ¨éƒ½æ˜¯é€šè¿‡è°ƒç”¨ `request` æ–¹æ³•å®ç°å‘é€è¯·æ±‚ï¼Œåªä¸è¿‡åœ¨è°ƒç”¨ä¹‹å‰å¯¹ `config` åšäº†ä¸€å±‚åˆå¹¶å¤„ç†ã€‚



### æ··åˆå¯¹è±¡å®ç°

è¦å®ç°æ··åˆå¯¹è±¡ï¼Œé¦–å…ˆè¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶æ¬¡è¿™ä¸ªå¯¹è±¡è¦åŒ…æ‹¬ `Axios` ç±»çš„æ‰€æœ‰åŸå‹å±æ€§å’Œå®ä¾‹å±æ€§ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥å®ç°ä¸€ä¸ªè¾…åŠ©å‡½æ•° `extend`ã€‚

åœ¨ `src/helpers/util.ts`ï¼š

```typescript
export function extend<T, U>(to: T, from: U): T & U {
  for (const key in from) {
    ;(to as T & U)[key] = from[key] as any
  }

  return to as T & U
}
```

> `extend` æ–¹æ³•çš„å®ç°ä½¿ç”¨äº† **äº¤å‰ç±»å‹**ï¼Œå¹¶ä¸”ç”¨åˆ°äº† **ç±»å‹æ–­è¨€**ã€‚æœ€ç»ˆç›®çš„æ˜¯æŠŠ `from` é‡Œé¢çš„ å±æ€§æ‹“å±•åˆ° `to` ä¸­ï¼ŒåŒ…æ‹¬åŸå‹ä¸Šçš„å±æ€§ï¼›

æ¥ä¸‹æ¥å¯¹ `axios.ts` æ–‡ä»¶ä¿®æ”¹ï¼Œç”¨å·¥å‚æ¨¡å¼åˆ›å»ºä¸€ä¸ª `axios` æ··åˆå¯¹è±¡ï¼š

`src/axios.ts`ï¼š

```typescript
import { AxiosInstance } from './types'
import Axios from './core/Axios'
import { extend } from './helpers/util'

function createInstance(): AxiosInstance {
  const context = new Axios()
  const instance = Axios.prototype.request.bind(context)

  extend(instance, context)

  return instance as AxiosInstance
}

const axios = createInstance()

export default axios
```

> åœ¨ `createInstance` å·¥å‚å‡½æ•°çš„å†…éƒ¨ï¼Œé¦–å…ˆå®ä¾‹åŒ–äº† `Axios` å®ä¾‹ `context`ï¼Œæ¥ç€åˆ›å»º `instance` æŒ‡å‘ `Axios.prototype.request` æ–¹æ³•ï¼Œå¹¶ç»‘å®šäº†ä¸Šä¸‹æ–‡ `context`ï¼›æ¥ç€é€šè¿‡ `extend` æ–¹æ³•æŠŠ `context` ä¸­çš„åŸå‹æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•å…¨éƒ¨æ‹·è´åˆ° `instance` ä¸Šï¼Œè¿™æ ·å°±å®ç°äº†ä¸€ä¸ªæ··åˆå¯¹è±¡ï¼š`instance` æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆæ‹¥æœ‰äº† `Axios` ç±»çš„æ‰€æœ‰åŸå‹å’Œå®ä¾‹å±æ€§ï¼Œæœ€ç»ˆè¿”å›è¿™ä¸ª `instance` ã€‚
>
> ç”±äº TypeScript ä¸èƒ½æ­£ç¡®æ¨æ–­ `instance` çš„ç±»å‹ï¼Œæ‰€ä»¥éœ€è¦æ–­è¨€æˆ `AxiosInstance` ç±»å‹ã€‚
>
> è¿™æ ·å°±å¯ä»¥é€šè¿‡ `createInstance` å·¥å‚å‡½æ•°åˆ›å»º `axios` ï¼Œç›´æ¥è°ƒç”¨ `axios` æ–¹æ³•ç›¸å½“äº æ‰§è¡Œäº† `Axios` ç±»çš„ `request` æ–¹æ³•å‘é€è¯·æ±‚ï¼ŒåŒæ ·å¯ä»¥è°ƒç”¨ `axios.get`ã€`axios.post` ç­‰æ–¹æ³•ï¼›



### ç¼–å†™æµ‹è¯• DEMO

åˆ›å»º DEMO æ–‡ä»¶ï¼š

`examples/extend/index.html`ï¼š

```html
<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>base example</title>
</head>
<body>
<script src='/__build__/base.js'></script>
</body>
</html>
```



`examples/extend/app.ts`ï¼š

```typescript
import axios from '../../src'

axios({
  url: '/extend/post',
  method: 'post',
  data: {
    msg: 'hi'
  }
})

axios.request({
  url: '/extend/post',
  method: 'post',
  data: {
    msg: 'hi'
  }
})


axios.get('/extend/get')

axios.options('/extend/options')

axios.delete('/extend/delete')

axios.head('/extend/head')

axios.post('/extend/post', { msg: 'post' })

axios.put('/extend/put', { msg: 'put' })

axios.patch('/extend/put', { msg: 'patch' })
```



## å®ç° `axios` å‡½æ•°é‡è½½

### éœ€æ±‚åˆ†æ

ç›®å‰çš„ `axios` åªæ”¯æŒä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå³ `config`ï¼š

```typescript
axios({
  url: '/extend/post',
  method: 'post',
  data: {
    msg: 'hi'
  }
})
```

å¦‚æœè¦å®ç°åŒæ—¶æ”¯æŒä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸º `url` ç¬¬äºŒä¸ªå‚æ•°ä¸º `config`ï¼Œå¦‚ï¼š

```typescript
axios('/extend/post', {
  method: 'post',
  data: {
    msg: 'hello'
  }
})
```

æœ‰ç‚¹ç±»ä¼¼ `axios.get` çš„å‚æ•°ç±»å‹ï¼Œä¸åŒçš„æ˜¯å¦‚æœéœ€è¦æŒ‡å®š HTTP æ–¹æ³•ï¼Œä»ç„¶éœ€è¦åœ¨ `config` çš„ `method` ä¸­æŒ‡å®šã€‚

éœ€è¦ç”¨åˆ° **å‡½æ•°çš„é‡è½½** çš„çŸ¥è¯†ã€‚



### å®ç°é‡è½½

ä¿®æ”¹ `AxiosInstnace` çš„å®šä¹‰ï¼š

`src/types/index.ts`ï¼š

```typescript
export interface AxiosInstance extends Axios {
  (config: AxiosRequestConfig): AxiosPromise

  (url: string, config?: AxiosRequestConfig): AxiosPromise
}
```

> å¢åŠ ä¸€ç§å‡½æ•°çš„å®šä¹‰ï¼Œæ”¯æŒä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­ `url` æ˜¯æ˜¯å¿…é€‰å‚æ•°ï¼Œ `config` æ˜¯å¯é€‰å‚æ•°ã€‚

ç”±äº `axios` å‡½æ•°å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯ `request` å‡½æ•°ï¼Œæ‰€ä»¥ä¿®æ”¹ `request` å‡½æ•°ã€‚

`src/core/Axios.ts`ï¼š

```typescript
request(url: any, config?: any): AxiosPromise {
    if(typeof url === 'string') {
      if(!config) {
        config = {}
      }
      config.url = url
    } else {
      config = url
    }
    return dispatchRequest(config)
  }
```

> æŠŠ `request` å‡½æ•°çš„å‚æ•°æ”¹æˆ 2 ä¸ªï¼Œ`url` å’Œ `config` éƒ½æ˜¯ `any` ç±»å‹ï¼Œ`config` è¿˜æ˜¯å¯é€‰å‚æ•°ã€‚
>
> æ¥ç€åœ¨å‡½æ•°ä½“ä¸­åˆ¤æ–­ `url` æ˜¯å¦ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚æœä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™ç»§ç»­å¯¹ `config` åˆ¤æ–­ï¼Œå¦‚æœåˆ¤æ–­ `config` ä¸ºç©ºåˆ™æ„é€ ç©ºå¯¹è±¡ï¼Œå°† `url` æ·»åŠ åˆ° `config.url`ã€‚å¦‚æœ `url` ä¸ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™è¯´æ˜ä¼ å…¥çš„å°±æ˜¯å•ä¸ªå‚æ•°ï¼ˆ`config`ï¼‰ï¼Œä¸” `url` å°±æ˜¯ `config`ï¼Œå› æ­¤æŠŠ `url` èµ‹å€¼ç»™ `config`ã€‚
>
> æ³¨æ„ï¼Œè™½ç„¶ä¿®æ”¹äº† `request` çš„å®ç°ï¼Œæ”¯æŒä¸¤ä¸ªå‚æ•°ï¼Œä½†æ˜¯å¯¹å¤–æä¾›çš„ `request` æ¥å£ä»ç„¶ä¿æŒä¸å˜ï¼Œå¯ä»¥ç†è§£ä¸ºè¿™ä»…ä»…æ˜¯ å†…éƒ¨çš„å®ç°çš„ä¿®æ”¹ï¼Œä¸å¤–éƒ¨æ¥å£ä¸å¿…ä¸€è‡´ï¼Œåªè¦ä¿ç•™å…¼å®¹æ¥å£å³å¯ã€‚



### ç¼–å†™æµ‹è¯• DEMO

```typescript
axios({
  url: '/extend/post',
  method: 'post',
  data: {
    msg: 'hi'
  }
})

axios('/extend/post', {
  method: 'post',
  data: {
    msg: 'hello'
  }
})
```



## å®ç°å“åº”æ•°æ®æ”¯æŒæ³›å‹

### éœ€æ±‚åˆ†æ

é€šå¸¸æƒ…å†µï¼Œä¼šå°†åç«¯è¿”å›çš„æ•°æ®æ ¼å¼å•ç‹¬æ”¾å…¥ä¸€ä¸ªæ¥å£ä¸­ï¼š

```typescript
// è¯·æ±‚æ¥å£æ•°æ®
export interface ResponseData<T = any> {
  /**
   * çŠ¶æ€ç 
   * @type { number }
   */
  code: number

  /**
   * æ•°æ®
   * @type { T }
   */
  result: T

  /**
   * æ¶ˆæ¯
   * @type { string }
   */
  message: string
}
```

å¯ä»¥å°† API æŠ½ç¦»æˆå•ç‹¬çš„æ¨¡å—ï¼Œä¾‹å¦‚è·å–ç”¨æˆ·çš„ä¿¡æ¯ï¼š

```typescript
import { ResponseData } from './interface.ts';

export function getUser<T>() {
  return axios.get<ResponseData<T>>('/somepath')
    .then(res => res.data)
    .catch(err => console.error(err))
}
```

æ¥ç€å†™å…¥è¿”å›çš„æ•°æ®ç±»å‹ `User`ï¼Œå¯ä»¥è®© TypeScript é¡ºåˆ©æ¨æ–­å‡ºæƒ³è¦çš„ç±»å‹ï¼š

```typescript
interface User {
  name: string
  age: number
}

async function test() {
  // user è¢«æ¨æ–­å‡ºä¸º
  // {
  //  code: number,
  //  result: { name: string, age: number },
  //  message: string
  // }
  const user = await getUser<User>()
}
```

> ä¸€èˆ¬ç”¨äº Vue Store ä¸­å¼‚æ­¥æ‰§è¡Œè¯·æ±‚æ•°æ®ã€‚



### æ¥å£æ·»åŠ æ³›å‹å‚æ•°

æ ¹æ®éœ€æ±‚åˆ†æï¼Œéœ€è¦ç»™ç›¸å…³çš„æ¥å£å®šä¹‰æ·»åŠ æ³›å‹å‚æ•°ã€‚

ä¿®æ”¹ `type/index.ts` ä¸­ `data` çš„ç±»å‹ï¼š

```typescript
export interface AxiosResponse<T = any> {
  data: T
  status: number
  statusText: string
  headers: any
  config: AxiosRequestConfig
  request: any
}

export interface AxiosPromise<T = any> extends Promise<AxiosResponse<T>> {
}

export interface Axios {
  request<T = any>(config: AxiosRequestConfig): AxiosPromise<T>

  get<T = any>(url: string, config?: AxiosRequestConfig): AxiosPromise<T>

  delete<T = any>(url: string, config?: AxiosRequestConfig): AxiosPromise<T>

  head<T = any>(url: string, config?: AxiosRequestConfig): AxiosPromise<T>

  options<T = any>(url: string, config?: AxiosRequestConfig): AxiosPromise<T>

  post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise<T>

  put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise<T>

  patch<T = any>(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise<T>
}

export interface AxiosInstance extends Axios {
  <T = any>(config: AxiosRequestConfig): AxiosPromise<T>

  <T = any>(url: string, config?: AxiosRequestConfig): AxiosPromise<T>
}
```

> é¦–å…ˆç»™ `AxiosResponse` æ¥å£æ·»åŠ æ³›å‹å‚æ•° `T` ï¼Œ`T = any` è¡¨ç¤ºæ³›å‹çš„å‚æ•°é»˜è®¤å€¼ä¸º `any`ã€‚
>
> ç„¶åä¸º `AxiosPromise` ã€`Axios`ã€`AxiosInstance` æ¥å£æ·»åŠ æ³›å‹å‚æ•°ã€‚å¯ä»¥çœ‹åˆ°è¿™äº›è¯·æ±‚çš„è¿”å›ç±»å‹éƒ½å˜æˆäº† `AxiosPromise<T>`ï¼Œä¹Ÿå°±æ˜¯ `Promise<AxiosResponse<T>>`ã€‚è¿™æ ·å°±å¯ä»¥ä»å“åº”ä¸­è·å–åˆ°ç±»å‹ `T` äº†ã€‚



### ç¼–å†™æµ‹è¯• DEMO

`examples/extend/app.ts`ï¼š

```typescript
interface ResponseData<T = any> {
  code: number
  result: T
  message: string
}

interface User {
  name: string
  age: number
}

function getUser<T>() {
  return axios<ResponseData<T>>('/extend/user')
    .then(res => res.data)
    .catch(err => console.error(err))
}

async function test() {
  const user = await getUser<User>()
  if (user) {
    console.log(user.result)
  }
```

> å½“è°ƒç”¨ `getUser<User>` æ—¶ï¼Œç›¸å½“äºè°ƒç”¨äº† `axios<ResponseData<User>>` ï¼Œä¹Ÿå°±æ˜¯ä¼ å…¥ç»™ `axios` å‡½æ•°çš„ç±»å‹ `T` ä¸º `ResponseData<User>`ï¼›ç›¸å½“äºè¿”å›å€¼ `AxiosPromise<T>` ä¸­çš„ `T` ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ `Promise<AxiosResponse<T>>` ä¸­çš„ `T` çš„ç±»å‹æ˜¯ `ResponseData<User>`ã€‚æ‰€ä»¥ç›¸åº”æ•°æ®ä¸­çš„ `data` ç±»å‹å°±æ˜¯ `ResponseData<User>`ï¼Œå¦‚ä¸‹ï¼š
>
> ```json
> {
>   code: number
>   result: User
>   message: string
> }
> ```
>
>  è¿™ä¸ªä¹Ÿæ˜¯ `const user = await getUser<User>()` çš„è¿”å›å€¼ `user` çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥ TypeScript èƒ½æ­£ç¡®æ¨æ–­å‡º `user` çš„ç±»å‹ã€‚