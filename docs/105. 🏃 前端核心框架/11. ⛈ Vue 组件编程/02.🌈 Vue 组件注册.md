---
title: ğŸŒˆ Vue ç»„ä»¶åŸºç¡€
date: 2022-06-30 00:05:51
permalink: /pages/f7e44a/
categories:
  -  ğŸƒ å‰ç«¯æ ¸å¿ƒæ¡†æ¶
  -  â›ˆ Vue ç»„ä»¶ç¼–ç¨‹
tags:
  - 
---
> é‡è¯» Vue å®˜æ–¹æ–‡æ¡£å†™çš„ç¬”è®°ã€‚



## ç»„ä»¶çš„å‘½åæ–¹å¼

ä¸¤ç§å‘½åæ–¹å¼ï¼š

+ kebab-caseï¼š

  ```js
  Vue.component('my-component-name', { /* ... */ })
  ```

  ä½¿ç”¨çŸ­æ¨ªçº¿åˆ†éš”å‘½åæ—¶ï¼Œå¿…é¡»å¼•ç”¨è¿™ä¸ªè‡ªå®šä¹‰å…ƒç´ æ—¶ä¹Ÿä½¿ç”¨ç›¸åŒçš„å‘½å  ï¼Œä¾‹å¦‚ `<my-component-name>`ã€‚

+ PascalCaseï¼š

  ```js
  Vue.component('MyComponent', { /* ... */ })
  ```

  ä½¿ç”¨é¦–å­—æ¯å¤§å†™å‘½åï¼Œå¼•ç”¨è¿™ä¸ªè‡ªå®šä¹‰å…ƒç´ æ—¶ä¸¤ç§å‘½åæ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ `<MyComponent>` ä»¥åŠ `<my-component>`ã€‚ä½†æ˜¯ç›´æ¥åœ¨ DOM ç§ä½¿ç”¨æ—¶åªæœ‰ kebab-case å‘½åæœ‰æ•ˆã€‚





## æ³¨å†Œç»„ä»¶

### å…¨å±€æ³¨å†Œç»„ä»¶

å…¨å±€æ³¨å†Œçš„ç»„ä»¶å¯ä»¥åœ¨ä»»ä½•æ–°åˆ›å»ºçš„ Vue æ ¹å®ä¾‹çš„æ¨¡ç‰ˆä¸­ä½¿ç”¨ã€‚åœ¨æ‰€æœ‰çš„å­ç»„ä»¶ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå­ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å…¨å±€æ³¨å†Œçš„ç»„ä»¶ã€‚

ğŸŒ° ä¾‹å­ï¼š

```js
Vue.component('my-component-a', {
  // options
})
Vue.component('my-component-b', {
  // options
})

new Vue({ el: '#app' })
```

```html
<div id="app">
  <my-component-a></my-component-a>
  <my-component-b></my-component-b>
</div>
```



::: tip

å…¨å±€æ³¨å†Œæ„å‘³ç€ä¸ç®¡æœ‰æ— ä½¿ç”¨è¿™ä¸ªç»„ä»¶ï¼Œæœ€åä½¿ç”¨æ‰“åŒ…å·¥å…·ï¼ˆå¦‚ webpackï¼‰ æ„å»ºé¡¹ç›®æ—¶éƒ½ä¼šè¢«åŒ…å«åœ¨æœ€ç»ˆæ„å»ºçš„ç»“æœå½“ä¸­ã€‚

:::



### å±€éƒ¨æ³¨å†Œç»„ä»¶

ç»„ä»¶å¯ä»¥åœ¨ä¸€ä¸ªæ™®é€šçš„ JavaScript ä¸­å®šä¹‰ã€‚å¹¶ä¸”åœ¨ `components` é€‰é¡¹ä¸­é€‰æ‹©è¦ä½¿ç”¨çš„ç»„ä»¶ã€‚

å±€éƒ¨æ³¨å†Œçš„ç»„ä»¶åœ¨å…¶å­ç»„ä»¶ä¸­ä¸å¯ç”¨ã€‚





### æ¨¡å—ç®¡ç†ç»„ä»¶

ä¸€èˆ¬åœ¨é¡¹ç›®çš„ `src` åˆ›å»º `components` ç›®å½•ï¼Œå°†æ¯ä¸ªç»„ä»¶æ”¾ç½®åœ¨å„è‡ªçš„æ–‡ä»¶ä¸­ã€‚ç„¶åéœ€è¦åœ¨å±€éƒ¨æ³¨å†Œç»„ä»¶ä¹‹å‰ï¼Œå¯¼å…¥è¦ä½¿ç”¨çš„ç»„ä»¶åˆ°å½“å‰çš„æ–‡ä»¶ä¸­ã€‚



ğŸŒ° ä¾‹å­ï¼š

æœ‰å·²ç»å®šä¹‰å¥½çš„ç»„ä»¶ `ComponentA` å’Œ `ComponentB`ï¼Œåœ¨ `ComponentC` ä¸­å¯¼å…¥è¿™ä¸¤ä¸ªç»„ä»¶å¹¶ä¸”å±€éƒ¨æ³¨å†Œï¼š

```js
import ComponentA from './ComponentA'
import ComponentC from './ComponentB'

export default {
  components: {
    ComponentA,
    ComponentC
  },
  // ...
}
```



### è‡ªåŠ¨å¯¼å…¥åŸºç¡€ç»„ä»¶

ä¸€èˆ¬è®¸å¤šåŸºç¡€ç»„ä»¶éœ€è¦åœ¨å„ä¸ªç»„ä»¶ä¸­é¢‘ç¹ä½¿ç”¨ï¼Œä¾‹å¦‚ æŒ‰é’®ã€è¾“å…¥æ¡†ã€å›¾æ ‡ç­‰åŸºç¡€ç»„ä»¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´å±€éƒ¨æ³¨å†Œç»„ä»¶çš„åˆ—è¡¨å¾ˆé•¿ã€‚

å¯ä»¥ä½¿ç”¨ `require.context` å…¨å±€æ³¨å†Œè¿™äº›ç»„ä»¶ï¼Œç„¶åå†åº”ç”¨çš„å…¥å£æ–‡ä»¶ï¼ˆ`src/main.js`ï¼‰ å…¨å±€å¯¼å…¥è¿™äº›åŸºç¡€ç»„ä»¶çš„æ³¨å†Œã€‚

```js
import Vue from 'vue'
import upperFirst from 'lodash/upperFirst'
import camelCase from 'lodash/camelCase'

const requireComponent = require.context(
  // å…¶ç»„ä»¶ç›®å½•çš„ç›¸å¯¹è·¯å¾„
  './components',
  // æ˜¯å¦æŸ¥è¯¢å…¶å­ç›®å½•
  false,
  // åŒ¹é…åŸºç¡€ç»„ä»¶æ–‡ä»¶åçš„æ­£åˆ™è¡¨è¾¾å¼
  /Base[A-Z]\w+\.(vue|js)$/
)

requireComponent.keys().forEach(fileName => {
  // è·å–ç»„ä»¶é…ç½®
  const componentConfig = requireComponent(fileName)

  // è·å–ç»„ä»¶çš„ PascalCase å‘½å
  const componentName = upperFirst(
    camelCase(
      // è·å–å’Œç›®å½•æ·±åº¦æ— å…³çš„æ–‡ä»¶å
      fileName
        .split('/')
        .pop()
        .replace(/\.\w+$/, '')
    )
  )

  // å…¨å±€æ³¨å†Œç»„ä»¶
  Vue.component(
    componentName,
    // å¦‚æœè¿™ä¸ªç»„ä»¶é€‰é¡¹æ˜¯é€šè¿‡ `export default` å¯¼å‡ºçš„ï¼Œ
    // é‚£ä¹ˆå°±ä¼šä¼˜å…ˆä½¿ç”¨ `.default`ï¼Œ
    // å¦åˆ™å›é€€åˆ°ä½¿ç”¨æ¨¡å—çš„æ ¹ã€‚
    componentConfig.default || componentConfig
  )
})
```

è¯¦ç»†å‚è€ƒï¼š[vue-enterprise-boilerplate/src/components at main Â· bencodezen/vue-enterprise-boilerplate (github.com) ](https://github.com/bencodezen/vue-enterprise-boilerplate/tree/main/src/components)/ `_global.js` å…¨å±€æ³¨å†ŒåŸºç¡€ç»„ä»¶ã€‚

::: warning

å…¨å±€æ³¨å†Œç»„ä»¶å¿…é¡»è¦åœ¨ Vue æ ¹å®ä¾‹åˆ›å»ºï¼ˆ`new Vue`ï¼‰ä¹‹é—´å‘ç”Ÿã€‚

:::