---
title: ğŸ¥… SpringMVC åŸŸå¯¹è±¡å…±äº«æ•°æ®
date: 2022-03-20 11:14:58
permalink: /pages/f633c8/
categories: 
  - _pages
  - ğŸ§‹ JavaEE
  - ğŸšSpringMVC
tags: 
  - SpringMVC
author: 
  name: Simon
  link: https://github.com/simon1uo
---



> åŸŸå¯¹è±¡ä¸èƒ½é€‰æ‹©å¤ªå°ï¼Œè¦é€‰æ‹©èƒ½å®ç°åŠŸèƒ½èŒƒå›´æœ€å°çš„åŸŸå¯¹è±¡ã€‚



## å‘ `request` åŸŸå¯¹è±¡å…±äº«æ•°æ®

### ä½¿ç”¨ Servlet API å‘ `request` åŸŸå¯¹è±¡å…±äº«æ•°æ®



ğŸŒ° ä¾‹å­ï¼š

+ åœ¨ `ScopeController` ä¸­ï¼š

```java
@RequestMapping("/testRequestByServletAPI")
public String testRequestByServletAPI(HttpServletRequest request){
    request.setAttribute("testRequestScope", "Hello, Servlet API");
    return "success";
}
```

+ `success` é¡µé¢ä¸­è·å–åŸŸå¯¹è±¡å…±äº«æ•°æ®ï¼š

```html
<body>
<h1>success</h1>
<p th:text="${testRequestScope}"></p>
</body>
```



### ä½¿ç”¨ `ModelAndView` å‘ `request` åŸŸå¯¹è±¡å…±äº«æ•°æ®

> `ModelAndView` ï¼šæ¨¡å‹å’Œè§†å›¾ï¼Œ
>
> ä¸ç®¡æœ€åç”¨çš„æ˜¯å“ªç§æ–¹å¼ï¼Œæœ€åéƒ½ä¼šå°è£…åˆ° `ModelAndView`ã€‚



ğŸŒ° ä¾‹å­ï¼šæµ‹è¯•é€šè¿‡ `ModelAndView` å‘ `Request` åŸŸå¯¹è±¡å…±äº«æ•°æ®ï¼š

```java
@RequestMapping("/testModelAndView")
public ModelAndView testModelAndView(){
    ModelAndView modelAndView = new ModelAndView();
    // å¤„ç†æ¨¡å‹æ•°æ®ï¼Œå³å‘è¯·æ±‚åŸŸrequestå…±äº«æ•°æ®
    modelAndView.addObject("testRequestScope", "hello from ModelAndView");
    // è®¾ç½®è§†å›¾åç§°
    modelAndView.setViewName("success");
    return modelAndView; // å¿…é¡»ä½œä¸ºè¿”å›å€¼
}
```



å¦å¤–å¯ä»¥é€šè¿‡åœ¨å½¢å‚ä¸­æ·»åŠ  `Model`ï¼Œç”¨`Model` å‘åŸŸå¯¹è±¡å…±äº«æ•°æ®ï¼š

ğŸŒ° ä¾‹å­ï¼š

```java
@RequestMapping("/testModel")
public String testModel(Model model){
    model.addAttribute("testRequestScope", "hello from Model");
    return "success";
}
```



### ä½¿ç”¨ Map å‘`request` åŸŸå¯¹è±¡å…±äº«æ•°æ®

é€šè¿‡åœ¨å½¢å‚ä¸­æ·»åŠ  `Map` ç±»å‹ï¼Œä»¥å®ç°é”®ä¸å€¼çš„å…³ç³»å‘åŸŸå¯¹è±¡å…±äº«æ•°æ®ã€‚

ğŸŒ° ä¾‹å­ï¼š

```java
@RequestMapping("/testMap")
public String testMap(Map<String, Object> map){
    map.put("testRequestScope", "hello From Map");
    return "success";
}
```

### ä½¿ç”¨ ModelMap å‘`request` åŸŸå¯¹è±¡å…±äº«æ•°æ®

é€šè¿‡åœ¨å½¢å‚ä¸­æ·»åŠ  `ModelMap` ç±»å‹å‘ `request` åŸŸå¯¹è±¡å…±äº«æ•°æ®ï¼š

ğŸŒ° ä¾‹å­ï¼š

```Java
@RequestMapping("/testModelMap")
public String testModelMap(ModelMap modelMap){
    modelMap.addAttribute("testRequestScope", "Hello from ModelMap");
    return "success";
}
```

### `Model`ã€`ModelMap`ã€`Map`çš„å…³ç³»

**æœ¬è´¨ä¸Šï¼Œä¸‰è€…éƒ½æ˜¯ `BindingAwareModelMap` ç±»å‹çš„ã€‚**ä¸ç®¡ä½¿ç”¨å“ªç§æ–¹æ³•ï¼Œæœ€ç»ˆæ•°æ®å…¶å®éƒ½æ˜¯è¢«å°è£…åˆ° `ModelAndView` ç±»å‹çš„å¯¹è±¡å½“ä¸­ã€‚

## å‘ Session åŸŸå…±äº«æ•°æ®

å»ºè®®ä½¿ç”¨åŸç”Ÿ Servlet API `HttpSession` è°ƒç”¨ Session ä¼šè¯ ï¼ˆSpringMVC å…¶å®æœ‰æä¾›ç›¸å…³ Session çš„æ³¨è§£ï¼Œä½†ä¸å¤ªå¥½ç”¨ï¼‰ã€‚

é€šè¿‡åœ¨æ§åˆ¶å™¨æ–¹æ³•ä¸­è®¾ç½® `HttpSession` ç±»å‹çš„å½¢å‚å‘ Session åŸŸå…±äº«æ•°æ®ã€‚

ğŸŒ° ä¾‹å­ï¼š

```java
@RequestMapping("/testSession")
public String testSession(HttpSession session){
    session.setAttribute("testSesionScope", "Hello From testSession");
    return "success";
}
```

```html
<p th:text="${session.testSessionScope}"></p>
```

## å‘ application åŸŸå…±äº«æ•°æ®

é€šè¿‡åœ¨æ§åˆ¶å™¨æ–¹æ³•ä¸­è®¾ç½® `HttpSession` ç±»å‹çš„å½¢å‚ï¼Œç„¶åä» session ä¸­è·å– application å¯¹è±¡ï¼Œå‘ Application åŸŸå…±äº«æ•°æ®ã€‚



ğŸŒ° ä¾‹å­ï¼š

```java
@RequestMapping("/testApplication")
public String testApplication(HttpSession session){
    ServletContext application = session.getServletContext();
    application.setAttribute("testApplicationScope", "Hello from testApplication");
    return "success";
}
```

```html
<p th:text="${application.testApplicationScope}"></p>
```
