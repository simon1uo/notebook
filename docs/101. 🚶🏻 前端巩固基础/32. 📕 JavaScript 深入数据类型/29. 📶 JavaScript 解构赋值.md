---
title:  ðŸ“¶ JavaScript è§£æž„èµ‹å€¼
date: 2022-05-07 17:30:21
permalink: /pages/591eea/
categories:
  -  ðŸ“• JavaScript æ·±å…¥æ•°æ®ç±»åž‹
tags:
  -  JavaScript æ·±å…¥éƒ¨åˆ†
---
åœ¨ JavaScript ä¸­æœ€å¸¸ç”¨çš„ä¸¤ç§æ•°æ®ç»“æž„æ˜¯ **å¯¹è±¡** Object å’Œ **æ•°ç»„** Arrayã€‚è¦å°†å®ƒä»¬ä¼ é€’ç»™å‡½æ•°ï¼Œå‡½æ•°å¯èƒ½ä¸éœ€è¦ æ•´ä¸ªå¯¹è±¡æˆ–è€…æ•°ç»„ã€‚

**è§£æž„èµ‹å€¼** æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼Œå®ƒä½¿æˆ‘ä»¬å¯ä»¥å°†æ•°ç»„æˆ–å¯¹è±¡ã€Œæ‹†åŒ…ã€è‡³ä¸€ç³»åˆ—å˜é‡ä¸­ï¼Œå› ä¸ºæœ‰æ—¶è¿™æ ·æ›´æ–¹ä¾¿ã€‚



## æ•°ç»„è§£æž„

ðŸŒ° ä¾‹å­ / å°†æ•°ç»„ç»“æž„åˆ°å˜é‡ï¼š
 ```js
 let arr = ["John", "Smith"]
 
 let [firstName, surname] = arr
 // ç›¸å½“äºŽ firstName = arr[0], surname = arr[1]
 ```

> åœ¨æ–°çš„å˜é‡ä¸Šè¿›è¡Œçš„æ“ä½œä¸ä¼šå½±å“åˆ°åŽŸæ¥çš„æ•°ç»„å…ƒç´ ã€‚



ðŸŒ° ä¾‹å­ / å¯¹å­—ç¬¦ä¸²ä½¿ç”¨è§£æž„ï¼š
```js
let [firstName, surname] = 'John Smith'.split(' ')
```



::: warning

ã€Œè§£æž„ã€ä¸æ„å‘³ç€ã€Œç ´åã€ï¼šè§£æž„é€šè¿‡å°†ç»“æž„ä¸­çš„å„å…ƒç´  **å¤åˆ¶** åˆ°å˜é‡ä¸­æ¥è¾¾åˆ°ã€Œè§£æž„ã€çš„ç›®çš„ã€‚**ä½†æ•°ç»„æœ¬èº«æ˜¯æ²¡æœ‰è¢«ä¿®æ”¹çš„**ã€‚

:::



ðŸŒ° ä¾‹å­ / ä½¿ç”¨ã€Œ`,`ã€ **é€—å·é€‰æ‹©æ€§èµ‹å€¼**ï¼šï¼š

```js
let [firstName, , title] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];
// ç¬¬äºŒä¸ªå…ƒç´ ä¸éœ€è¦ï¼Œä½¿ç”¨é€—å·è·³è¿‡ï¼Œå¹¶ä¸”å‰©ä¸‹çš„å…ƒç´ æ²¡æœ‰å¯¹åº”å˜é‡ä¹Ÿä¼šè¢«å¿½ç•¥
```

ðŸŒ° ä¾‹å­ / ç­‰å·çš„å³ä¾§å¯ä»¥æ˜¯ **ä»»ä½•å¯è¿­ä»£å¯¹è±¡**ï¼š

```js
let [a, b, c] = "abc"; // ["a", "b", "c"]
let [one, two, three] = new Set([1, 2, 3]);
```

ðŸŒ° ä¾‹å­ / ç­‰å·çš„å·¦ä¾§å¯ä»¥æ˜¯ä»»ä½•ã€Œå¯ä»¥è¢«èµ‹å€¼çš„ã€ï¼š

```js
let user = {}
[user.firstName, user.surname] = 'John Smith'.split(' ') 
```

ðŸŒ° ä¾‹å­ / é…åˆ `.entries` å¾ªçŽ¯ï¼ˆåªå¾ªçŽ¯å…¶ä¸­ç‰¹å®šçš„å€¼ï¼‰ï¼š

```js
let user = {
  name: 'Simon'.
  age: 30,
  gender: 'male'
}

for(let [key, value] of Object.entries(user)) {
  console.log(`${key}: ${name}`)
}
```

å¯¹äºŽ `Map` å¯è¿­ä»£çš„å¯¹è±¡æ›´ç®€å•ï¼š

```js
let user = new Map()
user.set('name', 'Simon')
user.set('age', 30)
user.set('gender', 'male')

for(let [key, value] of user) {
  console.log(`${key}: ${value}`)
}
```



:apple: ðŸŒ° ä¾‹å­ / ä½¿ç”¨è§£æž„èµ‹å€¼äº¤æ¢å˜é‡ï¼š
```js
let guest = "Jane";
let admin = "Pete";

[guest, admin] = [admin, guest]
```

> åˆ›å»ºäº†ä¸€ä¸ªç”±ä¸¤ä¸ªå˜é‡ç»„æˆçš„ä¸´æ—¶æ•°ç»„ï¼Œå¹¶ä¸”ç«‹å³ä»¥äº¤æ¢äº†çš„é¡ºåºå¯¹å…¶è¿›è¡Œäº†è§£æž„ã€‚è¿™æ ·è§£å†³ä¸¤ä¸ªåŠä»¥ä¸Šçš„å˜é‡çš„äº¤æ¢ä¸€ä¸‹å°±ç®€å•äº†ã€‚



### `â€¦` å‰©ä½™é¡¹

å½“ä¸è®¾ç½®ç›¸åº”çš„å˜é‡æŽ¥æ”¶å¯¹åº”çš„æ•°ç»„é¡¹ï¼Œè¿™é‡Œå‰©ä½™çš„æ•°ç»„é¡¹å¯ä»¥ä½¿ç”¨ `â€¦` åŠ ä¸€ä¸ªå‚æ•°æ¥æŽ¥æ”¶ã€‚



ðŸŒ° ä¾‹å­ï¼š

```js
let [name1, name2, ...rest] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

console.log(rest) // ["Consul", "of the Roman Republic"]
```

> `rest` çš„å€¼å°±æ˜¯æ•°ç»„ä¸­å‰©ä¸‹çš„å…ƒç´ ç»„æˆçš„ **æ•°ç»„**ã€‚



### é»˜è®¤å€¼

å¦‚æžœæ•°ç»„æ¯”ç­‰å·å·¦è¾¹çš„å˜é‡åˆ—è¡¨çŸ­ï¼Œè¿™é‡Œä¹Ÿä¸ä¼šå‡ºçŽ°æŠ¥é”™ã€‚ç¼ºå°‘çš„å€¼è¢«è®¤ä¸ºæ˜¯ `undefined`ï¼š



ðŸŒ° ä¾‹å­ï¼š
```js
let [firstName, surname] = [];

console.log(firstName); // undefined
console.log(surname); // undefined
```



å¯¹äºŽå¯èƒ½æ²¡æœ‰çš„å€¼ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼Œé¿å…å‡ºçŽ° `undefined`ã€‚

ðŸŒ° ä¾‹å­ï¼š

```js
let [name = "Guest", surname = "Anonymous"] = ["Julius"];
console.log(name, surname) // "Julius", "Anonymous"
```

> é»˜è®¤å€¼å¯ä»¥æ˜¯ **æ›´åŠ å¤æ‚çš„è¡¨è¾¾å¼** ç”šè‡³å¯ä»¥æ˜¯ **å‡½æ•°è°ƒç”¨**ï¼Œè¿™äº›è¡¨è¾¾å¼æˆ–å‡½æ•°åªä¼šåœ¨è¿™ä¸ªå˜é‡ **æœªè¢«èµ‹å€¼çš„æ—¶å€™** æ‰ä¼šè¢«è®¡ç®—ã€‚



ðŸŒ° ä¾‹å­ / ä½¿ç”¨å‡½æ•°ä½œä¸ºé»˜è®¤å€¼ï¼š

```js
let [name = prompt('name?'), surname = prompt('surname?')] = ["Julius"];

console.log(name, surname)
```

> è¿™æ ·å½“ `surname` æ²¡æœ‰æä¾›å€¼æ—¶ï¼Œä¼šå‘èµ·è¾“å…¥æ¡†ã€‚



## å¯¹è±¡è§£æž„

åŸºæœ¬è¯­æ³•ï¼š
```js
let {var1, var2} = {var1: ..., var2: ...}
```

åœ¨ç­‰å·å³ä¾§åº”è¯¥æœ‰ **ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡**ï¼Œç­‰å·å·¦ä¾§åŒ…å«äº†å¯¹è±¡ ç›¸åº”å±žæ€§çš„ä¸€ä¸ªç±»å¯¹è±¡ã€Œæ¨¡å¼ï¼ˆpatternï¼‰ã€ã€‚åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œç­‰å·å·¦ä¾§çš„å°±æ˜¯ `{...}` ä¸­çš„å˜é‡ååˆ—è¡¨ã€‚

ðŸŒ° ä¾‹å­ï¼š
```js
let options = {
  title: "Menu",
  width: 100,
  height: 200
};

let {title, width, height} = options;
console.log(title);  // Menu
console.log(width);  // 100
console.log(height); // 200
```



ðŸŒ° ä¾‹å­ / ç­‰å·å·¦è¾¹çš„æ¨¡å¼ä¸éœ€è¦æŒ‰ç…§å¯¹è±¡ä¸­çš„é¡ºåºä¹Ÿå¯ä»¥ï¼Œä¼šè‡ªåŠ¨å¯¹åº”ä¸Šã€‚

```js
let {height, width, title} = { title: "Menu", height: 200, width: 100 }
```



ðŸŒ° ä¾‹å­ / ç­‰å·å·¦ä¾§çš„æ¨¡å¼å¯ä»¥æ›´åŠ å¤æ‚ï¼Œå¹¶ä¸”æŒ‡å®šäº†å±žæ€§å’Œå˜é‡ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚

è¦æŠŠä¸€ä¸ªå±žæ€§èµ‹å€¼ç»™å¦ä¸€ä¸ªåå­—çš„å˜é‡ï¼Œæ¯”å¦‚æŠŠ `options.width` å±žæ€§èµ‹å€¼ç»™åä¸º `w` çš„å˜é‡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å†’å·æ¥è®¾ç½®å˜é‡åç§°ï¼š

```js
let options = {
  title: "Menu",
  width: 100,
  height: 200
};

// { sourceProperty: targetVariable }
let {width: w, height: h, title} = options;

// width -> w
// height -> h
// title -> title

console.log(w)
console.log(h)
console.log(title)
```

> å†’å·è¡¨ç¤º `ä»€ä¹ˆå€¼ï¼šèµ‹å€¼ç»™è°` ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå±žæ€§ `width` è¢«èµ‹å€¼ç»™äº† `w`ï¼Œå±žæ€§ `height` è¢«èµ‹å€¼ç»™äº† `h`ï¼Œå±žæ€§ `title` è¢«èµ‹å€¼ç»™äº†åŒåå˜é‡ã€‚



ðŸŒ° ä¾‹å­ / å¯¹å¯èƒ½ç¼ºå¤±çš„å±žæ€§è®¾ç½®é»˜è®¤å€¼ï¼š

```js
let options = {
  title: "Menu"
};

let {width = 100, height = 200, title} = options;
```



ðŸŒ° ä¾‹å­ / é»˜è®¤å€¼å¯ä»¥ä¸ºä»»æ„è¡¨è¾¾å¼æˆ–å‡½æ•°è°ƒç”¨ï¼Œä¼šåœ¨æœªæä¾›å¯¹åº”çš„å€¼æ—¶æ‰ä¼šè¢«è®¡ç®—/è°ƒç”¨ã€‚

```js
let options = {
  title: "Menu"
};

let {width = prompt("width?"), title = prompt("title?")} = options;
```



ðŸŒ° ä¾‹å­ / å°† `:` çš„ä½¿ç”¨ä¸Žç­‰å· `=` ç»“åˆï¼š

```js
let options = {
  title: "Menu"
};

let {width: w = 100, height: h = 200, title} = options;

console.log(w)
console.log(h)
console.log(title)
```



ðŸŒ° ä¾‹å­ / **åªæå–æ‰€éœ€çš„å†…å®¹**ï¼š

```js
let options = {
  title: "Menu",
  width: 100,
  height: 200
};

// ä»…æå– title ä½œä¸ºå˜é‡
let { title } = options;
```



### å‰©ä½™æ¨¡å¼ 

ä½¿ç”¨æ–¹å¼ä¸Žæ•°ç»„è§£æž„ä¸­çš„ `...` ä¸­ç±»ä¼¼ï¼Œåœ¨å¯¹è±¡ä¸­çš„ **å‰©ä½™æ¨¡å¼** ï¼ŒæŠŠæ²¡æœ‰æå–çš„å¯¹è±¡å±žæ€§ä¿å­˜åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚

ðŸŒ° ä¾‹å­ ï¼š

```js
let options = {
  title: "Menu",
  height: 200,
  width: 100
};

let {title, ...rest} = options;
console.log(rest) // { height: 200, width: 100 }
```



::: warning

**`()` çš„ä½¿ç”¨**ï¼šå¹¶ä¸”è¦æ³¨æ„åœ¨ JavaScript ä¸­ `{ ... }` ä¸­å½“åšä¸€ä¸ª **ä»£ç å—**ã€‚è¿™æ ·çš„ä»£ç å—å¯ä»¥ç”¨äºŽå¯¹è¯­å¥åˆ†ç»„ï¼Œå°±æ˜¯è¯´ `{ ... }` ä¸­ä¹Ÿå¯ä»¥ `let` å£°æ˜Žå˜é‡å¹¶ä¸”ä½¿ç”¨ã€‚ä¸ºäº†åœ¨å¯¹è±¡è§£æž„æ—¶ï¼Œéœ€è¦ JavaScript è®¤ä¸º **è¿™ä¸æ˜¯ `{ }` ä»£ç å—è€Œæ˜¯å¯¹è±¡** ï¼Œæ‰€ä»¥è¦ç”¨ `( ... )` æ‹¬å·åŒ…èµ·æ¥ï¼ˆåœ¨ç®­å¤´å‡½æ•°ä¸­è¿”å›žå¯¹è±¡æ—¶åŒæ ·æœ‰ç”¨åˆ°è¿™ä¸ªåŽŸç†ï¼‰

```js
let title, width, height;

({title, width, height} = {title: "Menu", width: 200, height: 100});
```

:::



## åµŒå¥—è§£æž„

å¦‚æžœä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„åµŒå¥—äº†å…¶ä»–çš„å¯¹è±¡å’Œæ•°ç»„ï¼Œå¯ä»¥åœ¨ç­‰å·å·¦ä¾§ä½¿ç”¨ **æ›´å¤æ‚çš„æ¨¡å¼ï¼ˆpatternï¼‰** æ¥ **æå–æ›´æ·±å±‚çš„æ•°æ®**ã€‚

ðŸŒ° ä¾‹å­ / èµ‹å€¼è¯­å¥ä¸­ç­‰å·å·¦ä¾§çš„æ¨¡å¼ï¼ˆpatternï¼‰å…·æœ‰ç›¸åŒçš„ç»“æž„ä»¥ä»Žä¸­æå–å€¼ï¼š

```js
let options = {
  size: {
    width: 100,
    height: 200
  },
  items: ["Cake", "Donut"],
  extra: true
};

let {
  size: { // æŠŠ size èµ‹å€¼åˆ°è¿™é‡Œ
    width,
    height
  },
  items: [item1, item2], // æŠŠ items èµ‹å€¼åˆ°è¿™é‡Œ
  title = "Menu" // åœ¨å¯¹è±¡ä¸­ä¸å­˜åœ¨ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰
} = options;

console.log(title, width, height, item1. item2)
```

> `options` çš„å±žæ€§ `size` æ˜¯å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå±žæ€§ `items` æ˜¯å¦ä¸€ä¸ªæ•°ç»„ã€‚



## æ™ºèƒ½å‡½æ•°å‚æ•°

æœ‰æ—¶ï¼Œä¸€ä¸ªå‡½æ•°æœ‰å¾ˆå¤šå‚æ•°ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†çš„å‚æ•°éƒ½æ˜¯å¯é€‰çš„ã€‚å¯¹å¯èƒ½ä¸éœ€è¦æä¾›çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚

> ä¸€èˆ¬ä¸å¯èƒ½å†™æˆï¼š
>
> ```javascript
> function showMenu(title = "Untitled", width = 200, height = 100, items = []) {
>   // ...
> }
> 
> showMenu("My Menu", undefined, undefined, ["Item1", "Item2"])
> ```



ðŸŒ° ä¾‹å­ / ä½¿ç”¨è§£æž„èµ‹å€¼ï¼Œå°†å‡½æ•°å‚æ•°å†™æˆå¯¹è±¡ï¼Œä¼ å…¥çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š

```js
let options = {
  title: "My menu",
  items: ["Item1", "Item2"]
};

function showMenu({title = "Untitled", width = 200, height = 100, items = []}) {
  // title, items â€“ æå–äºŽ optionsï¼Œ
  // width, height â€“ ä½¿ç”¨é»˜è®¤å€¼
  console.log( `${title} ${width} ${height}` ); // My Menu 200 100
  console.log(items); // Item1, Item2
}

showMenu(options) 
```

> æ›´è¯¦ç»†çš„è¯­æ³•ä¸Žç»“æž„ç›¸åŒï¼š
>
> ```js
> function({
>   incomingProperty: varName = defaultValue
>   ...
> })
> ```
>
> å¯¹äºŽå‚æ•°ä¸­çš„å¯¹è±¡ï¼Œå±žæ€§ `incomingProperty` å¯¹åº”çš„å˜é‡æ˜¯ `varName`ï¼Œé»˜è®¤å€¼æ˜¯ `defaultValue`ã€‚

å¦‚æžœæƒ³è¦æ‰€æœ‰å‚æ•°å¯¹è±¡å±žæ€§éƒ½ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¦ä¼ å…¥ä¸€ä¸ªç©ºçš„å¯¹è±¡ï¼š

```js
showMenu({})
```

è¦ä»€ä¹ˆéƒ½ä¸ä¼ ï¼Œå¯ä»¥ä¸ºè¯¥ **å‚æ•°å¯¹è±¡è®¾ä¸€ä¸ªé»˜è®¤å€¼**ï¼š

```js
function showMenu({ title = "Menu", width = 100, height = 200 } = {}) {
  alert( `${title} ${width} ${height}` );
}

showMenu()
```



## è§£æž„æ€»ç»“

+ è§£æž„èµ‹å€¼å¯ä»¥ç«‹å³å°†ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„æ˜ å°„åˆ°å¤šä¸ªå˜é‡ä¸Šã€‚

+ è§£æž„æ•°ç»„ï¼š`let [item1 = default, item2, ...rest] = array`ã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¢«èµ‹å€¼ç»™ `item1`ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¢«èµ‹å€¼ç»™ `item2`ï¼Œå‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ è¢«å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ•°ç»„ `rest`ã€‚`

+ è§£æž„å¯¹è±¡ï¼š`let {prop : varName = default, ...rest} = object`ã€‚å±žæ€§ `prop` ä¼šè¢«èµ‹å€¼ç»™å˜é‡ `varName`ï¼Œå¦‚æžœæ²¡æœ‰è¿™ä¸ªå±žæ€§çš„è¯ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å€¼ `default`ã€‚æ²¡æœ‰å¯¹åº”æ˜ å°„çš„å¯¹è±¡å±žæ€§ä¼šè¢«å¤åˆ¶åˆ° `rest` å¯¹è±¡ã€‚

+ åµŒå¥—è§£æž„ï¼šç­‰å·å·¦ä¾§å¿…é¡»å’Œç­‰å·å³ä¾§æœ‰ç›¸åŒçš„ç»“æž„ã€‚

  



### è§£æž„å®žä¾‹

#### èŽ·å–æœ€å¤§å€¼çš„å¯¹è±¡å±žæ€§

> æ–°å»ºä¸€ä¸ªå‡½æ•° `topSalary(salaries)`ï¼Œè¿”å›žæ”¶å…¥æœ€é«˜çš„äººçš„å§“åã€‚
>
> - å¦‚æžœ `salaries` æ˜¯ç©ºçš„ï¼Œå‡½æ•°åº”è¯¥è¿”å›ž `null`ã€‚
> - å¦‚æžœæœ‰å¤šä¸ªæ”¶å…¥æœ€é«˜çš„äººï¼Œè¿”å›žå…¶ä¸­ä»»æ„ä¸€ä¸ªå³å¯ã€‚
>
> ```js
> let salaries = {
>   "John": 100,
>   "Pete": 300,
>   "Mary": 250
> };
> ```

::: details

```js
function topSalary(salaries) {
	let maxSalary = 0
  let maxName = null
  
  for (let [name, salary] of Object.entries(salaries)){
  	if(maxSalary < salary){ 
    	maxSalary = salary
      maxName = name}
  }
  return maxName
}

console.log(topSalary(salaries))
```

:::

