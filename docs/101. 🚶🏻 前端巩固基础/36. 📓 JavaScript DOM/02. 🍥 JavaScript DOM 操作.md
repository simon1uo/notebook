---
title:  ğŸ¥ JavaScript DOM æ“ä½œ
date: 2022-05-27 13:16:15
permalink: /pages/3f10ea/
categories:
  -  ğŸ““ JavaScript DOM
tags:
  - JavaScript æ·±å…¥éƒ¨åˆ†
---
## æ“ä½œ DOM

æ¯ä¸€ä¸ª DOM å…ƒç´ èŠ‚ç‚¹éƒ½å±äºä¸€ä¸ªç‰¹å®šçš„ç±»ã€‚è¿™äº›ç±»å½¢æˆå±‚æ¬¡ç»“æ„ã€‚

> ä¾‹å¦‚ï¼Œæ ‡ç­¾ `<a>` ç›¸å¯¹åº”çš„å…ƒç´ èŠ‚ç‚¹å…·æœ‰é“¾æ¥ç›¸å…³çš„ï¼ˆlink-relatedï¼‰å±æ€§ï¼Œæ ‡ç­¾ `<input>` ç›¸å¯¹åº”çš„å…ƒç´ èŠ‚ç‚¹å…·æœ‰ä¸è¾“å…¥ç›¸å…³çš„å±æ€§ï¼›
>
> æ–‡æœ¬èŠ‚ç‚¹ä¸å…ƒç´ èŠ‚ç‚¹ä¸åŒã€‚ä½†æ˜¯æ‰€æœ‰è¿™äº›æ ‡ç­¾èŠ‚ç‚¹ä¹‹é—´ä¹Ÿå­˜åœ¨å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå› ä¸ºæ‰€æœ‰ç±»å‹çš„ DOM èŠ‚ç‚¹éƒ½å½¢æˆäº†ä¸€ä¸ªå•ä¸€å±‚æ¬¡çš„ç»“æ„ã€‚
>
> æœ€ç»ˆ å±‚æ¬¡ç»“æ„ çš„æ ¹èŠ‚ç‚¹æ˜¯ `EventTarget` ç±»ï¼Œ `Node` èŠ‚ç‚¹ç±»ç»§æ‰¿è‡ªå®ƒï¼Œå…¶ä»– DOM èŠ‚ç‚¹ç»§æ‰¿è‡ª `Node` ç±»ã€‚

::: details

+ `EventTarget`ï¼šæ ¹ã€ŒæŠ½è±¡ã€ç±»ã€‚å®ƒä½œä¸ºä¸€ä¸ªåŸºç¡€ï¼Œè®©æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ”¯æŒ **äº‹ä»¶**è¡Œä¸ºã€‚*ï¼ˆæ²¡æœ‰å®ç°å¯¹è±¡ï¼‰*
+ `Node`ï¼šæŠ½è±¡ç±»ã€‚æ˜¯ DOM èŠ‚ç‚¹çš„åŸºç¡€ï¼Œæä¾›äº† DOM æ ‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆ`parentNode`ã€`nextSibling`ã€`childNodes` ç­‰ `getter`ï¼‰ï¼ˆæ²¡æœ‰å®ç°å¯¹è±¡ï¼‰ä½†æ˜¯æœ‰ç»§æ‰¿è‡ªå®ƒçš„å…·ä½“èŠ‚ç‚¹ç±»ï¼Œ`Text` æ–‡æœ¬èŠ‚ç‚¹ã€`Element` å…ƒç´ èŠ‚ç‚¹ã€æ³¨é‡ŠèŠ‚ç‚¹ç­‰ã€‚
+ `Element`ï¼šDOM **å…ƒç´ èŠ‚ç‚¹çš„åŸºç¡€ç±»**ã€‚æä¾›äº† å…ƒç´ çº§å¯¼èˆªçš„ `getter`ã€‚ç‰¹æ®Šçš„å…ƒç´ åŸºç¡€èŠ‚ç‚¹ç±»ç»§æ‰¿è‡ªå®ƒï¼Œ`SVGElement`ã€`XMLElement` ã€`HTMLElement`ç­‰ã€‚
+ `HTMLElement`ï¼šæ˜¯æ‰€æœ‰çš„ HTML **å…ƒç´ åŸºç¡€ç±»**ã€‚å„ç±»çš„ HTML å…ƒç´ ç»§æ‰¿è‡ªå®ƒï¼š
  + `HTMLInputElement`ï¼š`<input>` å…ƒç´ çš„ç±»ï¼›
  + `HTMLBodyElement` ã€`HTMLAnchorElement`  â€¦ ç­‰ã€‚

> ä¸€äº›å…ƒç´ æ²¡æœ‰ç‰¹å®šçš„å±æ€§ï¼Œä¾‹å¦‚ `<span>` ã€`<section>`ã€`<article>` ï¼Œéƒ½æ˜¯ `HTMLElement` çš„å®ä¾‹ã€‚



> ä»ä¸€ä¸ª DOM å…ƒç´ è§’åº¦å‡ºå‘ï¼Œä¾‹å¦‚ `<input>` çš„å…¨éƒ¨å±æ€§å’Œæ–¹æ³•çš„æ¥æºï¼ˆéƒ½æ˜¯æ¥è‡ªç»§æ‰¿ä¸‹åˆ—çš„ç±»ï¼‰ï¼š
>
> + `HTMLInputElement` ï¼šè¯¥ç±»æä¾›ç‰¹å®šäºè¾“å…¥çš„å±æ€§ï¼›
> + `HTMLElement` ï¼šæä¾›äº†é€šç”¨çš„ HTML å…ƒç´ æ–¹æ³•ï¼ˆä»¥åŠ getter å’Œ setterï¼‰ï¼›
> + `Element` ï¼šæä¾›é€šç”¨æ³›å‹å…ƒç´ æ–¹æ³•ï¼›
> + `Node` ï¼šæä¾›é€šç”¨ DOM èŠ‚ç‚¹å±æ€§ï¼›
> + `EventTarget` ï¼š ä¸ºäº‹ä»¶ï¼ˆåŒ…æ‹¬äº‹ä»¶æœ¬èº«ï¼‰æä¾›æ”¯æŒï¼›
> + æœ€ååŒ…æ‹¬ `Object` æ™®é€šå¯¹è±¡çš„æ–¹æ³•ã€‚

:::



å¯¹äº å¯¹è±¡ æ˜¯é€‚ç”¨çš„å±æ€§å’Œæ–¹æ³•ï¼ŒDOM èŠ‚ç‚¹ä¹Ÿé€‚ç”¨ï¼š

+ è·å–åç§°ï¼š

  ä»¥è·å–å¼•ç”¨ç±»çš„åç§°ä¸ºä¾‹ï¼Œé€šè¿‡ `constructor` è·å–ï¼š
  ```js
  console.log(document.body.constructor.name) // HTMLBodyElement
  ```

  `toString` æ–¹æ³•ï¼š

  ```js
  console.log(document.body) // [object HTMLBodyElement]
  ```

+ æ£€æŸ¥ç»§æ‰¿ `instanceof`:

  ```js
  console.log(document.body instanceof HTMLBodyElement) // true
  console.log(document.body instanceof HTMLElement) // true
  console.log(document.body instanceof Element) // true
  console.log(document.body instanceof Node) // true
  console.log(document.body instanceof EventTarget) // true
  ```

  

> `console...` å¼€å‘è€…å‘½ä»¤è¡Œè¾“å‡º DOM å…ƒç´ ï¼š
>
> + `console.log`ï¼šæ˜¾ç¤ºå…ƒç´ çš„ DOM æ ‘ã€‚
> + `console.dir`ï¼šæ˜¾ç¤ºä¸º DOM å¯¹è±¡ï¼Œå±•ç¤ºå±æ€§å’Œæ–¹æ³•ã€‚



### è¯»å– DOM å…ƒç´ å±æ€§

+ è·å– DOM èŠ‚ç‚¹çš„èŠ‚ç‚¹ / æ ‡ç­¾åç§°ï¼š
  + `tagName`ï¼šä»…é€‚ç”¨äº `Element` å…ƒç´ èŠ‚ç‚¹ã€‚
  + `nodeName`ï¼šé€‚ç”¨äºä»»æ„çš„ Node èŠ‚ç‚¹ã€‚

>  æ ‡ç­¾åç§°çš„å¤§å°å†™é—®é¢˜ï¼š
>
>  + åœ¨æµè§ˆå™¨ HTML æ¨¡å¼æ–‡æ¡£ä¸­ï¼Œ`tagName/nodeName` å§‹ç»ˆæ˜¯å¤§å†™çš„ï¼šå®ƒæ˜¯ `BODY`ï¼Œè€Œä¸æ˜¯ `<body>` æˆ– `<BoDy>`ã€‚
>  + åœ¨ XML æ¨¡å¼ä¸­ï¼Œå¤§å°å†™ä¿æŒä¸ºåŸæ ·ã€‚



+ è·å–å…ƒç´ åç§°ï¼š `ele.name`
+ è·å–å…ƒç´  `id`ï¼š`ele.id`
+ è·å–å…ƒç´ å€¼ `value`ï¼š`ele.value`
+ è·å–å…ƒç´ çš„ç±»åï¼š`ele.className`





### å†™å…¥ HTML

#### `innerHTML`

`innerHTML` å…è®¸å°†å…ƒç´ ä¸­çš„ HTML è·å–ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œå¹¶ä¸”å¯ä»¥ä¿®æ”¹å®ƒã€‚æ˜¯æ›´æ”¹é¡µé¢æœ€æœ‰æ•ˆçš„æ–¹æ³•ä¹‹ä¸€ã€‚



ğŸŒ° ä¾‹å­ / è·å– `body` çš„å†…å®¹ï¼Œå®Œå…¨æ›¿æ¢ï¼š
```html
<body>
  <p>A paragraph</p>
  <div>A div</div>

  <script>
    consoel.log(document.body.innerHTML); // è¯»å–å½“å‰å†…å®¹
    document.body.innerHTML = 'The new BODY!'; // æ›¿æ¢å®ƒ
  </script>

</body>
```



ğŸŒ° ä¾‹å­ / æ’å…¥æ— æ•ˆçš„ HTML ä¼šè¢«ä¿®å¤ï¼ˆæœªé—­åˆçš„æ ‡ç­¾ï¼‰ï¼š

```html
<body>

  <script>
    document.body.innerHTML = '<b>test'; // å¿˜è®°é—­åˆæ ‡ç­¾
    console.log( document.body.innerHTML ); // <b>test</b>ï¼ˆè¢«ä¿®å¤äº†ï¼‰
  </script>

</body>
```

> å¯¹äºè„šæœ¬æ ‡ç­¾ `<script>` æ— æ•ˆï¼Œå¯ä»¥æ’å…¥ä½†æ˜¯ä¸ä¼šæ‰§è¡Œã€‚



::: warning

ä½¿ç”¨ `innerHTML+=` ä¼šå®Œå…¨é‡å†™æ‰åŸæ¥çš„å†…å®¹å¹¶ä¸”é™„åŠ çš„å†…å®¹ã€‚

ä¾‹å¦‚ï¼š
```js
chatDiv.innerHTML += "<div>Hello<img src='smile.gif'/> !</div>";
chatDiv.innerHTML += "How goes?";
```

> æŠ€æœ¯ä¸Šï¼Œ`innerHTML` å®Œæˆäº†ä¸¤é¡¹å·¥ä½œï¼šç§»é™¤åŸæ¥çš„å†…å®¹ï¼›å†™å…¥æ–°çš„å†…å®¹ã€‚

å› ä¸ºå†…å®¹è¢«é‡å†™ï¼Œæ‰€ä»¥æ‰€æœ‰çš„å›¾ç‰‡å’Œèµ„æºéƒ½ä¼šé‡æ–°åŠ è½½ï¼›è¿™å¯¹äºä¸€äº›è¾“å…¥ã€é€‰ä¸­ç­‰ç±»å‹çš„å…ƒç´ æ˜¯è‡´å‘½çš„ï¼Œè¿™ä¼šä¸¢å¤±åŸæ¥çš„æ•°æ®ã€‚

:::



#### `outerHTML`

`outerHTML` å±æ€§åŒ…å«äº†å…ƒç´ çš„ **å®Œæ•´** HTMLã€‚`innerHTML` çš„å†…å®¹åŠ ä¸Šå…ƒç´ æ ‡ç­¾ã€‚ 

ğŸŒ° ä¾‹å­ï¼š
```html
<div id="elem">Hello <b>World</b></div>

<script>
  console.log(elem.outerHTML); // <div id="elem">Hello <b>World</b></div>
</script>
```





**æ³¨æ„ï¼šä¸ `innerHTML` ä¸åŒï¼Œå†™å…¥ `outerHTML` ä¸ä¼šæ”¹å˜å…ƒç´ ã€‚è€Œæ˜¯åœ¨ DOM ä¸­æ›¿æ¢å®ƒã€‚**



ğŸŒ° ä¾‹å­ / é€‰ä¸­ä¸€ä¸ª DOM å…ƒç´ ï¼Œä½¿ç”¨ `outerHTML` æ›¿æ¢ï¼š

```html
<div>
  hello world!
</div>
```

```js
let div = querySelector("div")
div.outerHTML = '<p>new world</p>'
console.log(div.outerHTML) // <div> hello world! </div>
```

> å°½ç®¡ç¬¬äºŒè¡Œä¸­ï¼Œä½¿ç”¨äº† `outerHTML` æ›¿æ¢æ‰åŸæ¥çš„å†…å®¹ï¼Œåœ¨å¤–éƒ¨ HTML æ–‡æ¡£å¯ä»¥çœ‹åˆ°åŸæ¥çš„å†…å®¹è¢«æ›¿æ¢ã€‚ä½†æ˜¯åŸæ¥çš„ `outerHTML` å†…å®¹ä¸ä¼šæ”¹å˜ã€‚

è¯´æ˜ï¼Œ`outerHTML` èµ‹å€¼ä¸ä¼šä¿®æ”¹ DOM å…ƒç´ ï¼Œ è€Œæ˜¯å°†å…¶ä» DOM ä¸­åˆ é™¤å¹¶åœ¨å…¶ä½ç½®æ’å…¥æ–°çš„ HTMLã€‚

æ‰€ä»¥ï¼Œä¸Šé¢çš„ä¾‹å­ `outerHTML` å®Œæˆäº†ï¼šå°† `div` ä»æ–‡æ¡£ä¸­ç§»é™¤ï¼›å¦ä¸€ä¸ª  HTML æ–‡æ¡£ç‰‡æ®µè¢«æ’å…¥åˆ°å…¶ä½ç½®ï¼›`div` ä»ç„¶æ‹¥æœ‰æ—§çš„å€¼ï¼Œæ–°çš„ HTML æ²¡æœ‰è¢«èµ‹å€¼ç»™ä»»ä½•å˜é‡ã€‚

> ä»ç„¶å¯ä»¥é€šè¿‡ é€‰æ‹©å™¨ è·å–æ–°çš„å…ƒç´ çš„å¼•ç”¨ï¼›å¹¶ä¸”åŸæ¥çš„è·å–çš„å…ƒç´ ä»ç„¶ä¿ç•™ã€‚



::: warning

`innerHTML` ä¸ `outerHTML` åªå¯¹ **å…ƒç´ èŠ‚ç‚¹** æœ‰æ•ˆã€‚

:::



#### `nodeValue` / `data` æ–‡æœ¬èŠ‚ç‚¹

å¯¹äºå…¶ä»–èŠ‚ç‚¹ç±»å‹ï¼Œä¾‹å¦‚æ–‡æœ¬èŠ‚ç‚¹ç±»å‹ï¼Œå…·æœ‰å®ƒä»¬çš„å¯¹åº”é¡¹ï¼š`nodeValue` å’Œ `data` å±æ€§ã€‚ä¸¤ç§å±æ€§åªæœ‰ç»†å¾®çš„å·®å¼‚ã€‚

ğŸŒ° ä¾‹å­ / ä½¿ç”¨ `data` è·å–èŠ‚ç‚¹çš„å†…å®¹ï¼š
```html
<body>
  Hello
  <!-- Comment -->
  <script>
    let text = document.body.firstChild;
    console.log(text.data); // Hello

    let comment = text.nextSibling;
    console.log(comment.data); // Comment
  </script>
</body>
```



#### `textContent` çº¯æ–‡æœ¬

`textContent` æä¾›äº†å¯¹å…ƒç´ å†…çš„ **æ–‡æœ¬** çš„è®¿é—®æƒé™ï¼šä»…æ–‡æœ¬ï¼Œå»æ‰æ‰€æœ‰ æ ‡ç­¾ã€‚

ğŸŒ° ä¾‹å­ / è¯»å–çº¯æ–‡æœ¬å†…å®¹ï¼š
```html
<div id="news">
  <h1>Headline!</h1>
  <p>Martians attack people!</p>
</div>
```

```js
console.log(news.textContent); // Headline! Martians attack people!
```



> - ä½¿ç”¨ `innerHTML`ï¼Œå°†å…¶ **ä½œä¸º HTML** æ’å…¥ï¼Œå¸¦æœ‰æ‰€æœ‰ HTML æ ‡ç­¾ä¼šè¢«ä½œä¸º HTML å¤„ç†ã€‚
> - ä½¿ç”¨ `textContent`ï¼Œå°†å…¶ **ä½œä¸ºæ–‡æœ¬** æ’å…¥ï¼Œæ‰€æœ‰ç¬¦å·å‡æŒ‰å­—é¢æ„ä¹‰å¤„ç†ã€‚

ğŸŒ° ä¾‹å­ / å®‰å…¨æ–¹å¼å†™å…¥æ–‡æœ¬ï¼š 

```html
<div id="elem1"></div>
<div id="elem2"></div>
```

```html
<script>
  let name = prompt("What's your name?", "<b>Winnie-the-Pooh!</b>");

  elem1.innerHTML = name;
  elem2.textContent = name;
</script>
```



#### `hidden` å±æ€§

ç”¨äº æŒ‡å®š DOM å…ƒç´ æ˜¯å¦å¯è§ã€‚

ğŸŒ° ä¾‹å­ï¼š
```html
<div>Both divs below are hidden</div>

<div hidden>With the attribute "hidden"</div>

<div id="elem">JavaScript assigned the property "hidden"</div>

<script>
  let elem = document.querySelector('#elem')
  elem.hidden = true;
</script>
```

> å®ç°çš„æ•ˆæœä¸ `style="display: none"` ç›¸åŒã€‚





### åŒºåˆ† `Atrributes` ä¸ `properties`

åœ¨æµè§ˆå™¨é¡µé¢åŠ è½½æ—¶ï¼Œä¼šè§£æ HTML ä»ä¸­ç”Ÿæˆ DOM å¯¹è±¡ã€‚å¯¹äºå…ƒç´ èŠ‚ç‚¹ çš„å¤§å¤šæ•° HTML Attributes ç‰¹æ€§ ä¼šè‡ªåŠ¨å˜æˆ DOM å¯¹è±¡èŠ‚ç‚¹çš„ properties å±æ€§ã€‚ä½†æ˜¯ç‰¹æ€§å’Œå±æ€§æ˜ å°„ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚

ğŸŒ° ä¾‹å¦‚ï¼š `<body id="page">` ä¸­ `id` ç‰¹æ€§ä¼šå¯¹åº”å±æ€§ `body.id=â€œpageâ€`ã€‚



#### DOM å±æ€§ Property

ç”±äº DOM å…ƒç´ å¯¹è±¡ä¹Ÿæ˜¯ JavaScript å¸¸è§„å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥æ›´æ”¹å®ƒä»¬ã€‚

+ å¯ä»¥æœ‰å¾ˆå¤šå€¼ã€‚
+ é”®å¤§å°å†™æ•æ„Ÿã€‚

ğŸŒ° ä¾‹å­ï¼š

```js
document.body.myData = {
  name: "name",
  title: "title"
}

console.log(document.body.myData.name) // "name"
```

æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼š
```js
document.body.sayTagName = function () {
  console.log(this.tagName)
}

document.body.sayTagName() // BODY
```

ä¿®æ”¹åŸå‹ï¼š
```js
Element.prototype.sayHi = funciton () {
  console.log(`HI, IAM ${this.tagName}`)
}

document.documentElement.sayHi() // HI, IAM HTML
document.body.sayHi() // HI, IAM BODY
```



#### HTML ç‰¹æ€§ Attribute

æŒ‡çš„æ˜¯ HTML æ ‡ç­¾ä¸­çš„ **æ ‡å‡†ç‰¹æ€§** å¹¶ä¸”ä»¥æ­¤åˆ›å»º DOM å±æ€§ã€‚

HTML ç‰¹æ€§æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š

- å®ƒä»¬çš„åå­—æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼ˆ`id` ä¸ `ID` ç›¸åŒï¼‰ã€‚
- å®ƒä»¬çš„å€¼æ€»æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ã€‚

ğŸŒ° ä¾‹å­ï¼š

```html
<body id="test" something="non-standard">
  <script>
    alert(document.body.id); // test
    // éæ ‡å‡†çš„ç‰¹æ€§æ²¡æœ‰è·å¾—å¯¹åº”çš„å±æ€§
    alert(document.body.something); // undefined
  </script>
</body>
```

> å¯ä»¥çœ‹å‡ºï¼šå¯¹åº”çš„ æ ‡å‡†ç‰¹æ€§ `id` æ‰ä¼šåˆ›å»º DOM å±æ€§ã€‚éæ ‡å‡†çš„ç‰¹æ€§ä¸ä¼šã€‚
>
> ä½†æ˜¯ä¸åŒçš„æ ‡ç­¾ï¼Œæ ‡å‡†çš„ç‰¹æ€§å¯èƒ½ä¼šä¸åŒã€‚ä¾‹å¦‚ `type` ç‰¹æ€§æ˜¯ `<input>` çš„ä¸€ä¸ªæ ‡å‡†çš„ç‰¹æ€§ï¼ˆ[HTMLInputElement](https://html.spec.whatwg.org/#htmlinputelement)ï¼‰ï¼Œä½†å¯¹äº `<body>`ï¼ˆ[HTMLBodyElement](https://html.spec.whatwg.org/#htmlbodyelement)ï¼‰æ¥è¯´åˆ™ä¸æ˜¯ã€‚è§„èŒƒä¸­å¯¹ç›¸åº”å…ƒç´ ç±»çš„æ ‡å‡†çš„å±æ€§è¿›è¡Œäº†è¯¦ç»†çš„æè¿°ã€‚
>
> ```html
> <body id="body" type="...">
> <input id="input" type="text">
> <script>
>  alert(input.type); // text
>  alert(body.type); // undefinedï¼šDOM å±æ€§æ²¡æœ‰è¢«åˆ›å»ºï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ç‰¹æ€§
> </script>
> </body>
> ```
>
> 



æ‰€æœ‰ç‰¹æ€§ï¼ˆåŒ…å«éæ ‡å‡†ç‰¹æ€§ï¼‰éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œè®¿é—®ï¼š

- `element.hasAttribute(name)` ï¼š æ£€æŸ¥ç‰¹æ€§æ˜¯å¦å­˜åœ¨ã€‚
- `element.getAttribute(name)` ï¼šè·å–è¿™ä¸ªç‰¹æ€§å€¼ã€‚
- `element.setAttribute(name, value)` ï¼š è®¾ç½®è¿™ä¸ªç‰¹æ€§å€¼ã€‚
- `element.removeAttribute(name)` ï¼š ç§»é™¤è¿™ä¸ªç‰¹æ€§ã€‚



ğŸŒ° ä¾‹å­ / ä½¿ç”¨ç‰¹æ€§ï¼š
```html
<body>
  <div id="elem" about="Elephant"></div>

  <script>
    alert( elem.getAttribute('About') ); // (1) 'Elephant'ï¼Œè¯»å–

    elem.setAttribute('Test', 123); // (2) å†™å…¥

    alert( elem.outerHTML ); // (3) æŸ¥çœ‹ç‰¹æ€§æ˜¯å¦åœ¨ HTML ä¸­ï¼ˆåœ¨ï¼‰

    for (let attr of elem.attributes) { // (4) åˆ—å‡ºæ‰€æœ‰
      alert( `${attr.name} = ${attr.value}` );
    }
  </script>
</body>
```

> + ç‰¹æ€§çš„åç§°æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ã€‚
> + å¯ä»¥å°†ä»»ä½•ä¸œè¥¿èµ‹å€¼ç»™ç‰¹æ€§ï¼Œä½†æ˜¯è¿™äº›ä¸œè¥¿ä¼šå˜æˆ **å­—ç¬¦ä¸²ç±»å‹**ã€‚æ‰€ä»¥è¿™é‡Œçš„å€¼ä¸º `"123"`ã€‚
> + æ‰€æœ‰ç‰¹æ€§ï¼ŒåŒ…æ‹¬è‡ªå·±è®¾ç½®çš„é‚£ä¸ªç‰¹æ€§ï¼Œåœ¨ `outerHTML` ä¸­éƒ½æ˜¯å¯è§çš„ã€‚
> + `attributes` é›†åˆæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†æ‰€æœ‰å…ƒç´ çš„ç‰¹æ€§ï¼ˆæ ‡å‡†å’Œéæ ‡å‡†çš„ï¼‰ä½œä¸º `name` å’Œ `value` å±æ€§å­˜å‚¨åœ¨å¯¹è±¡ä¸­ã€‚



#### å±æ€§ä¸ç‰¹æ€§åŒæ­¥

å½“ä¸€ä¸ªæ ‡å‡†çš„ç‰¹æ€§è¢«æ”¹å˜ï¼Œå¯¹åº”çš„å±æ€§ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼Œï¼ˆé™¤äº†å‡ ä¸ªç‰¹ä¾‹ï¼‰åä¹‹äº¦ç„¶ã€‚

ğŸŒ° ä¾‹å­ï¼š

```html
<input>

<script>
  let input = document.querySelector('input');

  // ç‰¹æ€§ => å±æ€§
  input.setAttribute('id', 'id');
  alert(input.id); // idï¼ˆè¢«æ›´æ–°äº†ï¼‰

  // å±æ€§ => ç‰¹æ€§
  input.id = 'newId';
  alert(input.getAttribute('id')); // newIdï¼ˆè¢«æ›´æ–°äº†ï¼‰
</script>
```

> `id` è¢«ä¿®æ”¹ä¸ºç‰¹æ€§ï¼Œå¯¹åº”çš„å±æ€§ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚åä¹‹äº¦ç„¶ã€‚



ğŸŒ° ä¾‹å­ / ä¾‹å¤–ï¼š

```html
<input>

<script>
  let input = document.querySelector('input');

  // ç‰¹æ€§ => å±æ€§
  input.setAttribute('value', 'text');
  alert(input.value); // text

  // è¿™ä¸ªæ“ä½œæ— æ•ˆï¼Œå±æ€§ => ç‰¹æ€§
  input.value = 'newValue';
  alert(input.getAttribute('value')); // textï¼ˆæ²¡æœ‰è¢«æ›´æ–°ï¼ï¼‰
</script>
```

> è¿™ä¸ªä¾‹å­ä¸­ï¼š
>
> + æ”¹å˜ç‰¹æ€§å€¼ `value` ä¼šæ›´æ–°å±æ€§ã€‚
> + **ä½†æ˜¯å±æ€§çš„æ›´æ”¹ä¸ä¼šå½±å“ç‰¹æ€§**ã€‚æ„å‘³ç€ ç‰¹æ€§çš„ `value` ä¼šè¢«ä¿ç•™åœ¨ç‰¹æ€§ä¸­ã€‚ï¼ˆä¹‹åæƒ³è¦åŸå§‹å€¼å¯ç”¨ï¼‰



#### DOM å±æ€§çš„ç±»å‹

DOM å±æ€§ä¸æ€»æ˜¯ **å­—ç¬¦ä¸²ç±»å‹**ï¼Œä½†æ˜¯å¤§å¤šæ˜¯éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚

ğŸŒ° ä¾‹å­ / `checked` å±æ€§æ˜¯å¸ƒå°”å‹ï¼š

```html
<input id="input" type="checkbox" checked> checkbox

<script>
  console.log(input.getAttribute('checked')); // ç‰¹æ€§å€¼æ˜¯ï¼šç©ºå­—ç¬¦ä¸²
  console.log(input.checked); // å±æ€§å€¼æ˜¯ï¼štrue
</script>
```



ğŸŒ° ä¾‹å­ / `style` ç‰¹æ€§æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ `style` å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š

```html
<div id="div" style="color:red;font-size:120%">Hello</div>

<script>
  // ç‰¹æ€§å­—ç¬¦ä¸²
  alert(div.getAttribute('style')); // color:red;font-size:120%

  // å±æ€§å¯¹è±¡
  alert(div.style); // [object CSSStyleDeclaration]
  alert(div.style.color); // red
</script>
```



 ğŸŒ° ä¾‹å­ / å³ä½¿ä¸€ä¸ª DOM å±æ€§æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œä½†å®ƒå¯èƒ½å’Œ HTML ç‰¹æ€§ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚`href` è·¯å¾„DOM å±æ€§ä¸€ç›´æ˜¯ä¸€ä¸ª **å®Œæ•´çš„** URLï¼Œå³ä½¿è¯¥ç‰¹æ€§åŒ…å«ä¸€ä¸ªç›¸å¯¹è·¯å¾„æˆ–è€…åŒ…å«ä¸€ä¸ª `#hash`ã€‚ï¼š

```html
<a id="a" href="#hello">link</a>
<script>
  // ç‰¹æ€§
  alert(a.getAttribute('href')); // #hello

  // å±æ€§
  alert(a.href ); // http://site.com/page#hello å½¢å¼çš„å®Œæ•´ URL
</script>
```

> æ‰€ä»¥è¦ä½¿ç”¨å®Œæ•´çš„è·¯å¾„ `href` æˆ–è€…å…¶ä»–ä¸ HTML ä¸­æ‰€å†™çš„å®Œå…¨ç›¸åŒçš„ç‰¹æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ `getAttribute`ã€‚



#### éæ ‡å‡† HTML ç‰¹æ€§

ğŸŒ° ä¾‹å­ / éæ ‡å‡†çš„ç‰¹æ€§å¸¸å¸¸ç”¨äºå°†è‡ªå®šä¹‰çš„æ•°æ®ä» HTML ä¼ é€’åˆ° JavaScriptï¼Œæˆ–è€…ç”¨äºä¸º JavaScript æ ‡è®° HTML å…ƒç´ ã€‚

```html
!-- æ ‡è®°è¿™ä¸ª div ä»¥åœ¨è¿™æ˜¾ç¤º "name" -->
<div show-info="name"></div>
<!-- æ ‡è®°è¿™ä¸ª div ä»¥åœ¨è¿™æ˜¾ç¤º "age" -->
<div show-info="age"></div>

<script>
  // è¿™æ®µä»£ç æ‰¾åˆ°å¸¦æœ‰æ ‡è®°çš„å…ƒç´ ï¼Œå¹¶æ˜¾ç¤ºéœ€è¦çš„å†…å®¹
  let user = {
    name: "Pete",
    age: 25
  };

  for(let div of document.querySelectorAll('[show-info]')) {
    // åœ¨å­—æ®µä¸­æ’å…¥ç›¸åº”çš„ä¿¡æ¯
    let field = div.getAttribute('show-info');
    div.innerHTML = user[field]; 
  }
</script>
```



ğŸŒ° ä¾‹å­ / è®¾ç½®å…ƒç´ çš„æ ·å¼ï¼š
```html
<style>
  /* æ ·å¼ä¾èµ–äºè‡ªå®šä¹‰ç‰¹æ€§ "order-state" */
  .order[order-state="new"] {
    color: green;
  }

  .order[order-state="pending"] {
    color: blue;
  }

  .order[order-state="canceled"] {
    color: red;
  }
</style>

<div class="order" order-state="new">
  A new order.
</div>

<div class="order" order-state="pending">
  A pending order.
</div>

<div class="order" order-state="canceled">
  A canceled order.
</div>
```

> ä½¿ç”¨ç‰¹æ€§å€¼æ¯”ä½¿ç”¨ç‰¹å®šçš„ç±»åæ›´å¥½ç®¡ç†ï¼Œå¯ä»¥è½»æ¾æ”¹å˜çŠ¶æ€ã€‚
>
> ```js
> div.setAttribute('order-state', 'canceled');
> ```



è‡ªå®šä¹‰ç‰¹æ€§å­˜åœ¨çš„é—®é¢˜ï¼šå¦‚æœå¤„äºç›®çš„ä½¿ç”¨éæ ‡å‡†ç‰¹æ€§ï¼Œä¹‹åå®ƒè¢«å¼•å…¥åˆ°äº†æ ‡å‡†ä¸­å¹¶æœ‰äº†å…¶è‡ªå·±çš„ç”¨é€”ã€‚HTML è¯­è¨€æ˜¯åœ¨ä¸æ–­å‘å±•çš„ï¼Œå¹¶ä¸”æ›´å¤šçš„ç‰¹æ€§å‡ºç°åœ¨äº†æ ‡å‡†ä¸­ï¼Œä»¥æ»¡è¶³å¼€å‘è€…çš„éœ€æ±‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰çš„å±æ€§å¯èƒ½ä¼šäº§ç”Ÿæ„æ–™ä¸åˆ°çš„å½±å“ã€‚

ä¸ºäº†é¿å…å†²çªï¼Œä¿ç•™ä»¥ `data-*` å¼€å¤´å‘½åçš„ç‰¹æ€§ï¼Œ**ä¾›ç¨‹åºå‘˜ä½¿ç”¨ã€‚å®ƒä»¬å¯åœ¨ `dataset` å±æ€§ä¸­ä½¿ç”¨ã€‚**

ä½¿ç”¨ `data-*` ç‰¹æ€§æ˜¯ä¸€ç§åˆæ³•ä¸”å®‰å…¨çš„ä¼ é€’è‡ªå®šä¹‰æ•°æ®çš„æ–¹å¼ã€‚ä¸ä»…å¯ä»¥ç›´æ¥è¯»å–æ•°æ®ï¼Œè¿˜å¯ä»¥ä¿®æ”¹æ•°æ®å±æ€§ã€‚

ğŸŒ° ä¾‹å­ï¼š
```html
<body data-about="Elephants">
<script>
  console.log(document.body.dataset.about); // Elephants
</script>
```



ğŸŒ° ä¾‹å­ï¼š
```html
<style>
  .order[data-order-state="new"] {
    color: green;
  }

  .order[data-order-state="pending"] {
    color: blue;
  }

  .order[data-order-state="canceled"] {
    color: red;
  }
</style>

<div id="order" class="order" data-order-state="new">
  A new order.
</div>

<script>
  // è¯»å–
  console.log(order.dataset.orderState); // new

  // ä¿®æ”¹
  order.dataset.orderState = "pending"; // (*)
</script>
```



#### æ€»ç»“

+ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨ DOM å±æ€§ã€‚ä»…å½“ DOM å±æ€§æ— æ³•æ»¡è¶³å¼€å‘éœ€æ±‚ï¼Œå¹¶ä¸”çœŸçš„éœ€è¦ç‰¹æ€§æ—¶ï¼Œæ‰ä½¿ç”¨ç‰¹æ€§ã€‚
  + éœ€è¦ä¸€ä¸ªéæ ‡å‡†çš„ç‰¹æ€§ã€‚å®ƒåº”è¯¥ä»¥ `data-` å¼€å¤´ï¼Œä½¿ç”¨ `dataset` è·å–ã€ä¿®æ”¹ã€‚



### ä¿®æ”¹ DOM æ–‡æ¡£

åŠ¨æ€åˆ›å»ºæ–°å…ƒç´ å¹¶ä¿®æ”¹ç°æœ‰é¡µé¢å†…å®¹ã€‚



ğŸŒ° ä¾‹å­ / å‘ç”¨æˆ·å±•ç¤ºæ–°çš„ä¿¡æ¯ï¼š

```html
<style>
.alert {
  padding: 15px;
  border: 1px solid #d6e9c6;
  border-radius: 4px;
  color: #3c763d;
  background-color: #dff0d8;
}
</style>

<div class="alert">
  <strong>Hi there!</strong> You've read an important message.
</div>
```

è¦ä½¿ç”¨ JavaScript åˆ›å»ºè¿™ä¸ªç›¸åŒçš„ `div` å…ƒç´ å†…å®¹ï¼ˆCSS æ ·å¼å·²å­˜åœ¨ï¼‰ã€‚



#### åˆ›å»ºå…ƒç´ 

åˆ›å»º DOM å…ƒç´ èŠ‚ç‚¹çš„ä¸¤ç§æ–¹æ³•ï¼š

+ `document.createElement(tag)`ï¼šç”¨ç»™å®šçš„æ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ–° **å…ƒç´ èŠ‚ç‚¹**ï¼š

  ```js
  let div = document.createElement('div');
  ```

+ `document.createTextNode(text)`ï¼šç”¨ç»™å®šçš„æ–‡æœ¬åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼š

  ```js
  let textNode = document.createTextNode('Here I am');
  ```

  

#### å®Œå–„å…ƒç´ å†…å®¹

+ åˆ›å»ºå…ƒç´ èŠ‚ç‚¹ âœ…
+ è®¾ç½®ç±»å
+ å¡«å……å†…å®¹

```js
let div = document.createElement('div');

div.className = "alert";

div.innerHTML = "<strong>Hi there!</strong> You've read an important message.";
```



#### æ’å…¥å…ƒç´ 

ä¸ºäº†è®© `div` æ˜¾ç¤ºå‡ºæ¥ï¼Œéœ€è¦å°†å…¶æ’å…¥åˆ° `document` æ–‡æ¡£ä¸­çš„æŸå¤„ã€‚

ä½¿ç”¨ç‰¹æ®Šçš„æ–¹æ³• `append`ï¼šå¯ä»¥åœ¨å…¶ä»–ä»»ä½•å…ƒç´ ä¸Šè°ƒç”¨ `append` æ–¹æ³•ï¼Œä»¥å°†å¦å¤–ä¸€ä¸ªå…ƒç´ æ”¾å…¥åˆ°é‡Œé¢ã€‚

```js
document.body.append(div)
div.append(anotherElement)
```



ğŸŒ° ä¾‹å­ / å®Œæ•´çš„ä»£ç ï¼š
```js
<style>
.alert {
  padding: 15px;
  border: 1px solid #d6e9c6;
  border-radius: 4px;
  color: #3c763d;
  background-color: #dff0d8;
}
</style>

<script>
  let div = document.createElement('div');
  div.className = "alert";
  div.innerHTML = "<strong>Hi there!</strong> You've read an important message.";

  document.body.append(div);
</script>
```

> å¯¹ `document.body` è°ƒç”¨äº† `append` æ–¹æ³•ã€‚



æ›´å¤šçš„æ’å…¥å…ƒç´ çš„æ–¹æ³•ï¼Œå¯¹åº”ä¸åŒçš„æ’å…¥ä½ç½®ï¼š

- `node.append()` åœ¨ `node` **æœ«å°¾** æ’å…¥èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²ï¼Œ
- `node.prepend()` åœ¨ `node` **å¼€å¤´** æ’å…¥èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²ï¼Œ
- `node.before()` ï¼šåœ¨ `node` **å‰é¢** æ’å…¥èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²ï¼Œ
- `node.after()` â€”â€” åœ¨ `node` **åé¢** æ’å…¥èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²ï¼Œ
- `node.replaceWith()`  å°† `node` æ›¿æ¢ä¸ºç»™å®šçš„èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²ã€‚

ğŸŒ° ä¾‹å­ï¼š

```html
<ol id="ol">
  <li>0</li>
  <li>1</li>
  <li>2</li>
</ol>

<script>
  ol.before('before'); // å°†å­—ç¬¦ä¸² "before" æ’å…¥åˆ° <ol> å‰é¢
  ol.after('after'); // å°†å­—ç¬¦ä¸² "after" æ’å…¥åˆ° <ol> åé¢

  let liFirst = document.createElement('li');
  liFirst.innerHTML = 'prepend';
  ol.prepend(liFirst); // å°† liFirst æ’å…¥åˆ° <ol> çš„æœ€å¼€å§‹

  let liLast = document.createElement('li');
  liLast.innerHTML = 'append';
  ol.append(liLast); // å°† liLast æ’å…¥åˆ° <ol> çš„æœ€æœ«å°¾
</script>
```

æœ€ç»ˆåˆ—è¡¨ä¸ºï¼š
```html
before
<ol id="ol">
  <li>prepend</li>
  <li>0</li>
  <li>1</li>
  <li>2</li>
  <li>append</li>
</ol>
after
```



> ä»¥ä¸Šçš„æ’å…¥å…ƒç´ çš„æ–¹æ³•åªèƒ½æ’å…¥ å¸¦æœ‰å†…å®¹èŠ‚ç‚¹ æˆ–è€…å­—ç¬¦ä¸²å†…å®¹ã€‚å¯¹äº HTML ä»£ç çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸èƒ½è¢« æµè§ˆå™¨è§£æï¼Œè€Œæ˜¯ä½œä¸ºæ–‡æœ¬ç‰‡æ®µæ’å…¥åˆ°é¡µé¢ã€‚



é€šç”¨çš„æ’å…¥å…ƒç´ æ–¹æ³•ï¼š`elem.insertAdjacentHTML(where, html)`

+ `beforebegin`ï¼š å°† `html` æ’å…¥åˆ° `elem` å‰æ’å…¥ï¼Œ
+ `afterbegin` ï¼šå°† `html` æ’å…¥åˆ° `elem` å¼€å¤´ï¼Œ
+ `beforeend` ï¼šå°† `html` æ’å…¥åˆ° `elem` æœ«å°¾ï¼Œ
+ `afterend` ï¼š å°† `html` æ’å…¥åˆ° `elem` åã€‚

ç¬¬äºŒä¸ªå‚æ•° `html` ï¼Œæ˜¯ HTML å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä¼šè¢«ã€Œä½œä¸º HTMLã€ æ’å…¥ã€‚

ğŸŒ° ä¾‹å­ï¼š
```html
<div id="div"></div>
<script>
  div.insertAdjacentHTML('beforebegin', '<p>Hello</p>');
  div.insertAdjacentHTML('afterend', '<p>Bye</p>');
</script>
```

ç»“æœï¼š

```html
<p>Hello</p>
<div id="div"></div>
<p>Bye</p>
```



è¡ç”Ÿçš„å…„å¼Ÿæ–¹æ³•ï¼š

+ `elem.insertAdjacentText(where, text)` ï¼šè¯­æ³•ä¸€æ ·ï¼Œä½†æ˜¯å°† `text` å­—ç¬¦ä¸² **ä½œä¸ºæ–‡æœ¬** æ’å…¥è€Œä¸æ˜¯ä½œä¸º HTMLï¼Œ
+ `elem.insertAdjacentElement(where, elem)` è¯­æ³•ä¸€æ ·ï¼Œä½†æ˜¯æ’å…¥çš„æ˜¯ä¸€ä¸ªå…ƒç´ ã€‚

ï¼ˆå¯¹äºè¿™äº› å…ƒç´ å’Œæ–‡æœ¬ï¼Œä¸€èˆ¬ä½¿ç”¨ `append/prepend/before/after` æ›´åŠ æ–¹ä¾¿ï¼‰



#### ç§»é™¤èŠ‚ç‚¹

æƒ³è¦ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ `node.remove()`ã€‚

ğŸŒ° ä¾‹å­ / å°†æ¶ˆæ¯åœ¨ä¸€ç§’åç§»é™¤ï¼š

```html
<script>
  let div = document.createElement('div');
  div.className = "alert";
  div.innerHTML = "<strong>Hi there!</strong> You've read an important message.";

  document.body.append(div);
  setTimeout(() => div.remove(), 1000);
</script>
```



#### ç§»åŠ¨èŠ‚ç‚¹

åˆ©ç”¨ æ’å…¥å…ƒç´ çš„æ–¹æ³• `after()` æˆ–è€…å…¶ä»–æ–¹æ³•ã€‚

å¦‚æœè¦å°†ä¸€ä¸ªå…ƒç´  **ç§»åŠ¨** åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼Œåˆ™æ— éœ€å°†å…¶ä»åŸæ¥çš„ä½ç½®ä¸­åˆ é™¤ã€‚**æ‰€æœ‰æ’å…¥æ–¹æ³•éƒ½ä¼šè‡ªåŠ¨ä»æ—§ä½ç½®åˆ é™¤è¯¥èŠ‚ç‚¹ã€‚**

ğŸŒ° ä¾‹å­ / äº¤æ¢å…ƒç´ çš„ä½ç½®ï¼š

```html
<div id="first">First</div>
<div id="second">Second</div>
<script>
  // æ— éœ€è°ƒç”¨ remove
  second.after(first); // è·å– #secondï¼Œå¹¶åœ¨å…¶åé¢æ’å…¥ #first
</script>
```



#### å…‹éš†èŠ‚ç‚¹

è°ƒç”¨ `elem.cloneNode(true)` æ¥åˆ›å»ºå…ƒç´ çš„ä¸€ä¸ªæ·±å…‹éš†ï¼šå…·æœ‰æ‰€æœ‰ç‰¹æ€§å’Œå­å…ƒç´ ã€‚

è°ƒç”¨ `elem.cloneNode(false)`ï¼Œé‚£å…‹éš†å°±ä¸åŒ…æ‹¬å­å…ƒç´ ã€‚



ğŸŒ° ä¾‹å­ï¼š

```html
<div class="alert" id="div">
  <strong>Hi there!</strong> You've read an important message.
</div>

<script>
  let div2 = div.cloneNode(true); // å…‹éš†æ¶ˆæ¯
  div2.querySelector('strong').innerHTML = 'Bye there!'; // ä¿®æ”¹å…‹éš†

  div.after(div2); // åœ¨å·²æœ‰çš„ div åæ˜¾ç¤ºå…‹éš†
</script>
```



#### èŠ‚ç‚¹ç‰‡æ®µ DocumentFragment

è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ DOM èŠ‚ç‚¹ï¼Œç”¨æ¥ä¼ é€’èŠ‚ç‚¹åˆ—è¡¨çš„ **åŒ…è£…å™¨**ã€‚å¯ä»¥å‘å…¶ **é™„åŠ å…¶ä»–èŠ‚ç‚¹**ï¼›å½“å°†å…¶æ’å…¥æŸä¸ªä½ç½®æ—¶ï¼Œåˆ™ä¼šæ’å…¥å…¶å†…å®¹ã€‚

ğŸŒ° ä¾‹å­ / ç”Ÿæˆå¸¦æœ‰ `<li>` åˆ—è¡¨é¡¹ç›®çš„ç‰‡æ®µï¼Œå¹¶å°†å®ƒæ’å…¥åˆ° `<ul>` å½“ä¸­ï¼š

```html
<ul id="ul"></ul>

<script>
function getListContent() {
  let fragment = new DocumentFragment();

  for(let i=1; i<=3; i++) {
    let li = document.createElement('li');
    li.append(i);
    fragment.append(li);
  }

  return fragment;
}
  
ul.append(getListCount())
</script>
```

ç»“æœï¼š

```html
<ul>
  <li>1</li>
  <li>2</li>
  <li>3</li>
</ul>
```



> ä¸€èˆ¬ `DocumentFragment` å¾ˆå°‘è¢«æ˜¾å¼ä½¿ç”¨ã€‚ç›´æ¥å†™æˆè¿”å›ä¸€ä¸ªèŠ‚ç‚¹æ•°ç»„å³å¯ï¼š
>
> ```js
> function getListContent() {
>   let result = [];
> 
>   for(let i=1; i<=3; i++) {
>     let li = document.createElement('li');
>     li.append(i);
>     result.push(li);
>   }
> 
>   return result;
> }
> ```



#### æ€»ç»“

+ åˆ›å»ºæ–°èŠ‚ç‚¹çš„æ–¹æ³•ï¼š
  + `document.createElement(tag)`ï¼šç”¨ç»™å®šçš„ `tag` æ ‡ç­¾åˆ›å»ºæ–°çš„å…ƒç´ èŠ‚ç‚¹ã€‚
  + `document.createTextNode(value)`ï¼šåˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹ã€‚
  + `element.cloneNode(deep)`ï¼šå…‹éš† `element` èŠ‚ç‚¹å…ƒç´ ã€‚



+ æ’å…¥å’Œç§»é™¤èŠ‚ç‚¹çš„æ–¹æ³•ï¼š
  + `node.append()` â€” åœ¨ `node` æœ«å°¾æ’å…¥ï¼Œ
  + `node.prepend()` â€” åœ¨ `node` å¼€å¤´æ’å…¥ï¼Œ
  + `node.before()` â€” åœ¨ `node` ä¹‹å‰æ’å…¥ï¼Œ
  + `node.after()` â€” åœ¨ `node` ä¹‹åæ’å…¥ï¼Œ
  + `node.replaceWith()` â€” æ›¿æ¢ `node`ã€‚
  + `node.remove()` â€” ç§»é™¤ `node`ã€‚

