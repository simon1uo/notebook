---
title: ğŸ”‘ ES6 è¯­æ³•
date: 2021-09-09 22:40:14
permalink: /pages/e93cf2/
categories: 
  - å‰ç«¯ç¬”è®°
tags: 
  - JavaScript
  - ES6
author: 
  name: Simon
  link: https://github.com/simon1uo
---

## ES6

ECMAScript æ˜¯å‰ç«¯ JavaScript çš„è¯­æ³•è§„èŒƒï¼Œç”¨äºåº”ç”¨å„ç§ JavaScript ç¯å¢ƒï¼ˆæµè§ˆå™¨ã€node.jsï¼‰ï¼›æ‹“å±• JavaScript çš„ç”¨æ³•ã€‚

## :one: å®šä¹‰å˜é‡å’Œå¸¸é‡

ES6 æ–°å¢ä¸¤ä¸ªé‡è¦çš„å…³é”®å­— `let` å’Œ `const` ï¼›

### `let`

åŒºåˆ« `let` ä¸ `var` ï¼š

+ `let` åœ¨ä»£ç å—å†…æœ‰æ•ˆï¼Œ`var` åœ¨å…¨å±€èŒƒå›´å†…æœ‰æ•ˆï¼›
+ `let` åªèƒ½å£°æ˜ä¸€æ¬¡ï¼Œ`var` å¯ä»¥å£°æ˜å¤šæ¬¡ï¼›

```js
{
  let a = 0;
  a
  var b = 1;
}
a // error: a is not defined
b // 1
```

```js
let a = 1;
let a = 1;
a // Identifier 'a' has already been declared
```



ğŸ§® åœ¨ `for` å¾ªç¯è®¡æ•°ä¸­ï¼š

```js
for (var i = 0; i < 10; i++) {
  setTimeout(function(){
    console.log(i);
  })
}
// è¾“å‡ºåä¸ª 10

for (let j = 0; j < 10; j++) {
  setTimeout(function(){
    console.log(j);
  })
}
// è¾“å‡º 0123456789
```

+ å½“ä½¿ç”¨ `var` è¿›è¡Œå£°æ˜æ—¶ï¼Œ`i` åœ¨å…¨å±€èŒƒå›´æœ‰æ•ˆï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªå˜é‡ `i` ï¼Œå¾ªç¯é‡Œçš„åä¸ª `setTimeout` æ˜¯åœ¨å¾ªç¯ç»“æŸä¹‹åæ‰æ‰§è¡Œï¼Œæ‰€ä»¥ `i` éƒ½ä¸º 10ï¼›
+ å½“ä½¿ç”¨ `let` è¿›è¡Œå£°æ˜æ—¶ï¼Œ`j` åªåœ¨æœ¬è½®å¾ªç¯ä¸­æœ‰æ•ˆï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯çš„ `j` éƒ½æ˜¯æ–°çš„å˜é‡ï¼Œæ‰€ä»¥` setTimeout`å®šæ—¶å™¨é‡Œé¢çš„ j å…¶å®æ˜¯ä¸åŒçš„å˜é‡ã€‚ï¼ˆ**JavaScript å¼•æ“å†…éƒ¨ä¼šè®°ä½å‰ä¸€ä¸ªå¾ªç¯çš„å€¼**ï¼‰



ç›¸æ¯”äº `var` ï¼Œ  `let` **ä¸å­˜åœ¨å˜é‡æå‡**ï¼š

```js
console.log(a);  //ReferenceError: a is not defined
let a = "apple";
 
console.log(b);  //undefined
var b = "banana";
```

å˜é‡ a ç”¨ let å£°æ˜ä¸å­˜åœ¨å˜é‡æå‡ï¼Œåœ¨å£°æ˜å˜é‡ a ä¹‹å‰ï¼Œa ä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚å˜é‡ b ç”¨ var å£°æ˜å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥å½“è„šæœ¬å¼€å§‹è¿è¡Œçš„æ—¶å€™ï¼Œb å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰èµ‹å€¼ï¼Œæ‰€ä»¥ä¼šè¾“å‡º `undefined`ã€‚	

`var` é€ æˆå˜é‡ç©¿é€ï¼š

```js
// let å®šä¹‰çš„ i åªåœ¨å¾ªç¯å†…æœ‰æ•ˆ
for(let i = 0;i < 5;i++){
  console.log(i);
};

// var å®šä¹‰çš„ i å…¨åŒºæœ‰æ•ˆï¼š
for(var i = 0;i < 5;i++){
    console.log(i);
};
console.log("è¿™é‡Œå°±æ˜¯å˜é‡ç©¿é€ï¼š" + i)
```



### `const`

ç”¨ `const` å®šä¹‰ä¸€ä¸ªåªè¯»å˜é‡ï¼ˆå¸¸é‡ï¼‰ï¼Œå£°æ˜ä¹‹åä¸èƒ½ä¿®æ”¹ï¼Œå¦åˆ™æŠ¥é”™ã€‚

```js
const PI = Math.PI;
```

æš‚æ—¶æ€§æ­»åŒºï¼š

```js
var PI = "a";
if(true){
  console.log(PI);  // ReferenceError: PI is not defined
  const PI = "3.1415926";
}
```

ES6 ä¸­è§„å®šï¼Œä»£ç å—å†…å¦‚æœå­˜åœ¨ let æˆ–è€… constï¼Œä»£ç å—ä¼šå¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ä»å—çš„å¼€å§‹å°±å½¢æˆä¸€ä¸ªå°é—­ä½œç”¨åŸŸã€‚ä»£ç å—å†…ï¼Œåœ¨å£°æ˜å˜é‡ PI ä¹‹å‰ä½¿ç”¨å®ƒä¼šæŠ¥é”™ã€‚



## :two: æ¨¡ç‰ˆå­—ç¬¦ä¸²

ES6ä¸­å¯ä»¥ä½¿ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²ï¼Œä½¿ç”¨åå¼•å·` `` `ï¼›

å½“å­—ç¬¦ä¸²æ¶‰åŠåŠ¨æ€æ›´æ–°çš„éƒ¨åˆ†ï¼ŒES5 è¯­æ³•ä¸ ES6 è¯­æ³•çš„å¯¹æ¯”ï¼š

```js
var info = {
    name: 'name',
    address: 'address'
  }
  
var string1 = "Name is " + info.name + ", address is " + info.address;
  console.log(string1);

var string2 = `Name is ${info.name}, address is ${info.address}`;
  console.log(string2);
```





## :three: å‡½æ•°é»˜è®¤å‚æ•°å’Œç®­å¤´å‡½æ•°

ç»™å‡½æ•°è®¾å®šé»˜è®¤å‚æ•°ï¼š

```js
// é»˜è®¤å‚æ•° ç»™å‚æ•°åˆ—è¡¨è®¾å®šåˆå§‹å€¼
function add(a = 100, b = 100) {
    console.log(a, b);
}
// æ‰§è¡Œæ–¹æ³•ï¼Œä¼šç”¨é»˜è®¤å€¼å¡«å……ï¼Œæ‰“å°å‡ºæ¥100,200
add();
// è¦†ç›–é»˜è®¤å€¼æ‰“å°  ç»“æœæ˜¯1ï¼Œ2      
add(1, 2);
```

***

1. ES5ä¸­çš„å‡½æ•°å®šä¹‰ï¼š

```js
function fun1() {
    console.log("ç¬¬ä¸€ç§å†™æ³•");
};
```

```js
var fun2 = function () {
    console.log("ç¬¬äºŒç§å†™æ³•");
};
```



2. ğŸ”‘ **ES6ä¸­çš„ç®­å¤´å‡½æ•°**ï¼š

> ç®­å¤´å‡½æ•°æœ€ç›´è§‚çš„ä¸‰ä¸ªç‰¹ç‚¹ï¼š
>
> 1. ä¸éœ€è¦ `function` å…³é”®å­—æ¥åˆ›å»ºå‡½æ•°
> 2. å¯ä»¥çœç•¥ `return` å…³é”®å­—
> 3. ç»§æ‰¿å½“å‰ä¸Šä¸‹æ–‡çš„` this` å…³é”®å­—

```js
// æ²¡æœ‰å‚æ•°æ—¶ï¼š
let fun3 = () => {
    console.log('ç®­å¤´å‡½æ•°');
};
```

```js
// æœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå°æ‹¬å·å¯ä»¥çœç•¥
let fun4 = v => {
    console.log(v);
}

fun4("ä¸€ä¸ªå‚æ•°æ—¶")
```

```js
// ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å‚æ•°æ—¶
let fun5 = (a, b) => {
    console.log(a*b);
}
fun5(4,5);
```

```js
// çœç•¥return
let fun6 = (a,b) => (a + b)
let res = fun6(4,5)
```



## :four: å¯¹è±¡åˆå§‹åŒ–ç®€å†™

**å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­çš„keyå’Œvalueçš„åå­—ä¸€æ ·çš„æƒ…å†µä¸‹å¯ä»¥å®šä¹‰æˆä¸€ä¸ªã€‚**

åœ¨ ES5 è¯­æ³•ä¸­ï¼Œå¯¹è±¡çš„å®šä¹‰ï¼š

```js
let info = {
    title: "title",
    link: "link",
    go: function () {
        console.log(" logging ");
    }
}
```



ES6 ä¸­è¿›è¡Œç®€å†™ï¼š

> å› ä¸ºå¯¹è±¡ `key:value` å­˜åœ¨ï¼š
>
> 1. key å’Œå˜é‡çš„åå­—ä¸€è‡´æ—¶ï¼Œ å¯ä»¥åªæŒ‡å®šä¸€æ¬¡ï¼›
> 2. å‡½æ•°å¯ä»¥çœç•¥ `function` ï¼›

```js
var title = "title-text";
var link = "link-text";
let info2 = {
    title: title,
    link: link,
    go(){
        console.log(" logging ");
    }
}

console.log(info2);
console.log(info2.title);
console.log(info2.link);
info2.go();
```

```
{ title: 'title-text', link: 'link-text', go: [Function: go] }
title-text
link-text
logging 
```



**ğŸŒ°ä¾‹å­**ï¼šç™»å½•

```js
$("#loginbtn").on("click", function () {
    var username = $("#username").val();
    var password = $("#password").val();

    // ä¼ å…¥å‚æ•°çš„å¯¹è±¡ç®€å†™
    var params = {
        account,
        password
    };
    // æ‰§è¡Œå¼‚æ­¥è¯·æ±‚
    $.ajax({
        type: "post",
        url: "test",
        data: params,
        success() {
            // ç®€å†™å‡½æ•°
        }
    })
})
```



## :five: å¯¹è±¡è§£æ„

ES 6 **æä¾›ä¸€äº›è·å–å¿«æ·è·å–å¯¹è±¡å±æ€§å’Œè¡Œä¸ºæ–¹å¼**ï¼›

```js
var title = "title-text";
var link = "link-text";
let info2 = {
    title: title,
    link: link,
    go(){
        console.log(" logging ");
    }
}

// è°ƒç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼š.
console.log(info2);
console.log(info2.title);
console.log(info2.link);
info2.go();

// è°ƒç”¨ç¬¬äºŒç§æ–¹æ³•ï¼š []
console.log(info2);
console.log(info2["title"]);
console.log(info2["link"]);
info2["go"]();

// ES6 ä¸­å¯¹è±¡è§£æ„ï¼šå¿«é€Ÿè·å–å±æ€§å’Œæ–¹æ³•
var {title, link, go} = info2;
console.log(title);
console.log(link);
go();
```



? å¯¹è±¡å–å€¼ `.` æˆ– `[]`



## :six: ä¼ æ’­æ“ä½œç¬¦

`â€¦`

```js
// å¯¹è±¡ä¼ æ’­æ“ä½œç¬¦
var person = {
    name: "name-text",
    address: "address-text",
    link: "link-text",
    phone: 123456,
    go(){
        console.log("logging");
    }
}

// ä¼ æ’­æ“ä½œç¬¦... è§£æ„ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†èµ‹äºˆç»™person2
var {name, address, ... person2} = person;

console.log(name);
console.log(address);
console.log(person2);
```



**ğŸŒ°ä¾‹å­**ï¼šæ¨¡æ‹Ÿåå°ï¼šå¼‚æ­¥æŸ¥è¯¢è¿”å›ç”¨æˆ·æ•°æ®

```js
function findUsers(){
    $.get("xxxxx",function(res){
        var res = {
            pages:11,
            pageSize:10,
            pageNo:1,
            firstFlag:true,
            lastFlag:false,
            total:123,
            data:[{},{},{},{}],
        };
        // ==========================å¯¹è±¡ ... å–å€¼===============
        var {data:users,...pagesjon} = res;
        
        //ç­‰ä»·äº
        /*  var users = res.data;
           var pagesjon = {
            res = {
                pages:11,
                pageSize:10,
                pageNo:1,
                firstFlag:true,
                lastFlag:false,
                total:123,
            }; */
    })
}
```
