ES6 æ–°å¢ä¸¤ä¸ªé‡è¦çš„å…³é”®å­— `let` å’Œ `const` ï¼›

### `let`

åŒºåˆ« `let` ä¸ `var` ï¼š

+ `let` åœ¨ä»£ç å—å†…æœ‰æ•ˆï¼Œ`var` åœ¨å…¨å±€èŒƒå›´å†…æœ‰æ•ˆï¼›
+ `let` åªèƒ½å£°æ˜ä¸€æ¬¡ï¼Œ`var` å¯ä»¥å£°æ˜å¤šæ¬¡ï¼›

```js
{
  let a = 0;
  a
  var b = 1;
}
a // error: a is not defined
b // 1
```

```js
let a = 1;
let a = 1;
a // Identifier 'a' has already been declared
```



ğŸ§® åœ¨ `for` å¾ªç¯è®¡æ•°ä¸­ï¼š

```js
for (var i = 0; i < 10; i++) {
  setTimeout(function(){
    console.log(i);
  })
}
// è¾“å‡ºåä¸ª 10

for (let j = 0; j < 10; j++) {
  setTimeout(function(){
    console.log(j);
  })
}
// è¾“å‡º 0123456789
```

+ å½“ä½¿ç”¨ `var` è¿›è¡Œå£°æ˜æ—¶ï¼Œ`i` åœ¨å…¨å±€èŒƒå›´æœ‰æ•ˆï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªå˜é‡ `i` ï¼Œå¾ªç¯é‡Œçš„åä¸ª `setTimeout` æ˜¯åœ¨å¾ªç¯ç»“æŸä¹‹åæ‰æ‰§è¡Œï¼Œæ‰€ä»¥ `i` éƒ½ä¸º 10ï¼›
+ å½“ä½¿ç”¨ `let` è¿›è¡Œå£°æ˜æ—¶ï¼Œ`j` åªåœ¨æœ¬è½®å¾ªç¯ä¸­æœ‰æ•ˆï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯çš„ `j` éƒ½æ˜¯æ–°çš„å˜é‡ï¼Œæ‰€ä»¥` setTimeout`å®šæ—¶å™¨é‡Œé¢çš„ j å…¶å®æ˜¯ä¸åŒçš„å˜é‡ã€‚ï¼ˆ**JavaScript å¼•æ“å†…éƒ¨ä¼šè®°ä½å‰ä¸€ä¸ªå¾ªç¯çš„å€¼**ï¼‰



ç›¸æ¯”äº `var` ï¼Œ  `let` **ä¸å­˜åœ¨å˜é‡æå‡**ï¼š

```js
console.log(a);  //ReferenceError: a is not defined
let a = "apple";
 
console.log(b);  //undefined
var b = "banana";
```

å˜é‡ a ç”¨ let å£°æ˜ä¸å­˜åœ¨å˜é‡æå‡ï¼Œåœ¨å£°æ˜å˜é‡ a ä¹‹å‰ï¼Œa ä¸å­˜åœ¨ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚å˜é‡ b ç”¨ var å£°æ˜å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥å½“è„šæœ¬å¼€å§‹è¿è¡Œçš„æ—¶å€™ï¼Œb å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰èµ‹å€¼ï¼Œæ‰€ä»¥ä¼šè¾“å‡º `undefined`ã€‚	

`var` é€ æˆå˜é‡ç©¿é€ï¼š

```js
// let å®šä¹‰çš„ i åªåœ¨å¾ªç¯å†…æœ‰æ•ˆ
for(let i = 0;i < 5;i++){
  console.log(i);
};

// var å®šä¹‰çš„ i å…¨åŒºæœ‰æ•ˆï¼š
for(var i = 0;i < 5;i++){
    console.log(i);
};
console.log("è¿™é‡Œå°±æ˜¯å˜é‡ç©¿é€ï¼š" + i)
```



### `const`

ç”¨ `const` å®šä¹‰ä¸€ä¸ªåªè¯»å˜é‡ï¼ˆå¸¸é‡ï¼‰ï¼Œå£°æ˜ä¹‹åä¸èƒ½ä¿®æ”¹ï¼Œå¦åˆ™æŠ¥é”™ã€‚

```js
const PI = Math.PI;
```

æš‚æ—¶æ€§æ­»åŒºï¼š

```js
var PI = "a";
if(true){
  console.log(PI);  // ReferenceError: PI is not defined
  const PI = "3.1415926";
}
```

ES6 ä¸­è§„å®šï¼Œä»£ç å—å†…å¦‚æœå­˜åœ¨ let æˆ–è€… constï¼Œä»£ç å—ä¼šå¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ä»å—çš„å¼€å§‹å°±å½¢æˆä¸€ä¸ªå°é—­ä½œç”¨åŸŸã€‚ä»£ç å—å†…ï¼Œåœ¨å£°æ˜å˜é‡ PI ä¹‹å‰ä½¿ç”¨å®ƒä¼šæŠ¥é”™ã€‚