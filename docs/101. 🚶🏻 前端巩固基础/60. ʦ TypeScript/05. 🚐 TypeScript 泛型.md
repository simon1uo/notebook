---
title:  ğŸš TypeScript æ³›å‹
date: 2022-04-30 17:18:53
permalink: /pages/9cb8e3/
categories:
  -  ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€
  -  Ê¦ TypeScript
tags:
  - 
---

> è½¯ä»¶å·¥ç¨‹çš„ä¸»è¦ç›®çš„æ˜¯æ„å»ºä¸ä»…ä»…æ˜ç¡®å’Œä¸€è‡´çš„APIï¼Œè¿˜è¦è®©ä½ çš„ä»£ç å…·æœ‰å¾ˆå¼ºçš„å¯é‡ç”¨æ€§ï¼š
>
> + æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°æ¥å°è£…ä¸€äº›APIï¼Œé€šè¿‡ä¼ å…¥ä¸åŒçš„å‡½æ•°å‚æ•°ï¼Œè®©å‡½æ•°å¸®åŠ©æˆ‘ä»¬å®Œæˆä¸åŒçš„æ“ä½œï¼›
> + ä½†æ˜¯å¯¹äºå‚æ•°çš„ç±»å‹æ˜¯å¦ä¹Ÿå¯ä»¥å‚æ•°åŒ–å‘¢ï¼Ÿ

ç±»å‹çš„å‚æ•°åŒ–ï¼š

+ å®ç°éœ€æ±‚ï¼šå°è£…ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›è¿™ä¸ªå‚æ•°ã€‚

+ æŒ‰ç…§ TypeScript çš„æ€æƒ³ï¼Œè¦è€ƒè™‘è¿™ä¸ªå‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹éœ€è¦ä¸€è‡´ã€‚

  ```typescript
  function foo(arg: number): number {
    return arg
  }
  ```

+ æ‹“å±•åˆ°æ›´å¤šçš„ç±»å‹ï¼ˆ`string` ã€`boolean` ç­‰ç±»å‹ï¼‰ï¼š

  ```typescript
  function foo(arg: any): any {
    return arg
  }
  ```

  

### ä½¿ç”¨æ³›å‹å®ç°ç±»å‹å‚æ•°åŒ–

> è™½ç„¶ä½¿ç”¨ `any` æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å®šä¹‰ä¸º `any` ç±»å‹çš„æ—¶å€™ï¼Œ**æˆ‘ä»¬å…¶å®å·²ç»ä¸¢å¤±äº†ç±»å‹ä¿¡æ¯**ï¼š 
>
> + æ¯”å¦‚æˆ‘ä»¬ä¼ å…¥çš„æ˜¯ä¸€ä¸ªnumberï¼Œé‚£ä¹ˆå¸Œæœ›è¿”å›çš„å¯ä¸æ˜¯ `any` ç±»å‹ï¼Œè€Œæ˜¯ `number` ç±»å‹ï¼› 
> + æ‰€ä»¥ï¼Œéœ€è¦åœ¨å‡½æ•°ä¸­å¯ä»¥æ•è·åˆ°å‚æ•°çš„ç±»å‹æ˜¯ `number` ï¼Œå¹¶ä¸”åŒæ—¶ä½¿ç”¨å®ƒæ¥ä½œä¸ºè¿”å›å€¼çš„ç±»å‹ã€‚

å¯ä»¥ä½¿ç”¨ä¸€ç§ç‰¹æ€§çš„å˜é‡ã€Œç±»å‹å˜é‡ï¼ˆtype variableï¼‰ã€ï¼Œå®ƒä½œç”¨äºç±»å‹ï¼Œè€Œä¸æ˜¯å€¼ã€‚

```typescript
function foo<Type>(arg: Type): Type {
  return arg
}
```

å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼æ¥è°ƒç”¨å®ƒï¼š

- é€šè¿‡ `<ç±»å‹>` çš„æ–¹å¼ä¼ é€’ç»™å‡½æ•°ã€‚

- é€šè¿‡ç±»å‹æ¨å¯¼ï¼Œè‡ªåŠ¨æ¨å¯¼å‡ºæˆ‘ä»¬ä¼ å…¥å˜é‡çš„ç±»å‹ã€‚åœ¨è¿™é‡Œä¼šæ¨å¯¼å‡ºå®ƒä»¬æ˜¯å­—é¢é‡ç±»å‹çš„ï¼Œå› ä¸ºå­—é¢é‡ç±»å‹å¯¹äºä¸Šé¢çš„å‡½æ•°æ˜¯é€‚ç”¨çš„ã€‚

  ```typescript
  foo<string>('abc')
  foo<number>(123)
  ```

  ```typescript
  foo('abc')
  foo(123)
  ```



+ åœ¨æ³›å‹ä¸­å¯ä»¥ä¼ å…¥å¤šä¸ªç±»å‹ï¼š

  ```typescript
  function foo<T, E>(a1: T, a2: E)
  ```

+ åœ¨å¼€å‘ä¸­çœ‹åˆ°ä¸€äº›å¸¸ç”¨çš„åç§°ï¼š

  + Tï¼šTypeçš„ç¼©å†™ï¼Œç±»å‹
  + Kã€Vï¼škeyå’Œvalueçš„ç¼©å†™ï¼Œé”®å€¼å¯¹ 
  + Eï¼šElementçš„ç¼©å†™ï¼Œå…ƒç´ 
  + Oï¼šObjectçš„ç¼©å†™ï¼Œå¯¹è±¡



### æ³›å‹æ¥å£

+ åœ¨å®šä¹‰æ¥å£æ—¶å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š

  ```typescript
  interface IFoo<T> {
    initialValue: T,
    valueList: T[],
    handleValue: (value: T) => void
  }
  
  const foo: IFoo<number> = {
    initalValue: 0,
    valueList: [0, 1, 3],
    handleValue: function(value: number) {
      console.log(value)
    }
  }
  ```

  å¯ä»¥è®¾ç½®é»˜è®¤å€¼ä¸º `number` ç±»å‹ï¼š

  ```typescript
  interface IFoo<T = number> {
    initialValue: T,
    valueList: T[],
    handleValue: (value: T) => void
  }
  ```

  

### æ³›å‹ç±»

```typescript
class Point<T> {
  X: T
  y: T
  
  constructor(x: T, y: T) {
    this.x = x
    this.y = y
  }
}
const p1 = new Point(10, 20)
const p2 = new Point<number>(10, 20)
const p3: Point<number> = new Point(10, 20)
```



### æ³›å‹çº¦æŸ

æœ‰æ—¶å€™å¸Œæœ›ä¼ å…¥çš„ç±»å‹æœ‰æŸäº›å…±æ€§ï¼Œä½†æ˜¯è¿™äº›å…±æ€§å¯èƒ½ä¸æ˜¯åœ¨åŒä¸€ç§ç±»å‹ä¸­ï¼š 

+ æ¯”å¦‚ `string` å’Œ `array` éƒ½æ˜¯æœ‰ `length` çš„ï¼Œæˆ–è€…æŸäº›å¯¹è±¡ä¹Ÿæ˜¯ä¼šæœ‰ `length` å±æ€§çš„ï¼› 

+ é‚£ä¹ˆåªè¦æ˜¯æ‹¥æœ‰ `length` çš„å±æ€§éƒ½å¯ä»¥ä½œä¸ºå‚æ•°ç±»å‹ï¼š

  ```typescript
  interface ILength {
    length: number
  }
  
  function getLength<T extends ILength>(args: T) {
    return args.length
  }
  
  console.log(getLength('abc'))
  console.log(getLength(['abc', 'cba']))
  console.log(getLength({length: 100, name: 'simon'}))
  ```

  
