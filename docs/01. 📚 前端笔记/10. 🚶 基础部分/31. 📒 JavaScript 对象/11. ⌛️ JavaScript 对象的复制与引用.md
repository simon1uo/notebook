---
title:  âŒ›ï¸ JavaScript å¯¹è±¡çš„å¤åˆ¶ä¸å¼•ç”¨
date: 2022-05-04 23:06:19
permalink: /pages/6b7a7d/
categories:
  -  ğŸ“š å‰ç«¯ç¬”è®°
  -  ğŸš¶ åŸºç¡€éƒ¨åˆ†
  -  ğŸš¶ JavaScript åŸºç¡€
tags:
  - 
author: 
  name: Simon
  link: https://github.com/simon1uo
---
ä¸åŸå§‹ç±»å‹ç›¸æ¯”ï¼Œ**å¯¹è±¡çš„æ ¹æœ¬åŒºåˆ«ä¹‹ä¸€æ˜¯å¯¹è±¡æ˜¯ã€Œé€šè¿‡å¼•ç”¨ã€è¢«å­˜å‚¨å’Œå¤åˆ¶çš„**ï¼Œä¸åŸå§‹ç±»å‹å€¼ç›¸åï¼šå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ç­‰ â€”â€” å§‹ç»ˆæ˜¯ä»¥ã€Œæ•´ä½“å€¼ã€çš„å½¢å¼è¢«å¤åˆ¶çš„ã€‚



ğŸŒ° ä¾‹å­ï¼š

```js
let user = {
  name: 'simon'
}
```

åœ¨å¯¹è±¡ä¸­ï¼Œ**èµ‹å€¼äº†å¯¹è±¡çš„å˜é‡å­˜å‚¨çš„ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯è¯¥å¯¹è±¡ã€Œåœ¨å†…å­˜ä¸­çš„åœ°å€ã€ â€”â€” æ¢å¥è¯è¯´å°±æ˜¯å¯¹è¯¥å¯¹è±¡çš„ã€Œå¼•ç”¨ã€ã€‚**

ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå¯¹è±¡å†…å®¹è¢«å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æŸä¸ªä½ç½®ï¼Œè€Œå˜é‡ `user` ä¿å­˜çš„æ˜¯å¯¹å…¶çš„ã€Œå¼•ç”¨ã€ã€‚ï¼ˆå¯ä»¥æƒ³è±¡**å¯¹è±¡å˜é‡**ä¸º**ä¸€å¼ å†™æœ‰å¯¹è±¡çš„åœ°å€çš„çº¸**ï¼‰ å¦‚æœè¦å¯¹å¯¹è±¡æ‰§è¡Œæ“ä½œï¼Œä¾‹å¦‚è·å–å±æ€§ï¼ŒJavaScript å¼•æ“ä¼šæŸ¥çœ‹è¯¥åœ°å€ä¸­çš„å†…å®¹ï¼Œå¹¶åœ¨å®é™…å¯¹è±¡ä¸Šæ‰§è¡Œæ“ä½œã€‚



ğŸŒ° ä¾‹å­ï¼š

```js
let admin = user; // èµ‹å€¼å¼•ç”¨
```

**å½“ä¸€ä¸ªå¯¹è±¡å˜é‡è¢«å¤åˆ¶ â€”â€” å¼•ç”¨è¢«å¤åˆ¶ï¼Œè€Œè¯¥å¯¹è±¡è‡ªèº«å¹¶æ²¡æœ‰è¢«å¤åˆ¶ã€‚**æ­¤æ—¶ä¸¤ä¸ªå¯¹è±¡å˜é‡ï¼Œä¿å­˜çš„éƒ½æ˜¯å¯¹**åŒä¸€ä¸ªå¯¹è±¡**çš„å¼•ç”¨ã€‚



ğŸŒ° ä¾‹å­ï¼š

```js
let user = { name: 'simon' };
let admin = user;
admin.name = 'bimon'; // é€šè¿‡ "admin" å¼•ç”¨æ¥ä¿®æ”¹
alert(user.name);
```

æ­¤æ—¶ä¿®æ”¹å¯¹è±¡çš„å†…å®¹ï¼šå¯ä»¥é€šè¿‡å…¶ä¸­ä»»æ„ä¸€ä¸ªå˜é‡è®¿é—®è¯¥å¯¹è±¡ï¼Œå¹¶ä¸”ä¿®æ”¹å®ƒçš„å†…å®¹ã€‚ï¼ˆå¸¦æœ‰ä¸¤æŠŠé’¥åŒ™çš„æŸœå­ï¼Œå±Šå¯ä»¥æ›´æ”¹æŸœå­é‡Œé¢çš„å†…å®¹ï¼‰



## é€šè¿‡å¼•ç”¨æ¯”è¾ƒ

ä»…å½“ä¸¤ä¸ªå¯¹è±¡ä¸ºåŒä¸€å¯¹è±¡æ—¶ï¼Œä¸¤è€…æ‰ç›¸ç­‰ã€‚



ğŸŒ° æ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨è‡ªåŒä¸€ä¸ªå¯¹è±¡çš„å¯¹è±¡å˜é‡ï¼š

```js
let a = {};
let b = a; // å¤åˆ¶å¼•ç”¨

alert( a == b ); // trueï¼Œéƒ½å¼•ç”¨åŒä¸€å¯¹è±¡
alert( a === b ); // true
```



ğŸŒ° æ¯”è¾ƒä¸¤ä¸ªçœ‹ä¼¼ã€Œç›¸åŒã€çš„å¯¹è±¡å˜é‡ï¼š

```js
let a = {};
let b = {}; // ä¸¤ä¸ªç‹¬ç«‹çš„å¯¹è±¡

alert( a == b ); // false
```

> **å®é™…ä¸Šï¼Œå¯¹è±¡çš„æ¯”è¾ƒå¾ˆå°‘è¿›è¡Œã€‚**



## å¯¹è±¡çš„å…‹éš†ä¸åˆå¹¶

å¦‚æœæƒ³è¦å¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œ**åˆ›å»ºä¸€ä¸ªç‹¬ç«‹äºåŸæ¥å¯¹è±¡çš„æ‹·è´**ã€‚é€šè¿‡ä¸¤ç§æ–¹æ³•ï¼š

+ éå†å¯¹è±¡å¤åˆ¶ï¼š

  ```js
  let user = {
    name: "John",
    age: 30
  };
  
  let clone = {}; // æ–°çš„ç©ºå¯¹è±¡
  
  // å°† user ä¸­æ‰€æœ‰çš„å±æ€§æ‹·è´åˆ°å…¶ä¸­
  for (let key in user) {
    clone[key] = user[key];
  }
  
  // ç°åœ¨ clone æ˜¯å¸¦æœ‰ç›¸åŒå†…å®¹çš„å®Œå…¨ç‹¬ç«‹çš„å¯¹è±¡
  clone.name = "Pete"; // æ”¹å˜äº†å…¶ä¸­çš„æ•°æ®
  
  alert( user.name ); // åŸæ¥çš„å¯¹è±¡ä¸­çš„ name å±æ€§ä¾ç„¶æ˜¯ John
  ```

+ ä½¿ç”¨ [Object.assign](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign) æ–¹æ³•æ¥è¾¾æˆåŒæ ·çš„æ•ˆæœï¼Œè¯­æ³•ä¸ºï¼š `Object.assign(dest, [src1, src2, src3...])`ï¼Œï¼ˆ`dest` ç›®æ ‡å¯¹è±¡ï¼Œ `src...` æºå¯¹è±¡ï¼‰

  ```js
  let user = {
    name: "John",
    age: 30
  };
  
  let clone = Object.assign({}, user);
  ```

  

  é€šè¿‡ Object.assign åˆå¹¶å¯¹è±¡çš„ä¾‹å­ï¼š

  ```js
  let user = { name: "John" };
  
  let permissions1 = { canView: true };
  let permissions2 = { canEdit: true };
  
  // å°† permissions1 å’Œ permissions2 ä¸­çš„æ‰€æœ‰å±æ€§éƒ½æ‹·è´åˆ° user ä¸­
  Object.assign(user, permissions1, permissions2);
  
  // ç°åœ¨ user = { name: "John", canView: true, canEdit: true }
  ```

  å¦‚æœè¢«æ‹·è´çš„å±æ€§å·²ç»å­˜åœ¨ï¼Œåˆ™è¦†ç›–åŸæ¥çš„å±æ€§ï¼š

  ```js
  let user = { name: "John" };
  Object.assign(user, { name: "Pete" });
  alert(user.name); // ç°åœ¨ user = { name: "Pete" }
  ```

  

> JavaScript è¿›é˜¶ç”¨æ³•ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç»“æ„å¯¹è±¡ï¼ˆï¼Ÿï¼‰ä¼ é€’è¯­æ³•ï¼Œ`clone = { â€¦user }` å®Œæˆå¯¹è±¡çš„å…‹éš†ã€‚[Rest å‚æ•°ä¸ Spread è¯­æ³• (javascript.info)](https://zh.javascript.info/rest-parameters-spread)



## å¯¹è±¡çš„æ·±å±‚å…‹éš†

å‰é¢æ‰€è¿°çš„å¯¹è±¡å±æ€§ï¼Œçš†ä¸ºåŸå§‹ç±»å‹ã€‚ä½†æ˜¯å¯¹è±¡ä¸­çš„å±æ€§ä¹Ÿå¯ä»¥æ˜¯å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ã€‚ä¸Šé¢çš„ç®€å•å…‹éš†æ‹·è´æ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºåˆ°äº†å±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œç®€å•çš„å¤åˆ¶ï¼Œä»ç„¶ä¸ºå¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨æ‹·è´ã€‚

```js
let user = {
  name: "John",
  sizes: {
    height: 182,
    width: 50
  }
};

let clone = Object.assign({}, user);

alert( user.sizes === clone.sizes ); // trueï¼ŒåŒä¸€ä¸ªå¯¹è±¡

// user å’Œ clone åˆ†äº«åŒä¸€ä¸ª sizes
user.sizes.width++;       // é€šè¿‡å…¶ä¸­ä¸€ä¸ªæ”¹å˜å±æ€§å€¼
alert(clone.sizes.width); // 51ï¼Œèƒ½ä»å¦å¤–ä¸€ä¸ªçœ‹åˆ°å˜æ›´çš„ç»“æœ
```



è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåº”è¯¥ä½¿ç”¨ä¸€ä¸ªæ‹·è´å¾ªç¯æ¥æ£€æŸ¥ `user[key]` çš„æ¯ä¸ªå€¼ï¼Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¹Ÿå¤åˆ¶å®ƒçš„ç»“æ„ã€‚è¿™å°±æ˜¯æ‰€è°“çš„ã€Œæ·±æ‹·è´ã€ã€‚å¯ä»¥ä½¿ç”¨ é€’å½’ å®ç°ï¼Œåœ¨  [lodash](https://lodash.com/) åº“çš„ [_.cloneDeep(obj)](https://lodash.com/docs#cloneDeep)ã€‚



::: warning

ç”±äºå¯¹è±¡çš„å¼•ç”¨å­˜å‚¨ç‰¹æ€§ï¼Œä½¿ç”¨ `const` å£°æ˜çš„å¯¹è±¡æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚

ğŸŒ° ä¾‹å­ï¼š

```js
const user = {
  name: "John"
};

user.name = "Pete"; // (*)

alert(user.name); 
```

> è™½ç„¶ `user` çš„å€¼æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚ä½†è¿™é‡Œçš„ã€Œå¸¸é‡ã€æŒ‡çš„æ˜¯å§‹ç»ˆå¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚è€Œè¯¥å¯¹è±¡çš„å€¼å¯ä»¥è¢«ä¿®æ”¹ã€‚
>
> åªæœ‰è¯•å›¾å¯¹è¯¥å˜é‡çš„æ•´ä½“è¿›è¡Œèµ‹å€¼æ—¶ï¼Œæ‰ä¼šæŠ¥é”™ã€‚
>
> åˆ›å»ºå¸¸é‡çš„å¯¹è±¡å±æ€§ï¼š[å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦](https://zh.javascript.info/property-descriptors)

:::