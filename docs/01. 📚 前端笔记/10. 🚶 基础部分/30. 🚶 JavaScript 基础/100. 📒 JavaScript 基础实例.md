---
title: ğŸ“’ JavaScript åŸºç¡€å®ä¾‹
date: 2021-09-24 16:55:23
permalink: /pages/93f713/
categories: 
  - å‰ç«¯ç¬”è®°
  - ğŸ“¦ JavaScript ç¬”è®°
tags: 
  - JavaScript
author: 
  name: Simon
  link: https://github.com/simon1uo
---
## :one: äº‹ä»¶ ğŸŒ°

1. `div` è·Ÿéšé¼ æ ‡ç§»åŠ¨

   è·å–é¼ æ ‡ç›¸å¯¹äºçª—å£çš„åæ ‡ `clientX` å’Œ `clientY` ï¼š

   ä½†æ˜¯è¦æ³¨æ„ç½‘é¡µé«˜åº¦å¤§äºç½‘é¡µçª—å£çš„é«˜åº¦æ—¶ï¼Œé¼ æ ‡ç›¸å¯¹äºçª—å£çš„åæ ‡ä¸ `div` çš„åç§»é‡ä¼šå‡ºç°åå·®ï¼Œéœ€è¦åŠ ä¸Šæ»šåŠ¨æ¡çš„æ»šåŠ¨é•¿åº¦ã€‚

   ä½¿ç”¨ `scrollTop` è·å–æ»šåŠ¨æ¡çš„æ»šåŠ¨é•¿åº¦ï¼Œéœ€è¦æ³¨æ„å¯¹ä¸åŒçš„æµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼š

   ```js
   window.onload = function () {
       // è·å– box1 
       var box = document.getElementById("box1");
   
       // ç»‘å®šé¼ æ ‡ç§»åŠ¨æ—¶åŠ ä½ 
       document.onmousemove = function (event) {
           event = event || window.event; // è§£å†³å…¼å®¹é—®é¢˜
   
           // è·å–é¼ æ ‡åæ ‡,æ•°å€¼æ²¡æœ‰å•ä½
           // æ˜¯ç›¸å¯¹äºå¯è§çª—å£çš„åæ ‡ 
           // è€Œ div çš„åç§»é‡æ˜¯ç›¸å¯¹äºæ•´ä¸ªç½‘é¡µ
           var left = event.clientX;
           var top = event.clientY;
   
           // è·å–æ»šåŠ¨æ¡topå’Œleft
           // document.body.~ é€‚ç”¨äº Chrome
           // document.documentElement.~ é€‚ç”¨äºç«ç‹å’Œ IE
           var st = document.body.scrollTop || document.documentElement.scrollTop;
           var sl = document.body.scrollLeft || document.documentElement.scrollLeft;
   
           // è®¾ç½® box1 çš„åç§»é‡
           box1.style.left = left + sl + 'px';
           box1.style.top = top + st + 'px';
       }
   }
   ```

   ç›´æ¥è·å–é¼ æ ‡ç›¸å¯¹äºæ•´ä¸ªç½‘é¡µçš„åæ ‡ `pageX` å’Œ `pageY` å³å¯ï¼š

   ```js
   var left = event.pageX;
   var top = event.pageY;
   
   // ... 
   
    box1.style.left = left + 'px';
   box1.style.top = top + 'px';
   ```

   

   



##  :two: JavaScript å®šæ—¶å™¨ ğŸŒ°

1. â²ï¸ å®šæ—¶å™¨æ¯ç§’è‡ªåŠ¨åˆ‡æ¢ 

::: demo [vanilla]

```html
<html>
  <body>
    <img src="" alt="" id="img1">
    <button id="btn01">å¼€å§‹</button>
    <button id="btn02">åœæ­¢</button>
</body>
</html>
<script type="text/javascript">
        window.onload = function () {
            // 1 è·å–å›¾ç‰‡æ ‡ç­¾å…ƒç´ 
            var img1 = document.getElementById("img1");

            // è·å–å¼€å§‹å’Œåœæ­¢çš„æŒ‰é’®
            var btn01 = document.getElementById("btn01");
            var btn02 = document.getElementById("btn02");


            // 2 åˆ›å»ºä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜å›¾ç‰‡çš„è·¯å¾„
            var imgArr = ["https://placekitten.com/80/80", "https://placekitten.com/80/80", "https://placekitten.com/80/80", "https://placekitten.com/80/80"]

            // å®šä¹‰å®šæ—¶å™¨æ ‡è¯†
            var timer;

            // 3 åˆ›å»ºä¸€ä¸ªå˜é‡ç”¨æ¥ä¿å­˜å½“å‰å›¾ç‰‡çš„ç´¢å¼•
            var index = 0;

            // 4 å¼€å¯ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®ç°è‡ªåŠ¨åˆ‡æ¢å›¾ç‰‡
            btn01.onclick = function () {
                /* æ¯ç‚¹å‡»ä¸€æ¬¡å°±ä¼šåˆ›å»ºä¸€æ¬¡å®šæ—¶å™¨
                 æ¯ä¸€ä¸ªå®šæ—¶å™¨çš„æ ‡è¯†éƒ½ä¸åŒ
                 å¯¼è‡´åœæ­¢æŒ‰é’®åªèƒ½å…³é—­æœ€åä¸€æ¬¡å¼€å¯çš„å®šæ—¶å™¨  */

                // æ¯æ¬¡åˆ›å»ºä¸€æ¬¡å®šæ—¶å™¨æŠŠä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨å…ˆå…³é—­äº†
                clearInterval(timer);

                timer = setInterval(function () {
                    // ä½¿ç´¢å¼•è‡ªå¢
                    index++;

                    // ä½¿ç´¢å¼•å®ç°å¾ªç¯
                    // åˆ¤æ–­ç´¢å¼•æ˜¯å¦å¤§äºæœ€å¤§ç´¢å¼•
                    /* if (index >= imgArr.length){
                        index = 0;
                    } */
                    // æˆ–è€…ä½¿ç”¨å–æ¨¡æ³•
                    index = index % imgArr.length;

                    // ä¿®æ”¹å›¾ç‰‡å…ƒç´ æ ‡ç­¾çš„srcå±æ€§
                    img1.src = imgArr[index];
                }, 1000)
            }

            btn02.onclick = function () {
                clearInterval(timer);
            }
        }
    </script>
```

:::

  

   **å®šæ—¶å™¨çš„å…³é—­ä¸åœæ­¢**ã€å®šæ—¶å™¨çš„å”¯ä¸€æ ‡è¯†ï¼›