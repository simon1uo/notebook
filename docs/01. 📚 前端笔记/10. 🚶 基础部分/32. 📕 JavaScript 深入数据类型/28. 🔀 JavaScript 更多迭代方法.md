---
title:  ðŸ”€ JavaScript æ›´å¤šè¿­ä»£æ–¹æ³•
date: 2022-05-07 15:55:05
permalink: /pages/d319b3/
categories:
  -  ðŸ“š å‰ç«¯ç¬”è®°
  -  ðŸš¶ åŸºç¡€éƒ¨åˆ†
  -  ðŸ“• JavaScript æ·±å…¥æ•°æ®ç±»åž‹
tags:
  - 
---
åœ¨ `Map` ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `map.keys()`ï¼Œ`map.values()` å’Œ `map.entries()` æ–¹æ³•ï¼ŒéåŽ† `Map` ä¸­çš„é”®å€¼ã€‚

è¿™äº›æ–¹æ³•æ˜¯é€šç”¨çš„ï¼Œæœ‰ä¸€ä¸ªå…±åŒçš„çº¦å®šæ¥å°†å®ƒä»¬ **ç”¨äºŽå„ç§æ•°æ®ç»“æž„**ã€‚å¦‚æžœåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„æ•°æ®ç»“æž„ï¼Œä¹Ÿåº”è¯¥å®žçŽ°è¿™äº›æ–¹æ³•ã€‚



## `Object.keys` / `values` / `entries`

å¯¹äºŽæ™®é€šå¯¹è±¡ï¼Œä¸‹åˆ—è¿™äº›æ–¹æ³•æ˜¯å¯ç”¨çš„ï¼š

+ `Object.keys(obj)` ï¼šè¿”å›žä¸€ä¸ªåŒ…å« **è¯¥å¯¹è±¡æ‰€æœ‰çš„é”®** çš„ **æ•°ç»„**ã€‚
+ `Object.values(obj)` ï¼šè¿”å›žä¸€ä¸ªåŒ…å« **è¯¥å¯¹è±¡æ‰€æœ‰çš„å€¼** çš„ **æ•°ç»„**ã€‚
+ `Object.entries(obj)` ï¼šè¿”å›žä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡æ‰€æœ‰ `[key, value]` é”®å€¼å¯¹çš„ **æ•°ç»„**ã€‚



æ³¨æ„ä¸¤ä¸ªåŒºåˆ«ï¼š

+ ä¸Ž `Map` çš„éåŽ†æ–¹æ³•è¦åŒºåˆ«ï¼Œå¯¹äºŽå¯¹è±¡æˆ‘ä»¬ä½¿ç”¨çš„è°ƒç”¨è¯­æ³•æ˜¯ `Object.keys(obj)`ï¼Œè€Œä¸æ˜¯ `obj.keys()`ã€‚

> ä¿è¯å¯¹è±¡çš„**çµæ´»æ€§**ï¼šåœ¨ JavaScript ä¸­ï¼Œå¯¹è±¡æ˜¯æ‰€æœ‰å¤æ‚ç»“æž„çš„åŸºç¡€ã€‚å› æ­¤ï¼Œè¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚ `data`ï¼Œå¹¶å®žçŽ°äº†å®ƒè‡ªå·±çš„ `data.values()` æ–¹æ³•ã€‚åŒæ—¶ï¼Œä¾ç„¶å¯ä»¥å¯¹å®ƒè°ƒç”¨ `Object.values(data)` æ–¹æ³•ã€‚

+  `Object.*` æ–¹æ³•è¿”å›žçš„æ˜¯ã€ŒçœŸæ­£çš„ã€**æ•°ç»„å¯¹è±¡**ï¼Œè€Œä¸åªæ˜¯ä¸€ä¸ªå¯è¿­ä»£é¡¹ã€‚è¿™ä¸»è¦æ˜¯åŽ†å²åŽŸå› ã€‚



ðŸŒ° ä¾‹å­ï¼š
```js
let user = {
  name: "John",
  age: 30
};

for(let value of Object.keys(user)){
  console.log(value)
}
```

::: warning

`Object.keys/values/entries` ä¼šå¿½ç•¥ symbol å±žæ€§ã€‚å°±åƒ `for..in` å¾ªçŽ¯ä¸€æ ·ï¼Œè¿™äº›æ–¹æ³•ä¼šå¿½ç•¥ä½¿ç”¨ `Symbol(...)` ä½œä¸ºé”®çš„å±žæ€§ã€‚

å› ä¸º symbol é€šå¸¸éœ€è¦éšè—ã€‚å¦‚æžœæƒ³è¦ Symbol ç±»åž‹çš„é”®ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ [Object.getOwnPropertySymbols](https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols)ï¼Œå®ƒä¼šè¿”å›žä¸€ä¸ªåªåŒ…å« Symbol ç±»åž‹çš„é”®çš„æ•°ç»„ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³• [Reflect.ownKeys(obj)](https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys)ï¼Œå®ƒä¼šè¿”å›ž **æ‰€æœ‰** é”®ã€‚

:::



## è½¬æ¢å¯¹è±¡

å¯¹è±¡ç¼ºå°‘æ•°ç»„å­˜åœ¨çš„è®¸å¤šæ–¹æ³•ï¼Œä¾‹å¦‚ `map` å’Œ `filter` ç­‰ã€‚

å¦‚æžœåœ¨å¯¹è±¡ä¸­åº”ç”¨å®ƒä»¬ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ `Object.entries`ï¼Œç„¶åŽä½¿ç”¨ `Object.fromEntries`ï¼š

1. ä½¿ç”¨ `Object.entries(obj)` ä»Ž `obj` èŽ·å–ç”±é”®/å€¼å¯¹ç»„æˆçš„æ•°ç»„ã€‚
2. å¯¹è¯¥æ•°ç»„ä½¿ç”¨æ•°ç»„æ–¹æ³•ï¼Œä¾‹å¦‚ `map`ï¼Œå¯¹è¿™äº›é”®/å€¼å¯¹è¿›è¡Œè½¬æ¢ã€‚
3. å¯¹ç»“æžœæ•°ç»„ä½¿ç”¨ `Object.fromEntries(array)` æ–¹æ³•ï¼Œå°†ç»“æžœè½¬å›žæˆå¯¹è±¡ã€‚

> **å…ˆè½¬æ¢ä¸ºæ•°ç»„ï¼Œç„¶åŽä½¿ç”¨æ•°ç»„çš„æ–¹æ³•å¤„ç†ï¼Œå¤„ç†åŽçš„æ•°ç»„è½¬æ¢ä¸ºå¯¹è±¡ã€‚**



ðŸŒ° ä¾‹å­ / å°†å¸¦æœ‰ä»·æ ¼çš„å¯¹è±¡ï¼Œå°†ä»·æ ¼å±žæ€§å€¼åŠ å€ï¼š
```js
let prices = {
  banana: 1,
  orange: 2,
  meat: 4,
}

let doublePriceArr = Object.entries(prices).map((entry) => [entry[0], entry[1] * 2])
console.log(doublePriceArr)

let doublePrices = Object.fromEntries(doublePriceArr)
console.log(doublePrices)
```

> åˆå§‹å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„ç»“æžœï¼š`[["banana", 1], ["orange", 2], ["meat", 4]]`ã€‚æ‰€ä»¥è¦å¤„ç†è¾“å‡ºåº”è¯¥è¿”å›žä¸€ä¸ªæ•°ç»„åŒ…å«æ°´æžœåå’ŒåŒå€æ°´æžœä»·é’±ã€‚

ç®€åŒ–ä¸ºï¼š
```js
let doublePrices = Object.fromEntries(Object.entries(prices).map((entry) => [entry[0], entry[1] * 2]))
console.log(doublePrices)
```



ðŸŒ° ä¾‹å­ / å°†å¸¦æœ‰è–ªæ°´ä¿¡æ¯çš„å¯¹è±¡è®¡ç®—æ€»å’Œ

> ç¼–å†™å‡½æ•° `sumSalaries(salaries)`ï¼Œè¯¥å‡½æ•°ä½¿ç”¨ `Object.values` å’Œ `for..of` å¾ªçŽ¯è¿”å›žæ‰€æœ‰è–ªæ°´çš„æ€»å’Œã€‚
>
> å¦‚æžœ `salaries` æ˜¯ç©ºå¯¹è±¡ï¼Œé‚£ä¹ˆç»“æžœå¿…é¡»æ˜¯ `0`ã€‚
>
> ```js
> let salaries = {
>   "John": 100,
>   "Pete": 300,
>   "Mary": 250
> };
> ```

::: details

```js
function sumSalaries(salaries) {
  let sum = 0
  for (let salary of Object.values(salaries)) {
    sum += salary
  }
  return sum
}
```

ä¹Ÿå¯ä»¥é€šè¿‡ `reduce` æ–¹æ³•å®žçŽ°ï¼š

```js
function sumSalaries(salaries) {
  return Object.values(salaries).reduce((sum, salary) => (sum + salary), 0)
}
```

:::



ðŸŒ° ä¾‹å­/ è¿”å›žå¯¹è±¡ä¸­å±žæ€§çš„æ•°é‡ï¼š

> å†™ä¸€ä¸ªå‡½æ•° `count(obj)`ï¼Œè¯¥å‡½æ•°è¿”å›žå¯¹è±¡ä¸­çš„å±žæ€§çš„æ•°é‡ï¼š
> ```js
> let user = {
>   name: 'John',
>   age: 30
> };
> 
> alert( count(user) );
> ```

::: details

```js
function count(obj) {
	return Object.keys(obj).length
}
```

:::