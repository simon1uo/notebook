---
title:  ğŸšŒ TypeScript å˜é‡çš„å£°æ˜ä¸æ•°æ®ç±»å‹
date: 2022-04-27 23:10:05
permalink: /pages/5350a1/
categories:
  -  ğŸ“š å‰ç«¯ç¬”è®°
  -  ğŸƒ æ ¸å¿ƒæ¡†æ¶
  -  Ê¦ TypeScript
tags:
  - 
author: 
  name: Simon
  link: https://github.com/simon1uo
---
## å˜é‡çš„å£°æ˜

**åœ¨TypeScriptä¸­å®šä¹‰å˜é‡éœ€è¦æŒ‡å®šã€Œæ ‡è¯†ç¬¦ã€çš„ç±»å‹**ã€‚

æ‰€ä»¥å®Œæ•´çš„å£°æ˜æ ¼å¼å¦‚ä¸‹ï¼š

+ `var/let/const æ ‡è¯†ç¬¦: æ•°æ®ç±»å‹ = èµ‹å€¼;` 

å£°æ˜äº†ç±»å‹å TypeScript å°±ä¼šè¿›è¡Œç±»å‹æ£€æµ‹ï¼Œ**å£°æ˜çš„ç±»å‹å¯ä»¥ç§°ä¹‹ä¸ºç±»å‹æ³¨è§£**ï¼›



ğŸŒ° å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ `message` å˜é‡ï¼Œå®Œæ•´çš„å†™æ³•å¦‚ä¸‹ï¼š

```typescript
let message: string = 'hello typescript';
```

> + æ³¨æ„ï¼šå°å†™ `string` ï¼ˆä¸ `String` æœ‰åŒºåˆ«ï¼‰æ˜¯ TypeScript ä¸­å®šä¹‰çš„å­—ç¬¦ä¸²ç±»å‹ï¼ŒString æ˜¯ ECMAScript ä¸­å®šä¹‰çš„ä¸€ä¸ªã€‚
>
> + è¿™æ—¶ç»™ `message` èµ‹å…¶ä»–ç±»å‹çš„å€¼ï¼Œå°±ä¼šæŠ¥é”™ã€‚



### å£°æ˜å˜é‡çš„å…³é”®å­—

åœ¨ TypeScript å®šä¹‰å˜é‡ï¼ˆæ ‡è¯†ç¬¦ï¼‰å’ŒES6ä¹‹åä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨ `var`ã€`let`ã€`const` æ¥å®šä¹‰ã€‚

```typescript
var myname: string = 'why';
let myage: number = 20;
const myheight : number = 1.88;
```

> æ³¨æ„ï¼šåœ¨ tslint ä¸­**å¹¶ä¸æ¨èä½¿ç”¨ `var` æ¥å£°æ˜å˜é‡**ã€‚ä¸»è¦åŸå› å’ŒES6å‡çº§å `let` å’Œ `var` çš„åŒºåˆ«æ˜¯ä¸€æ ·çš„ï¼Œ`var` æ˜¯æ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„ï¼Œå¯èƒ½ä¼šå¼•èµ·è®¸å¤šé—®é¢˜ã€‚



### å˜é‡çš„ç±»å‹æ¨æ–­

åœ¨å¼€å‘ä¸­ï¼Œ**æœ‰æ—¶å€™ä¸ºäº†æ–¹ä¾¿èµ·è§å¹¶ä¸ä¼šåœ¨å£°æ˜æ¯ä¸€ä¸ªå˜é‡æ—¶éƒ½å†™ä¸Šå¯¹åº”çš„æ•°æ®ç±»å‹**ï¼Œæ›´å¸Œæœ›å¯ä»¥é€šè¿‡ TypeScript æœ¬èº«çš„ç‰¹æ€§å¸®åŠ©æˆ‘ä»¬æ¨æ–­å‡ºå¯¹åº”çš„å˜é‡ç±»å‹ã€‚

ğŸŒ° ä¾‹å­ï¼š

```typescript
let message = 'hello typescript'
// æ­¤æ—¶ä¸‹æ–‡å†èµ‹å€¼æ•°å­—ç±»å‹å°±ä¼šæŠ¥é”™
message = 123
```

**TypeScript åœ¨ä¸€ä¸ªå˜é‡ç¬¬ä¸€æ¬¡èµ‹å€¼æ—¶ï¼Œä¼šæ ¹æ®åé¢çš„èµ‹å€¼å†…å®¹çš„ç±»å‹ï¼Œæ¥æ¨æ–­å‡ºå˜é‡çš„ç±»å‹**ã€‚





## æ•°æ®ç±»å‹

### JavaScript ç±»å‹

#### **number æ•°å­—ç±»å‹**

TypeScriptå’ŒJavaScriptä¸€æ ·ï¼Œä¸åŒºåˆ†æ•´æ•°ç±»å‹ï¼ˆintï¼‰å’Œæµ®ç‚¹å‹ ï¼ˆdoubleï¼‰ï¼Œç»Ÿä¸€ä¸º **number** ç±»å‹ã€‚

+ è¿›åˆ¶æ•°å­—ç±»å‹ï¼šTypeScript ä¸ ES6 åŒæ ·æ”¯æŒäºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€å å…­è¿›åˆ¶çš„è¡¨ç¤ºï¼šã€‚



#### **boolean å¸ƒå°”ç±»å‹**

åªæœ‰ä¸¤ä¸ªå–å€¼ `true` å’Œ `false`ã€‚



#### **string ç±»å‹**

å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·è¡¨ç¤ºï¼›

+ ä¸ ES6 åŒæ ·æ”¯æŒæ¨¡ç‰ˆå­—ç¬¦ä¸²æ‹¼æ¥å˜é‡å’Œå­—ç¬¦ä¸²ã€‚

+ `Array` **æ•°ç»„ç±»å‹**ï¼šä¸¤ç§å®šä¹‰çš„æ–¹å¼ï¼š

  ```typescript
  const names: string[] = ["abc", "cba", "cba"]
  const names2: Array<string> = ["abc", "cba", "nba"]
  
  names.push("why")
  names2.push("why")
  ```

  æ•°ç»„ä¸­çš„æ•°æ®ç±»å‹åªèƒ½ä¸ºå£°æ˜æ—¶çš„æ•°æ®ç±»å‹ã€‚

  

#### `object` **å¯¹è±¡ç±»å‹**

æè¿°ä¸€ä¸ªå¯¹è±¡ï¼š

  ```typescript
  const myInfo: object = { 
    name: "simon",
    age: 18,
  	height: 1.88
  }
  ```

  **ä½†æ˜¯ä¸èƒ½ç›´æ¥è·å–æ•°æ®ä¹Ÿä¸èƒ½è®¾ç½®æ•°æ®**ã€‚



#### `symbol` ç±»å‹

é€šè¿‡ `symbol` æ¥å®šä¹‰ç›¸åŒçš„åç§°çš„å˜é‡ï¼Œå› ä¸º `Symbol` å‡½æ•°è¿”å›çš„æ˜¯ä¸åŒçš„å€¼ã€‚

```js
const s1: symbol = Symbol("title")
const s2: symbol = Symbol("title")
const person = {
  [s1]:"ç¨‹åºå‘˜",
  [s2]:"è€å¸ˆ"
}
```



#### `null/undefined` ç±»å‹

åœ¨TypeScriptä¸­ï¼Œå®ƒä»¬å„è‡ªçš„ç±»å‹ä¹Ÿæ˜¯ `undefined` å’Œ `null` ï¼Œä¹Ÿå°±æ„å‘³ç€å®ƒä»¬æ—¢æ˜¯å®é™…çš„å€¼ï¼Œ**ä¹Ÿæ˜¯è‡ªå·±çš„ç±»å‹**ã€‚

```typescript
let n: null = null
let u: undefined = undefined
```



### TypeScript ç±»å‹

#### `any` ç±»å‹

å½“ç¡®å®æ— æ³•ç¡®å®šä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼Œå¹¶ä¸”å¯èƒ½å®ƒä¼šå‘ç”Ÿä¸€äº›å˜åŒ–ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `any` ç±»å‹ï¼ˆç±»ä¼¼äº Dart è¯­è¨€ä¸­çš„ dynamic ç±»å‹ï¼‰**å¦‚æœå¯¹äºæŸäº›æƒ…å†µçš„å¤„ç†è¿‡äºç¹çä¸å¸Œæœ›æ·»åŠ è§„å®šçš„ç±»å‹æ³¨è§£ï¼Œæˆ–è€…åœ¨å¼•å…¥ä¸€äº›ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œç¼ºå¤±äº†ç±»å‹æ³¨è§£**ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ `any`ï¼ˆåŒ…æ‹¬åœ¨ Vue æºç ä¸­ï¼Œä¹Ÿä¼šä½¿ç”¨åˆ° `any` æ¥è¿›è¡ŒæŸäº›ç±»å‹çš„é€‚é…ï¼‰ã€‚

+ `any` ç±»å‹æœ‰ç‚¹åƒä¸€ç§è®¨å·§çš„ TypeScript æ‰‹æ®µï¼š
+ å¯ä»¥å¯¹ `any` ç±»å‹çš„å˜é‡**è¿›è¡Œä»»ä½•çš„æ“ä½œ**ï¼ŒåŒ…æ‹¬è·å–ä¸å­˜åœ¨çš„å±æ€§ã€æ–¹æ³•ï¼›
+ å¯ä»¥ç»™ä¸€ä¸ª `any` ç±»å‹çš„å˜é‡**èµ‹å€¼ä»»ä½•çš„å€¼**ï¼Œæ¯”å¦‚æ•°å­—ã€å­—ç¬¦ä¸²çš„å€¼ï¼›

```typescript
let a: any = "why";
a = 123;
a = true;
const aArray: any[] = ["why", 18, 1.88];
```



#### `unknown` ç±»å‹

æ˜¯ TypeScript ä¸­æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç§ç±»å‹ï¼Œ**å®ƒç”¨äºæè¿°ç±»å‹ä¸ç¡®å®šçš„å˜é‡**ã€‚

```typescript
function foo(): string {
  return "foo!"
}

function bar(): number {
  return 123;
}

const flag = true
let result: unknown

if(flag) { 
  result = foo()
} else {
  result = bar()
}

if(typeof result === "string"ï¼‰{
   console.log(result.length)
}

export {}
```



#### `void` ç±»å‹

é€šå¸¸ç”¨æ¥æŒ‡å®šä¸€ä¸ªå‡½æ•°æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œé‚£ä¹ˆå®ƒçš„è¿”å›å€¼å°±æ˜¯ `void` ç±»å‹ã€‚å¯ä»¥å°† `null` å’Œ `undefined` èµ‹å€¼ç»™ `void` ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å¯ä»¥è¿”å› `null` æˆ–è€… `undefined`ã€‚

```typescript
function sum(num1: number, num2: number): void{
  console.log(num1 + num2)
} // æ²¡æœ‰å†™ä»»ä½•ç±»å‹ï¼Œé»˜è®¤çš„è¿”å›å€¼ç±»å‹å°±æ˜¯void
```



#### `never` ç±»å‹

è¡¨ç¤º**æ°¸è¿œä¸ä¼šå‘ç”Ÿå€¼**çš„ç±»å‹ï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°ã€‚

+ å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æ˜¯ä¸€ä¸ªæ­»å¾ªç¯æˆ–è€…æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè¯¥å‡½æ•°**ä¸ä¼šè¿”å›ä»»ä½•ç±»å‹**çš„å€¼ï¼Œæ‰€ä»¥å†™ `void` ç±»å‹æˆ–è€…å…¶ä»–ç±»å‹éƒ½ä¸åˆé€‚ï¼Œå°±å¯ä»¥ä½¿ç”¨ `never` ç±»å‹ã€‚

  ```typescript
  function loopFun(): never { 
    while(true) {
      console.log("123")
    }
  }
  
  function LoopErr(): never {
    throw new Error()
  }
  ```

  ```typescript
  function handleMessage(message: number|string) {
    switch (typeof message) {
      case 'string':
        console.log('foo')
        break
      case 'number':
        console.log('bar'ï¼‰
        break
      default:
        const check: never = message
    }
  }
  ```



#### `tuple` ç±»å‹

**æ˜¯å…ƒç»„ç±»å‹**ï¼Œå¾ˆå¤šè¯­è¨€ä¸­ä¹Ÿæœ‰è¿™ç§æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚Pythonã€Swift ç­‰ã€‚

```typescript
const tInfo: [string, number,number] = ["why", 18, 1.88];
const item1 = tInfo[0] // why,å¹¶ä¸”çŸ¥é“ç±»å‹æ˜¯stringç±»å‹
const item2 = tInfo[1];// 18,å¹¶ä¸”çŸ¥é“ç±»å‹æ˜¯numberç±»å‹
```

+ `tuple` ç±»å‹ä¸æ•°ç»„ç±»å‹çš„åŒºåˆ«ï¼šæ•°ç»„ä¸­é€šå¸¸å»ºè®®å­˜æ”¾ç›¸åŒç±»å‹çš„å…ƒç´ ï¼Œä¸åŒç±»å‹çš„å…ƒç´ æ˜¯ä¸æ¨èæ”¾åœ¨æ•°ç»„ä¸­ã€‚ï¼ˆ**ä¸åŒç±»å‹çš„æ•°æ®å¯ä»¥å­˜æ”¾å¯¹è±¡æˆ–å…ƒç»„**ï¼‰å…ƒç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±ç‰¹æ€§çš„ç±»å‹ï¼Œ**æ ¹æ®ç´¢å¼•å€¼è·å–åˆ°çš„å€¼å¯ä»¥ç¡®å®šå¯¹åº”çš„ç±»å‹**

+ `tuple` çš„åº”ç”¨åœºæ™¯ï¼šé€šå¸¸ä½œä¸ºè¿”å›çš„å€¼ï¼Œä½¿ç”¨çš„æ—¶å€™å¾ˆæ–¹ä¾¿ï¼š

```typescript
function useState<T>(state: T): [T, (newState: T) => void]{
  let currentState = state
  const changeState = (new State: T)=>{
    currentState = newState
  }
  return [currentState, changeState]
}

const [counter, setCounter] = useState(10)
```



### å‡½æ•°ç±»å‹

#### å‡½æ•°çš„å‚æ•°ç±»å‹

å‡½æ•°æ˜¯ JavaScript éå¸¸é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼ŒTypeScript å…è®¸**æŒ‡å®šå‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹**ã€‚

**åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨æ¯ä¸ªå‚æ•°åæ·»åŠ ç±»å‹æ³¨è§£ï¼Œä»¥å£°æ˜å‡½æ•°æ¥å—çš„å‚æ•°ç±»å‹**ï¼š

```typescript
function greet (name: string) {
  console. log("Hello" + name.toUpperCase())
}

greet(123) // æŠ¥é”™ï¼Œå‚æ•°ç±»å‹æœ‰è¯¯
greet("abc", "cba") // æŠ¥é”™ï¼Œå‚æ•°æ•°é‡æœ‰è¯¯
```



#### **å‡½æ•°çš„è¿”å›å€¼ç±»å‹**

æ·»åŠ è¿”å›å€¼ç±»å‹çš„æ³¨è§£ï¼Œæ”¾åœ¨å‡½æ•°åˆ—è¡¨çš„åé¢ï¼š

```typescript
function sum (num1: number, num2: number): number { 
  return num1 + num2
}
```

å’Œå˜é‡çš„ç±»å‹æ³¨è§£ä¸€æ ·ï¼Œ**é€šå¸¸æƒ…å†µä¸‹ä¸éœ€è¦è¿”å›ç±»å‹æ³¨è§£ï¼Œå› ä¸º TypeScript ä¼šæ ¹æ® `return` è¿”å›å€¼æ¨æ–­å‡½æ•°çš„è¿”å›ç±»å‹ã€‚**ï¼ˆæŸäº›ç¬¬ä¸‰æ–¹åº“å¤„äºæ–¹ä¾¿ç†è§£ï¼Œä¼šæ˜ç¡®æŒ‡å®šè¿”å›ç±»å‹ï¼‰



#### **åŒ¿åå‡½æ•°çš„å‚æ•°**

åŒ¿åå‡½æ•°ä¸å‡½æ•°å£°æ˜ä¼šæœ‰ä¸€äº›ä¸åŒï¼š

+ å½“ä¸€ä¸ªå‡½æ•°å‡ºç°åœ¨ TypeScript **å¯ä»¥ç¡®å®šè¯¥å‡½æ•°ä¼šè¢«å¦‚ä½•è°ƒç”¨çš„åœ°æ–¹æ—¶**ï¼›
+ è¯¥å‡½æ•°çš„**å‚æ•°ä¼šè‡ªåŠ¨æŒ‡å®šç±»å‹**ï¼›



ğŸŒ° ä¾‹å­ï¼š

```typescript
const names = ['abc', 'cba', 'nba']
names.forEach(item => {
  console.log(item.toUpperCase())
})
```

> å¹¶æ²¡æœ‰æŒ‡å®š `item` çš„ç±»å‹ï¼Œä½†æ˜¯ `item` æ˜¯ä¸€ä¸ª `string` ç±»å‹ï¼š
>
> + å¹¶æ²¡æœ‰æŒ‡å®š `item` çš„ç±»å‹ï¼Œä½†æ˜¯ `item` æ˜¯ä¸€ä¸ª `string` ç±»å‹ï¼›
> + è¿‡ç¨‹ç§°ä¹‹ä¸ºä¸Šä¸‹æ–‡ç±»å‹ï¼ˆ**contextual typing**ï¼‰ï¼Œå› ä¸ºå‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å¯ä»¥å¸®åŠ©ç¡®å®šå‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ã€‚



### å¯¹è±¡ç±»å‹

å½“å¸Œæœ›é™å®šä¸€ä¸ªå‡½æ•°æ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š

+ å¯ä»¥ä½¿ç”¨å¯¹è±¡ç±»å‹ï¼š

  ```typescript
  function printCoordinate(point: {x: number, y: number}) {
    console.logï¼ˆ"xåæ ‡:", point.x)
    console.log("yåæ ‡:", point.y)
  }
  
  printCoordinate({x: 10,y: 30})
  ```

+ è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªå¯¹è±¡æ¥ä½œä¸ºç±»å‹ï¼š

  + åœ¨å¯¹è±¡å¯ä»¥æ·»åŠ å±æ€§ï¼Œå¹¶ä¸”å‘ŠçŸ¥ TypeScript è¯¥å±æ€§éœ€è¦æ˜¯ä»€ä¹ˆç±»å‹ï¼›
  + å±æ€§ä¹‹é—´å¯ä»¥ä½¿ç”¨ï¼Œæˆ–è€… `;` æ¥åˆ†å‰²ï¼Œ**æœ€åä¸€ä¸ªåˆ†éš”ç¬¦æ˜¯å¯é€‰çš„**ï¼›
  + **æ¯ä¸ªå±æ€§çš„ç±»å‹éƒ¨åˆ†ä¹Ÿæ˜¯å¯é€‰çš„**ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé‚£ä¹ˆå°±æ˜¯ `any` ç±»å‹ï¼›



### å¯é€‰å±æ€§ç±»å‹

å¯¹è±¡ç±»å‹ä¹Ÿå¯ä»¥**æŒ‡å®šå“ªäº›å±æ€§æ˜¯å¯é€‰çš„**ï¼Œå¯ä»¥åœ¨å±æ€§çš„åé¢æ·»åŠ ä¸€ä¸ª `?` ã€‚

```typescript
function printCoordinate(point: {x: number, y: number, z?: number}) {
  console. 1og("xåæ ‡:",point.x)
  console. log("yåæ ‡:",point.y)
  if (point.z) {
    console.log("zåæ ‡:",point.z)
  }
}

printCoordinate({x: 10, y: 30}ï¼‰
printCoordinate({x: 20,y: 30, z: 40}ï¼‰
```



### è”åˆç±»å‹

TypeScriptçš„ç±»å‹ç³»ç»Ÿå…è®¸ä½¿ç”¨å¤šç§è¿ç®—ç¬¦ï¼Œä»ç°æœ‰ç±»å‹ä¸­æ„å»ºæ–°ç±»å‹ã€‚ä½¿ç”¨ç¬¬ä¸€ç§ç»„åˆç±»å‹çš„æ–¹æ³•ï¼šè”åˆç±»å‹ï¼ˆUnion Typeï¼‰

+ è”åˆç±»å‹æ˜¯ç”±ä¸¤ä¸ªæˆ–è€…å¤šä¸ªå…¶ä»–ç±»å‹ç»„æˆçš„ç±»å‹ï¼› 
+ è¡¨ç¤ºå¯ä»¥æ˜¯è¿™äº›ç±»å‹ä¸­çš„ä»»ä½•ä¸€ä¸ªå€¼ï¼›
+ è”åˆç±»å‹ä¸­çš„æ¯ä¸€ä¸ªç±»å‹è¢«ç§°ä¹‹ä¸ºè”åˆæˆå‘˜ï¼ˆunion's membersï¼‰;

```typescript
function printId(id: number | string) {
  console.1og("ä½ çš„idæ˜¯:",id)
}

printId(10)
printId("abc")
```



#### å‡½æ•°ä¸­ä½¿ç”¨è”åˆç±»å‹

ä¼ å…¥ç»™ä¸€ä¸ªè”åˆç±»å‹çš„å€¼æ˜¯éå¸¸ç®€å•çš„ï¼š

+ åªè¦ä¿è¯æ˜¯è”åˆç±»å‹ä¸­çš„æŸä¸€ä¸ªç±»å‹çš„å€¼å³å¯
+ ä½†æ˜¯æ‹¿åˆ°è¿™ä¸ªå€¼ä¹‹åï¼Œåº”è¯¥å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿå› ä¸ºå®ƒå¯èƒ½æ˜¯ä»»ä½•ä¸€ç§ç±»å‹ã€‚ 
+ æ¯”å¦‚æˆ‘ä»¬æ‹¿åˆ°çš„å€¼å¯èƒ½æ˜¯ `string` æˆ–è€… `number` ï¼Œæˆ‘ä»¬å°±ä¸èƒ½å¯¹å…¶è°ƒç”¨ `string`ä¸Šçš„ä¸€äº›æ–¹æ³•ã€‚



è§£å†³æ–¹æ³•ï¼š

+ **éœ€è¦ä½¿ç”¨ç¼©å°ï¼ˆnarrowï¼‰è”åˆ**ï¼›
+ TypeScript å¯ä»¥æ ¹æ®æˆ‘ä»¬ç¼©å°çš„ä»£ç ç»“æ„ï¼Œæ¨æ–­å‡ºæ›´åŠ å…·ä½“çš„ç±»å‹ï¼›

```typescript
function printId(id: number | string) {
  if(typeof id === 'string'ï¼‰{ 
     //ç¡®å®šidæ˜¯stringç±»å‹
     console.log("ä½ çš„idæ˜¯:", id.toUpperCase())
	} else {
    //ç¡®å®šidæ˜¯numberç±»å‹
		console.log("ä½ çš„idæ˜¯", id)
  }
}
```



#### å¯é€‰ç±»å‹è¡¥å……

å¯é€‰ç±»å‹å¯ä»¥çœ‹åšæ˜¯ ç±»å‹ å’Œ `undefined` çš„è”åˆç±»å‹ï¼š

```typescript
function print(message?: string) {
  console.log(message)
}

print()
print('xx')
print(undefined)
print(null) // æŠ¥é”™ï¼Œä¸æ˜¯ä¸¤è€…å…¶ä¸­ä¹‹ä¸€çš„ç±»å‹
```



### ç±»å‹åˆ«å

æ­¤å‰é€šè¿‡åœ¨ç±»å‹æ³¨è§£ä¸­ç¼–å†™ **å¯¹è±¡ç±»å‹** å’Œ **è”åˆç±»å‹**ï¼Œå½“æƒ³è¦è¦å¤šæ¬¡åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨æ—¶ï¼Œå°±è¦ç¼–å†™å¤šæ¬¡ã€‚æ­¤æ—¶å¯ä»¥ç»™å¯¹è±¡ç±»å‹èµ·ä¸€ä¸ªåˆ«åï¼Œä½¿ç”¨ `type` å£°æ˜ã€‚

```typescript
type ID = number | string

function printId(id: ID) {
  console.log("æ‚¨çš„id:",id)
}
```

```typescript
type Point {
	x: number
	y: number
}

function printPoint(point: Point) {
  console.log(point.x, point.y)
}

function sumPoint(point: Point) {
  console.log(point.x + point.y)
}

printPoint({x: 20, y: 20})
sumPoint({x: 20, y: 20})
```



### ç±»å‹æ–­è¨€

æœ‰æ—¶å€™ TypeScript **æ— æ³•è·å–å…·ä½“çš„ç±»å‹ä¿¡æ¯**ï¼Œ**è¿™æ—¶éœ€è¦ä½¿ç”¨ç±»å‹æ–­è¨€**ï¼ˆType Assertionsï¼‰ã€‚

ä¾‹å­ï¼šæ¯”å¦‚é€šè¿‡ `document.getElementById`ï¼ŒTypeScript åªçŸ¥é“è¯¥å‡½æ•°ä¼šè¿”å› `HTMLElement` ï¼Œ**ä½†å¹¶ä¸çŸ¥é“å®ƒå…·ä½“çš„ç±»å‹**ã€‚å¯ä»¥ä½¿ç”¨ `as` è¿›è¡Œç±»å‹æ–­è¨€ï¼š

```typescript
const myEl = document.getElementById("my-img") as HTMLImageELement
myEl.src="å›¾ç‰‡åœ°å€"
```



TypeScript åªå…è®¸ç±»å‹æ–­è¨€è½¬æ¢ä¸º **æ›´å…·ä½“** æˆ–è€… **ä¸å¤ªå…·ä½“** çš„ç±»å‹ç‰ˆæœ¬ï¼Œ**æ­¤è§„åˆ™å¯é˜²æ­¢ä¸å¯èƒ½çš„å¼ºåˆ¶è½¬æ¢**ï¼š

```typescript
const name = 'string' as number; // ä¸èƒ½è½¬æ¢ï¼Œå› ä¸ºå·²ç»ç¡®å®šä¸ºå­—ç¬¦ä¸²ç±»å‹
const name = ('string' as unknown) as number;
```



### éç©ºç±»å‹æ–­è¨€



å½“ç¼–å†™ä¸€ä¸‹ä»£ç æ—¶ï¼Œæ‰§è¡Œ ts çš„ç¼–è¯‘é˜¶æ®µä¼šæŠ¥é”™ï¼š
```typescript
function printMessage(message?: string) {
  console.log(message.toUpperCase()) // æ­¤æ—¶ä¼ å…¥çš„messageæœ‰å¯èƒ½æ˜¯undefinedï¼Œæ‰€ä»¥ä¸èƒ½æ‰§è¡Œæ–¹æ³•
}

printMessage('hello')
```

ä½†æ˜¯ï¼Œæˆ‘ä»¬ç¡®å®šä¼ å…¥çš„å‚æ•°æ˜¯æœ‰å€¼çš„ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨éç©ºç±»å‹æ–­è¨€ã€‚

```typescript
function printMessage(message?: string) {
  console.log(message!.toUpperCase())
}
```

éç©ºæ–­è¨€ä½¿ç”¨çš„æ˜¯ `!` ï¼Œ**è¡¨ç¤ºå¯ä»¥ç¡®å®šæŸä¸ªæ ‡è¯†ç¬¦æ˜¯æœ‰å€¼çš„ï¼Œè·³è¿‡tsåœ¨ç¼–è¯‘é˜¶æ®µå¯¹å®ƒçš„æ£€æµ‹**ï¼›



### å¯é€‰é“¾çš„ä½¿ç”¨

å¯é€‰é“¾å¹¶ä¸æ˜¯TypeScriptç‹¬æœ‰çš„ç‰¹æ€§ï¼Œå®ƒæ˜¯ES11ï¼ˆES2020ï¼‰ä¸­å¢åŠ çš„ç‰¹æ€§ã€‚

+ å¯é€‰é“¾ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦ `?`ï¼›
+ ä½œç”¨ï¼šå½“å¯¹è±¡çš„å±æ€§ä¸å­˜åœ¨æ—¶ï¼Œä¼šçŸ­è·¯ç›´æ¥è¿”å› `undefined` ï¼›å¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆæ‰ä¼šç»§ç»­æ‰§è¡Œã€‚

```typescript
type Person = {
  name: string
  friend?: {
    name: string
    age?: number,
    girlFriend? :{
      name: string
    }
  }
}

const info: Person = {
  name: 'why',
  friend: {
    name: 'kobe',
    girlFriend: {
    	name: 'lily'
    }
  }
}

console.log(info.friend?.name)
console.log(info.friend?.age)
console.log(info.friend?.girlFriend?.name)
```



### `??` å’Œ `!!`  çš„ä½¿ç”¨

`!!` æ“ä½œç¬¦ï¼š 

+ å°†ä¸€ä¸ªå…¶ä»–ç±»å‹è½¬æ¢æˆ `boolean` ç±»å‹ï¼›
+  ç±»ä¼¼äº `Boolean(å˜é‡)` çš„æ–¹å¼ï¼›

```typescript
const message = ''
let flag = Boolean(message)
let flag2 = !!messgae
console.log(flag1, flag2) // false, false
```



`??` æ“ä½œç¬¦ï¼š

+ æ˜¯ES11å¢åŠ çš„æ–°ç‰¹æ€§ï¼› 
+ **ç©ºå€¼åˆå¹¶æ“ä½œç¬¦**ï¼ˆ`??`ï¼‰æ˜¯ä¸€ä¸ª**é€»è¾‘æ“ä½œç¬¦**ï¼Œå½“æ“ä½œç¬¦çš„å·¦ä¾§æ˜¯ `null`  æˆ–è€… `undefined` æ—¶ï¼Œ**è¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œ å¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°**ï¼›

```typescript
const message = '321'
const result = message ?? '123' 
console.log(result) // messageä¸ä¸ºç©ºæ‰€ä»¥è¿”å›messageæœ¬èº«å†…å®¹
```





### å­—é¢é‡ç±»å‹

é™¤äº†å‰é¢çš„ç±»å‹ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å­—é¢é‡ç±»å‹ï¼ˆliteral typesï¼‰å®šä¹‰ã€‚

```typescript
let message: 'hello world' = 'hello world'
message = 'hello typescript' // åªèƒ½å£°æ˜ä¸º 'hello world'
```

ä¸Šé¢çš„ä¾‹å­çœ‹ä¸Šå»æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ï¼Œä½†æ˜¯å¯ä»¥è®²å¤šä¸ªå­—é¢é‡ç±»å‹**è”åˆ**åœ¨ä¸€èµ·ï¼š

```typescript
type Alignment = 'left' | 'right' | 'center'
function changeAlign(align: Alignment) {
  console.log('ä¿®æ”¹æ–¹å‘'ï¼Œ align)
}
```





### å­—é¢é‡æ¨ç†

```typescript
const info = {
  url: 'https://github.com/',
  method: 'GET'
}

function request(url: string, method: 'GET'|'POST') {
  console.log(url, method)
}

request(info.url, info.method) // ç¬¬äºŒä¸ªå‚æ•°æŠ¥é”™
```

å› ä¸ºå¯¹è±¡åœ¨è¿›è¡Œå­—é¢é‡æ¨ç†çš„æ—¶å€™ï¼Œ`info` å…¶å®æ˜¯ä¸€ä¸ª `{url: string, method: string}` ï¼Œæ‰€ä»¥ä¸èƒ½æŠŠä¸€ä¸ª `string ` èµ‹å€¼ç»™ä¸€ä¸ªå­—é¢é‡ç±»å‹ã€‚



### ç±»å‹ç¼©å°

ï¼ˆType Narrowingï¼‰

+ é€šè¿‡ç±»ä¼¼äº `typeof padding === â€˜numberâ€™`  çš„åˆ¤æ–­è¯­å¥ï¼Œæ”¹å˜ TypeScript çš„æ‰§è¡Œè·¯å¾„ã€‚
+ åœ¨ç»™å®šçš„æ‰§è¡Œè·¯å¾„ï¼Œç¼©å°æ¯”å£°æ˜æ—¶æ›´å°çš„ç±»å‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºç±»å‹ç¼©å°ã€‚
+ `typeof padding === â€˜numberâ€™` å¯ä»¥ç§°ä¸º **ç±»å‹ä¿æŠ¤**ï¼ˆtype guardsï¼‰.



å¸¸è§ç±»å‹ä¿æŠ¤æœ‰ï¼š

+ `typeof`
+ å¹³ç­‰ç¼©å°ï¼ˆ`===`ã€ `!==` ï¼‰
+ `intanceof` 
+ `in`
+ â€¦



### `typeof` 

åœ¨ TypeScript ä¸­ï¼Œ**æ£€æŸ¥è¿”å›çš„å€¼ `typeof` æ˜¯ä¸€ç§ç±»å‹ä¿æŠ¤**ï¼šå› ä¸º TypeScript å¯¹å¦‚ä½• `typeof` æ“ä½œä¸åŒçš„å€¼è¿›è¡Œç¼–ç ã€‚

```typescript
type ID = number | string
function printId(id: ID) {
  if(typeof id === 'string'){
    consosle.log(id.toUpperCase())
  } else {
    console.log(id)
  }
}
```



### å¹³ç­‰ç¼©å°

å¯ä»¥ä½¿ç”¨ `switch` æˆ–è€…ç›¸ç­‰çš„ä¸€äº›è¿ç®—ç¬¦æ¥è¡¨è¾¾ç›¸ç­‰æ€§ï¼ˆ`===` ã€ `!==` ã€`!=`ï¼‰

```typescript
type Direction = 'left'|'right'|'center'
function turnDirection(direction: Direction){
  switch(direction){
    case 'left':
      	console.log('left')
      	break;
    case 'right':
        console.log('right')
        break;
    case 'center':
        console.log('center')
        break;
    default:
        console.log('default')
  }
}
```



#### `instanceof` 

JavaScript ä¸­ `instanceof` è¿ç®—ç¬¦æ¥æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯å¦ä¸€ä¸ªå€¼çš„ã€Œå®ä¾‹ã€ã€‚

```typescript
function printValue(date: Date|string){
    if(date instanceof Date){
        console.log(date.toLocaleString())
    } else {
        console.log(date)
    }
}
```



### `in` 

JavaScript è¿ç®—ç¬¦ `in` ç”¨äºç¡®å®šå¯¹è±¡æ˜¯å¦å…·æœ‰å¸¦åç§°çš„å±æ€§ï¼š

+ å¦‚æœæŒ‡å®šçš„å±æ€§åœ¨æŒ‡å®šçš„å¯¹è±¡æˆ–å…¶åŸå‹é“¾ä¸­ï¼Œåˆ™ `in` è¿ç®—ç¬¦è¿”å› `true`ã€‚

```typescript
type Fish = {swim: () => void}
type Dog = {run: () => void}

function move(animal: Fish | Dog) {
  if('swim' in animal) {
    animal.swim()
  } else {
    animal.run()
  }
}
```





### æšä¸¾ç±»å‹

æšä¸¾ç±»å‹æ˜¯ä¸ºæ•°ä¸å¤šçš„ TypeScript ç‰¹æ€§æœ‰çš„ç‰¹æ€§ä¹‹ä¸€ï¼š 

+ æšä¸¾å…¶å®å°±æ˜¯å°†ä¸€ç»„å¯èƒ½å‡ºç°çš„å€¼ï¼Œä¸€ä¸ªä¸ªåˆ—ä¸¾å‡ºæ¥ï¼Œå®šä¹‰åœ¨ä¸€ä¸ªç±»å‹ä¸­ï¼Œè¿™ä¸ªç±»å‹å°±æ˜¯æšä¸¾ç±»å‹ï¼›

+ æšä¸¾å…è®¸å¼€å‘è€…å®šä¹‰ä¸€ç»„å‘½åå¸¸é‡ï¼Œå¸¸é‡å¯ä»¥æ˜¯**æ•°å­—ã€å­—ç¬¦ä¸²ç±»å‹**ã€‚

  + æšä¸¾ç±»å‹é»˜è®¤æ˜¯æœ‰å€¼çš„ï¼Œé»˜è®¤å€¼å¦‚ä¸‹ï¼›

    ```typescript
    enum Direction {
      LEFT = 0,
      RIGHT = 1,
      TOP = 2,
      BOTTOM = 3
    }

  + å½“ç„¶ä¹Ÿå¯ä»¥ç»™æšä¸¾å…¶ä»–å€¼ï¼š è¿™ä¸ªæ—¶å€™ä¼šä»100è¿›è¡Œé€’å¢ï¼› 

    ```typescript
    enum Direction {
      LEFT = 100,
      RIGHT,
      TOP,
      BOTTOM
    }
    ```

  + ä¹Ÿå¯ä»¥ç»™ä»–ä»¬èµ‹å€¼å…¶ä»–çš„ç±»å‹ï¼š

    ```typescript
    enum Direction {
      LEFT,
      RIGHT,
      TOP = 'TOP',
      BOTTOM = 'BOTTOM'
    }
    ```

    



```typescript
enum Direction {
  LEFT,
  RIGHT,
  TOP,
  BOTTOM
}

function turnDirection (direction: Direction) {
  switch (directionï¼‰ {
     	case Direction.LEFT:
          console.log("è½¬å‘å·¦è¾¹~"ï¼‰
          break;
			case Direction.RIGHT:
					console.log("è½¬å‘å³è¾¹~"ï¼‰
					break;
      case Direction.TOP:
	      console.logï¼ˆ"è½¬å‘ä¸Šè¾¹~"ï¼‰
  	    break;
			case Direction. BOTTOM:
        console.logï¼ˆ"è½¬å‘ä¸‹è¾¹~"ï¼‰
        break;
     	default:
        const myDirection: never = direction;
	}
}
```



