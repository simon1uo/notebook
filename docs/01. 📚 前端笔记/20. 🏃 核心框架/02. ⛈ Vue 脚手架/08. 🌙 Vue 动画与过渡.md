---
title: ğŸŒ™ Vue åŠ¨ç”»ä¸è¿‡æ¸¡
date: 2022-03-11 16:38:36
permalink: /pages/5a0c40/
categories: 
  - ğŸ“š å‰ç«¯ç¬”è®°
  - ğŸƒ æ ¸å¿ƒéƒ¨åˆ†
  - â›ˆ Vue ç»„ä»¶åŒ–ç¼–ç¨‹
tags: 
  - Vue
author: 
  name: Simon
  link: https://github.com/simon1uo
---



Vue å°è£…çš„åŸºäº CSS çš„è¿‡æ¸¡ä¸åŠ¨ç”»ï¼š

+ ä½œç”¨ï¼šåœ¨æ’å…¥ã€æ›´æ–°æˆ–è€…ç§»é™¤ DOM å…ƒç´ æ—¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™ç»™å…ƒç´ çš„æ ·å¼æ·»åŠ ç±»åã€‚

![Transition Diagram](https://cdn.jsdelivr.net/gh/simon1uo/image-flow@master/image/rHIbEw.png)

ğŸ”— ç›¸å…³é“¾æ¥ï¼šå®˜æ–¹æ–‡æ¡£ [Transition | Vue.js (vuejs.org)](https://vuejs.org/guide/built-ins/transition.html#css-based-transitions)

+ ç”¨æ³•ï¼šï¼ˆåœ¨ CSS å‡†å¤‡å¥½ä»¥ä¸‹çš„æ ·å¼ï¼‰
  + å…ƒç´ è¿›å…¥çš„æ ·å¼ï¼š
    + `v-enter` ï¼šè¿›å…¥çš„èµ·ç‚¹
    + `v-enter-to`ï¼šè¿›å…¥çš„ç»ˆç‚¹
    + `v-enter-active`ï¼šè¿›å…¥è¿‡ç¨‹ä¸­
  + å…ƒç´ ç¦»å¼€çš„æ ·å¼ï¼š
    + `v-leave` ï¼šç¦»å¼€çš„èµ·ç‚¹
    + `v-leave-to`ï¼šç¦»å¼€çš„ç»ˆç‚¹
    + `v-leave-active`ï¼šç¦»å¼€è¿‡ç¨‹ä¸­
  + ä½¿ç”¨ `<transition>` æ ‡ç­¾åŒ…è£¹è¦åº”ç”¨è¿‡æ¸¡æˆ–è€…åŠ¨ç”»çš„å…ƒç´ ï¼Œå¹¶ä¸”é…ç½® `name` å±æ€§ï¼›è¦å¯¹å¤šä¸ªå…ƒç´ åº”ç”¨è¿‡æ¸¡æˆ–è€…åŠ¨ç”»ï¼Œåˆ™ä½¿ç”¨ `<transition-group>`ï¼Œå¹¶ä¸”è¦æŒ‡å®š `key` å€¼ã€‚ 

### åŠ¨ç”»æ•ˆæœ

ğŸŒ° ä¾‹å­ï¼š

å®ç°å¦‚ä¸‹å›¾ç¤ºçš„ä¾‹å­ï¼š



+ ä¸ç”¨è€ƒè™‘å†™ä¸¤æ¬¡è¿›å…¥å’Œç¦»å¼€çš„åŠ¨ç”»ï¼Œåªè¦å†™ä¸€æ¬¡è¿›å…¥çš„åŠ¨ç”»ï¼Œç„¶åå°†è¿›å…¥çš„åŠ¨ç”»å€’æ”¾å³å¯ã€‚

+ ç»™åŠ¨ç”»åˆ›å»ºä¸€ä¸ªå…³é”®å¸§ `@keyframes` ï¼Œæ·»åŠ åŠ¨ç”»æ ·å¼ï¼š

```css
.v-enter-active {
  animation: test 1s;
}

.v-leave-active {
  animation: test 1s reverse;
}

@keyframes test {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0px);
  }
}
```

+ åˆ©ç”¨ Vue å®ç°åŠ¨ç”»æ ·å¼çš„æ ¹æ®ç›®å‰çš„ `isShow` è‡ªåŠ¨å˜åŒ–ï¼Œæƒ³è®©è°æœ‰åŠ¨ç”»æ•ˆæœï¼Œè°å°±ç”¨ `<transition>` æ ‡ç­¾ï¼š

```vue
<div>
  <button @click="isShow = !isShow">æ˜¾ç¤º/éšè—</button>
  <transition>
    <h1 v-show="isShow" class="come">Hello Vue</h1>
  </transition>
</div>
```

> å‘½åé—®é¢˜ï¼š
>
> å½“ç»™ `<transition>` ä¸€ä¸ª `name` å±æ€§ï¼š
>
> ```vue
> <transition name="show">
>   <h1 v-show="isShow">Hello Vue</h1>
> </transition>
> ```
>
> Vue è¿‡æ¸¡æ ·å¼è¦éšä¹‹ä¿®æ”¹ä¸ºï¼š
>
> ```css
> .show-enter-active {
>   animation: test 1s;
> }
> 
> .show-leave-active {
>   animation: test 1s reverse;
> }
> ```
>
> `name` ç”¨äºæ ‡è¯†æŸä¸ªåŠ¨ç”»æ ·å¼ï¼Œä»¥å…é‡å¤æˆ–è€…æ— æ³•åŒ¹é…ã€‚

+ è¿½åŠ ç»†èŠ‚ï¼Œåœ¨å¼€å¯é¡µé¢æ—¶å°±æœ‰åŠ¨ç”»ï¼Œåœ¨ `<transition>` æ ‡ç­¾ä¸­ä½¿ç”¨ `appear` å±æ€§å³å¯ã€‚ï¼ˆæœ‰ä¸¤ç§ç”¨æ³•ï¼šç›´æ¥ `appear` æˆ–è€… `:apear=â€˜trueâ€™`ï¼‰

```vue
<transition name="show" appear>
  <h1 v-show="isShow">Hello Vue</h1>
</transition>
```

> æ³¨æ„ `<transition>` æ ‡ç­¾æœ€åä¸ä¼šè¢«è§£æåˆ°æ¨¡ç‰ˆä¸­çš„ä¸€ä¸ªæ ‡ç­¾ï¼ŒVue é€šè¿‡è¿™ä¸ªæ ‡ç­¾ç»™å®ƒåŒ¹é…åŠ¨ç”»æ ·å¼ã€‚  



### è¿‡æ¸¡æ•ˆæœ

å®ç°ä¸Šè¿°ä¾‹å­çš„å¦ä¸€ç§æ–¹æ³•ï¼š

+ åœ¨åŠ¨ç”»æ ·å¼ä¸­ï¼Œè®¾ç½®è¿›å…¥çš„èµ·ç‚¹ã€ç»ˆç‚¹ï¼Œç¦»å¼€çš„èµ·ç‚¹ã€ç»ˆç‚¹çš„æ ·å¼ï¼š

```css
/*è¿›å…¥çš„èµ·ç‚¹ï¼Œç¦»å¼€çš„ç»ˆç‚¹*/
.show-enter, .show-leave-to{
  transform: translateX(-100%);
}

/*è¿›å…¥çš„ç»ˆç‚¹ï¼Œç¦»å¼€çš„èµ·ç‚¹*/
.show-enter-to, .show-leave{
  transform: translateX(0);
}
```

+ è¦å®ç°åŠ¨ç”»ï¼Œå¯ä»¥åœ¨ `h1` ä¸­æ·»åŠ åŠ¨ç”»ï¼Œæˆ–è€…å¦å¤–å†™ä¸€ä¸ªæ¿€æ´»åŠ¨ç”»ï¼š

```css
h1{
  background-color: lightskyblue;
  transition: 0.5s linear;
}
```

æˆ–è€…

```css
.show-enter-active, .show-leave-active{
	transition: 0.5s linear;
}
```

+ è§‚å¯Ÿå¼€å‘è€…å·¥å…·å¯ä»¥çœ‹åˆ°ï¼ŒVue ä¸€èˆ¬å®ç°åŠ¨ç”»ä¼šåœ¨æ ·å¼ä¸­æ”¾å…¥ä¸‰ä¸ªåŠ¨ç”»æ ·å¼ï¼Œä¾‹å¦‚ç¦»å¼€åŠ¨ç”»ï¼š`.show-leave-active` ã€`.show-leave-to`ã€`.show-leave` ï¼ˆèµ·ç‚¹ä¸€èˆ¬åŠ¨ç”»é€Ÿåº¦å¤ªå¿«è€Œéš¾ä»¥è§‚å¯Ÿï¼‰ã€‚



### å¤šä¸ªå…ƒç´ å®ç°åŒæ ·çš„è¿‡æ¸¡åŠ¨ç”»æ•ˆæœ

+ æ³¨æ„ï¼šä¸€èˆ¬ `<transition>` æ ‡ç­¾åªèƒ½åº”ç”¨äºä¸€ä¸ªå•ç‹¬çš„æ ‡ç­¾å…ƒç´ ã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ å°±è¦ä½¿ç”¨ `<transition-group>`ï¼Œå¹¶ä¸”é‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è¦æœ‰ä¸€ä¸ªå”¯ä¸€çš„ `key` å€¼ï¼ˆçœŸå®åˆ—è¡¨å€ŸåŠ© `v-for` å®ç°ï¼‰ï¼š

```vue
<transition-group name="show" appear>
  <h1 v-show="isShow" key="1">Hello</h1>
  <h1 v-show="isShow" key="2">Vue</h1>
</transition-group>
```

> å¦‚æœä¸ç”¨`<transition-group>` è€Œä½¿ç”¨ä¸€ä¸ª `<div>` åŒ…è£¹ä¸¤ä¸ªå…ƒç´ ï¼Œä¹Ÿå¯å®ç°å¤§è‡´çš„æ•ˆæœã€‚ä½†æ˜¯æ­¤æ—¶å¦‚æœæƒ³è¦å®ç°ä¸¤ä¸ªäº’æ–¥çš„å…ƒç´ ä¸åŒæ—¶å‡ºç°ï¼Œå°±ä¸èƒ½å•çº¯ä½¿ç”¨ä¸€ä¸ª `<div>` åŒ…è£¹ï¼Œåªèƒ½é€šè¿‡ `<transition-group>` å®ç°ã€‚
>
> ```vue
> <transition name="show" appear>
>   <div v-show="isShow">
>     <h1>Hello</h1>
>     <h1>Vue</h1>>
>   </div>
> </transition>
> ```
>
> ```vue
> <transition-group name="show" appear>
>   <h1 v-show="isShow" key="1">Hello</h1>
>   <h1 v-show="!isShow" key="2">Vue</h1>
> </transition-group>
> ```



### é›†æˆç¬¬ä¸‰æ–¹åŠ¨ç”»



ğŸ”— ä»¥ `animate.css` ä¸ºä¾‹ï¼š

+  [animate.css - npm (npmjs.com)](https://www.npmjs.com/package/animate.css)
+ [Animate.css | A cross-browser library of CSS animations.](https://animate.style/)

ä½¿ç”¨ä¾‹å­ï¼š

+ å®‰è£…å¹¶å¼•å…¥ `animate.css`

```
$ npm install animate.css --save
```

```js
import 'animate.css'
```

+ å°† `<transition>` ç›¸å…³çš„æ ‡ç­¾çš„ `name` å±æ€§è®¾ç½®ä¸º `animate` ç›¸å…³å€¼ï¼Œå¦‚ä¸‹

```vue
<transition-group 
	name="animate__animated animate__bounce" 
	appear>
  <h1 v-show="isShow" key="1">Hello</h1>
  <h1 v-show="!isShow" key="2">Vue</h1>
</transition-group>
```

+ åŠ å…¥åŠ¨ç”»ï¼ˆåœ¨å®˜ç½‘ä¸Šé€‰æ‹©å¤åˆ¶ç›¸å…³çš„ç±»åç§°ï¼‰ï¼š

```vue
<transition-group appear
                  name="animate__animated animate__bounce"
                  enter-active-class="animate__slideInUp"
                  leave-active-class="animate__slideOutUp"
>
  <h1 v-show="isShow" key="1">Hello</h1>
  <h1 v-show="!isShow" key="2">Vue</h1>
</transition-group>
```
