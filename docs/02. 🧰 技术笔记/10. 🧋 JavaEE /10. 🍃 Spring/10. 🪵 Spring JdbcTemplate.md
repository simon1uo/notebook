---
title: ğŸªµ Spring JdbcTemplate
date: 2022-03-30 10:45:27
permalink: /pages/30b6df/
categories: 
  - _pages
  - ğŸ§‹ JavaEE
  - ğŸƒ Spring
tags: 
  - null
author: 
  name: Simon
  link: https://github.com/simon1uo
---



## JdbcTemplate æ¦‚è¿°

æœ¬éƒ¨åˆ†æœ‰å…³ Spring çš„ Data Acess / Integration ï¼ˆæ•°æ®è®¿é—®å’Œé›†æˆï¼‰ã€‚Spring æ—¢å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥é›†æˆå…¶ä»–æ¡†æ¶ï¼Œå¦‚ Hibernateã€MyBatis ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä¸­å¯¹äº JDBC ä¹Ÿåšäº†å°è£…ï¼Œå³æœ¬ç« èŠ‚çš„ **JdbcTemplate**ï¼Œç”¨å®ƒå¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥ç­‰æ“ä½œã€‚

å³å°±æ˜¯ Spring æ¡†æ¶å¯¹ JDBC æŠ€æœ¯è¿›è¡Œçš„**äºŒæ¬¡å°è£…æ¨¡æ¿**ï¼Œèƒ½å¤Ÿ**ç®€åŒ–å¯¹æ•°æ®åº“çš„æ“ä½œ**ã€‚

::: warning 

âš ï¸ ä¸å¸¸ç”¨è­¦å‘Šï¼šç”±äºå¹´å°‘æ— çŸ¥è·Ÿç€è¯¾ç¨‹å°±å­¦äº†ã€‚åˆ°åé¢æ‰çŸ¥é“ **JdbcTemplate ä»…ä½œäº†è§£ï¼Œå¯ä¸æ·±å…¥å­¦ä¹ ã€‚åç»­å¸¸ç”¨ MyBatis ä¸ Spring æ•´åˆ**ã€‚

:::

## JdbcTemplate ä½¿ç”¨



### å‡†å¤‡å·¥ä½œ

+ å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼š

   - `druid`


   - `mysql-connector-java`


   - `spring-jdbc`


   - `spring-orm`


   - `spring-tx`


æœ¬å¤„æ¶‰åŠåˆ°çš„ maven ä¾èµ–å¼•å…¥ï¼š

::: details

```xml
<dependencies>
    <!-- https://mvnrepository.com/artifact/com.alibaba/druid -->
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>druid</artifactId>
        <version>1.2.8</version>
    </dependency>

    <!-- https://mvnrepository.com/artifact/org.springframework/spring-context -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-context</artifactId>
        <version>5.3.17</version>
    </dependency>

    <!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-jdbc</artifactId>
        <version>5.3.17</version>
    </dependency>

    <!-- https://mvnrepository.com/artifact/org.springframework/spring-orm -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-orm</artifactId>
        <version>5.3.17</version>
    </dependency>

    <!-- https://mvnrepository.com/artifact/org.springframework/spring-tx -->
    <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-tx</artifactId>
        <version>5.3.17</version>
    </dependency>

    <!-- https://mvnrepository.com/artifact/junit/junit -->
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.13.2</version>
        <scope>test</scope>
    </dependency>

    <!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>8.0.28</version>
    </dependency>
</dependencies>
```

:::



+ ä½¿ç”¨ Spring é…ç½®æ–‡ä»¶é…ç½® `Druid` è¿æ¥æ± ä¿¡æ¯ï¼ˆæ–°å»º Spring é…ç½®æ–‡ä»¶ `dataSourceBean.xml` ï¼‰ï¼š

:warning: æ³¨æ„å¤´éƒ¨è¦å¼•å…¥ `context` çš„åç§°ç©ºé—´ï¼š

```xml
<context:property-placeholder location="jdbc.properties"/>

<bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">
    <property name="driverClassName" value="${m ysql.driver}"/>
    <property name="url" value="${mysql.url}"/>
    <property name="username" value="${mysql.username}"/>
    <property name="password" value="${mysql.password}"/>
</bean>
```

+ å¼•å…¥çš„ `jdbc.properties` é…ç½®ä¿¡æ¯æ–‡ä»¶ï¼š

```properties
mysql.driver=com.mysql.jdbc.Driver
mysql.url=jdbc:mysql://localhost:3306/javaeeTest?useUnicode=true&characterEncoding=utf8
mysql.username=****
mysql.password=****
```

+ åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­é…ç½® `JdbcTemplate` å¯¹è±¡ï¼Œæ³¨å…¥ `DataSource`ï¼š

```xml
<!--JdbcTemplateå¯¹è±¡-->
<bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
    <!--æ³¨å…¥DataSource-->
    <property name="dataSource" ref="dataSource"/>
</bean>
```

+ åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç»„ä»¶æ‰«æï¼š

```xml
<!--å¼€å¯ç»„ä»¶æ‰«æ-->
<context:component-scan base-package="com.simon"/>
```

ï¼ˆé™„ä¸Šæ•´ä½“çš„ Spring é…ç½®æ–‡ä»¶ï¼‰ï¼š

::: details

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-beans.xsd">

    <!--å¼€å¯ç»„ä»¶æ‰«æ-->
    <context:component-scan base-package="com.simon"/>

    <context:property-placeholder location="jdbc.properties"/>

    <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">
        <property name="driverClassName" value="${jdbc.driver}"/>
        <property name="url" value="${jdbc.url}"/>
        <property name="username" value="${jdbc.username}"/>
        <property name="password" value="${jdbc.password}"/>
    </bean>

    <!--JdbcTemplateå¯¹è±¡-->
    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <!--æ³¨å…¥DataSource-->
        <property name="dataSource" ref="dataSource"/>
    </bean>
</beans>
```

:::

+ åˆ›å»º `Service` ç±»å’Œ `DAO` æ¥å£ç±»ä¸å®ç°ç±»ï¼Œä½¿ç”¨æ³¨è§£æ–¹å¼åœ¨ `DAO` ä¸­æ³¨å…¥ `JdbcTemplate` å¯¹è±¡ï¼ˆå¦å¤–åœ¨ `Service` ä¸­æ³¨å…¥ `DAO` å¯¹è±¡ï¼‰ã€‚

ğŸŒ° åˆ›å»º `BookService` ã€`BookDAO` ã€`BookDAOImpl`ï¼š

```java
@Service
public class BookService {
    // æ³¨å…¥DAO
    @Autowired
    private BookDAO bookDAO;
}
```

```java
public interface BookDAO {
}
```

```java
@Repository
public class BookDAOImpl implements BookDAO {
    // æ³¨å…¥JdbcTemplate
    @Autowired
    private JdbcTemplate jdbcTemplate;
}
```



### æ·»åŠ æ“ä½œ



ğŸŒ° ä¾‹å­ï¼šä»¥æ·»åŠ å›¾ä¹¦åŠŸèƒ½ä¸ºä¾‹

+ ä¸»è¦æ­¥éª¤ï¼š
  + åˆ›å»ºæ•°æ®åº“ `t_book` 
  + åˆ›å»ºæ•°æ®åº“ `t_book` å¯¹åº”çš„æŒä¹…åŒ–å±‚
  + ç¼–å†™æ·»åŠ å›¾ä¹¦åŠŸèƒ½é€»è¾‘ä»£ç ï¼Œ `BookService` å’Œ `BookDAO` 
  + ç¼–å†™æµ‹è¯•ç±»å’Œæµ‹è¯•æ–¹æ³•



+ åˆ›å»ºæ•°æ®åº“ `t_table` ï¼š

::: details

```sql
create table t_book
(
    id     char(10)  not null primary key,
    name   char(100) null,
    status char(50)  null
);
```

:::



+ ç¼–å†™ `Book` å®ä½“ç±»ï¼š

```java
public class Book {
    private String bookId;
    private String bookName;
    private String bookStatus;

    public Book(String bookId, String bookName, String bookStatus) {
        this.bookId = bookId;
        this.bookName = bookName;
        this.bookStatus = bookStatus;
    }

    public String getBookId() {
        return bookId;
    }

    public void setBookId(String bookId) {
        this.bookId = bookId;
    }

    public String getBookName() {
        return bookName;
    }

    public void setBookName(String bookName) {
        this.bookName = bookName;
    }

    public String getBookStatus() {
        return bookStatus;
    }

    public void setBookStatus(String bookStatus) {
        this.bookStatus = bookStatus;
    }
}
```



+ ç¼–å†™ `BookService` å’Œ `BookDAO` éƒ¨åˆ†ï¼Œå¢åŠ **æ·»åŠ å›¾ä¹¦**çš„åŠŸèƒ½é€»è¾‘ï¼š

```java
public interface BookDAO {
    int addBook(Book book);
}
```

```java
@Repository
public class BookDAOImpl implements BookDAO {
    // æ³¨å…¥JdbcTemplate
    @Autowired
    private JdbcTemplate jdbcTemplate;

    @Override
    public int addBook(Book book) {
        String sql = "insert into t_book(id, name, status) values(?,?,?)";
        Object[] args = {book.getId(), book.getName(), book.getStatus()};
        return jdbcTemplate.update(sql, args);
    }
}
```



> `udpate(String sql, Object ... args)` æ–¹æ³•ï¼š
>
> + `sql` ï¼šå­—ç¬¦ä¸²ç±»å‹çš„ SQL è¯­å¥
> + `args` ï¼šå¯å˜å‚æ•°ï¼Œè®¾ç½® SQL è¯­å¥å€¼

```java
@Service
public class BookService {
    // æ³¨å…¥DAO
    @Autowired
    private BookDAO bookDAO;

    public int addBook(Book book) {
        return bookDAO.addBook(book);
    }
}
```



+ ç¼–å†™æµ‹è¯•ç±»å’Œæµ‹è¯•æ–¹æ³•ï¼š

```java
public class BookServiceTest {
    @Test
    public void testBookServiceAdd(){
        ApplicationContext context = new ClassPathXmlApplicationContext("BookBean.xml");
        BookService bookService = context.getBean("bookService", BookService.class);
        Book book = new Book();
        book.setId("124");
        book.setName("JavaWeb");
        book.setStatus("a");
        System.out.println(bookService.addBook(book));
    }
}
```



### ä¿®æ”¹å’Œåˆ é™¤æ“ä½œ

ä¿®æ”¹å’Œåˆ é™¤æ“ä½œçš„ä»£ç é€»è¾‘åŸºæœ¬ä¸Šä¸æ·»åŠ æ“ä½œä¸€è‡´ã€‚



ğŸŒ° ä¾‹å­ï¼šä»¥ä¿®æ”¹å›¾ä¹¦å’Œåˆ é™¤å›¾ä¹¦ä¸ºä¾‹

+ åœ¨ `BookDAO` ä¸­æ·»åŠ ä¿®æ”¹å›¾ä¹¦å’Œåˆ é™¤å›¾ä¹¦çš„æ–¹æ³•ä»£ç ï¼š

```java
public interface BookDAO {
    int updateBook(Book book);

    int deleteBook(String id);
}
```



```java
@Repository
public class BookDAOImpl implements BookDAO {
    // æ³¨å…¥JdbcTemplate
    @Autowired
    private JdbcTemplate jdbcTemplate;

    @Override
    public int updateBook(Book book) {
        String sql = "update t_book set name=?,status=? where id=?";
        Object[] args = {book.getName(), book.getStatus(), book.getId()};
        return jdbcTemplate.update(sql, args);
    }

    @Override
    public int deleteBook(String id) {
        String sql = "delete from t_book where id=?";
        return jdbcTemplate.update(sql, id);
    }
}
```



+ åœ¨ `BookService` ä¸­æ·»åŠ ä¿®æ”¹å›¾ä¹¦å’Œåˆ é™¤å›¾ä¹¦çš„æ–¹æ³•ä»£ç ï¼š

```java
public class BookService {

    // æ³¨å…¥DAO
    @Autowired
    private BookDAO bookDAO;

    public int addBook(Book book) {
        return bookDAO.addBook(book);
    }

    public int updateBook(Book book) {
        return bookDAO.updateBook(book);
    }

    public int deleteBook(String id) {
        return bookDAO.deleteBook(id);
    }
}
```



+ ç¼–å†™æµ‹è¯•ç±»å’Œæµ‹è¯•æ–¹æ³•ï¼š

```java
@Test
public void testBookServiceUpdateBook(){
    ApplicationContext context = new ClassPathXmlApplicationContext("BookBean.xml");
    BookService bookService = context.getBean("bookService", BookService.class);
    Book book = new Book();
    book.setId("124");
    book.setName("JavaWeb");
    book.setStatus("b");
    System.out.println(bookService.updateBook(book));
}

@Test
public void testBookServiceDeleteBook(){
    ApplicationContext context = new ClassPathXmlApplicationContext("BookBean.xml");
    BookService bookService = context.getBean("bookService", BookService.class);
    System.out.println(bookService.deleteBook("124"));
}
```



### æŸ¥è¯¢æ“ä½œ

ä¸»è¦æœ‰ä¸‰ç§æŸ¥è¯¢æ“ä½œï¼š

+ æŸ¥è¯¢è¿”å›æŸä¸ªå€¼
+ æŸ¥è¯¢è¿”å›å¯¹è±¡
+ æŸ¥è¯¢è¿”å›é›†åˆ





**ä½¿ç”¨ JdbcTemplate æŸ¥è¯¢è¿”å›æŸä¸ªå€¼**ï¼š

ğŸŒ° æŸ¥è¯¢è¡¨é‡Œé¢æœ‰å¤šå°‘æ¡è®°å½•ï¼Œè¿”å›çš„æ˜¯æŸä¸ªå€¼ï¼š

+ åœ¨ `BookDAO`  æ·»åŠ æ–¹æ³•ï¼š

```java
int selectCount();
```

```java
@Override
public int selectCount() {
    String sql = "select count(*) from t_book";
    return jdbcTemplate.queryForObject(sql, Integer.class);
}
```

> `queryForObject(String sql, Class<T> requiredType)`  å‚æ•°è¯´æ˜
>
> + `sql` ï¼šæ‰§è¡Œçš„ SQL è¯­å¥
> + `requiredType`ï¼š**è¿”å›ç±»å‹çš„ `Class`**ï¼ˆ`String.class` ã€`Integer.class` ç­‰ï¼‰

+ åœ¨ `BookService` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
public int findCount(){
    return bookDAO.selectCount();
}
```



+ ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼š

```java
@Test
public void testBookServiceFindCount(){
     System.out.println(bookService.findCount());
}
```



**ä½¿ç”¨ JdbcTemplate æŸ¥æ‰¾è¿”å›å¯¹è±¡**ï¼š

ğŸŒ° æŸ¥æ‰¾è¡¨ä¸­å›¾ä¹¦çš„è¯¦ç»†ä¿¡æ¯ï¼š

+ åœ¨ `BookDAO` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
Book selectBookById(String id);
```

```java
@Override
public Book selectBookById(String id) {
    String sql = "select * from t_book where id=?";
    // å› ä¸ºéœ€è¦è¿”å›å€¼ä¸ºBookç±»å‹ï¼Œæ‰€ä»¥è¦å°†æ•°æ®å°è£…æˆBookç±»å‹
    return jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper<Book>(Book.class), id);
}
```

> `queryForObject(String sql, RowMapper<T> rowMapper, Object.. args)` å‚æ•°è¯´æ˜ï¼š 
>
> + `sql`ï¼šæ‰§è¡Œçš„ SQL è¯­å¥ã€‚
> + `rowMapper`ï¼š RowMapper ç±»å‹ï¼Œæ˜¯æ¥å£ï¼Œ**è¿”å›ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£å®ç°æ•°æ®çš„å°è£…**ã€‚å…¶å®ç°ç±»æœ‰å¾ˆå¤šï¼Œå› ä¸ºéœ€è¦è¿”å›ä¸€ä¸ªæ•°æ®åº“å®ä½“å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©ä½¿ç”¨ `BeanPropertyRowMapper` ã€‚
> + `args` ï¼šå¯å˜å‚æ•°ï¼Œè®¾ç½® SQL è¯­å¥å€¼ã€‚



+ åœ¨ `BookService` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
public Book findBookById(String id){
    return bookDAO.selectBookById(id);
}
```



+ ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼š

```java
@Test
public void testBookServiceFindBookById(){
    Book book = bookService.findBookById("123");
    System.out.println(book);
}
```



ä½¿ç”¨ JdbcTemplate æŸ¥æ‰¾è¿”å›é›†åˆ

ğŸŒ° ä¾‹å­ï¼šæŸ¥æ‰¾å›¾ä¹¦åˆ—è¡¨

+ åœ¨ `BookDAO` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
List<Book> selectAllBook();
```

```java
@Override
public List<Book> selectAllBook() {
    String sql = "select * from t_book";
    List<Book> books = jdbcTemplate.query(sql, new BeanPropertyRowMapper<Book>(Book.class));
    return books;
}
```

> `query(String sql, RowMapper<T> rowMapper)` JdbcTemplate æä¾›çš„è¿”å›ä¸€ä¸ªé›†åˆçš„æŸ¥è¯¢æ–¹æ³•ï¼Œå‚æ•°è¯´æ˜ï¼š 
>
> + `sql`ï¼šæ‰§è¡Œçš„ SQL è¯­å¥ã€‚
> + `rowMapper`ï¼š RowMapper ç±»å‹ï¼Œæ˜¯æ¥å£ï¼Œ**è¿”å›ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£å®ç°æ•°æ®çš„å°è£…**ã€‚å…¶å®ç°ç±»æœ‰å¾ˆå¤šï¼Œå› ä¸ºéœ€è¦è¿”å›ä¸€ä¸ªæ•°æ®åº“å®ä½“å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©ä½¿ç”¨ `BeanPropertyRowMapper` ã€‚
> + `args`ï¼šå‚æ•°å¯æœ‰å¯æ— ã€‚



+ åœ¨ `BookService` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
public List<Book> findAllBook(){
    return bookDAO.selectAllBook();
}
```

+ ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼š

```java
@Test
public void testBookServiceFindAllBook(){
    List<Book> bookList = bookService.findAllBook();
    bookList.forEach(book -> System.out.println(book));
}
```



### æ‰¹é‡æ“ä½œ

JdbcTempalte ä¸­æä¾›äº† `BatchUpdate()` å¯ä¾›æˆ‘ä»¬è¿›è¡Œæ‰¹é‡æ“ä½œï¼Œä¾‹å¦‚ï¼šæ‰¹é‡æ·»åŠ ã€æ‰¹é‡ä¿®æ”¹ã€æ‰¹é‡åˆ é™¤ç­‰ï¼Œä»£ç å®ç°ä¸Šå¤§åŒå°å¼‚ã€‚



ğŸŒ° ä¾‹å­ï¼š

+ åœ¨ `BookDAO` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
public interface BookDAO {
  int batchAddBook(List<Object[]> bookList);
  int batchUpdateBook(List<Object[]> bookList);
  int batchDeleteBook(List<Object[]> bookList);
}
```

```java
@Repository
public class BookDAOImpl implements BookDAO {
  	// æ³¨å…¥JdbcTemplate
    @Autowired
    private JdbcTemplate jdbcTemplate;

    public int[] extractBatch(String sql, List<Object[]> bookList){
        int[] ints = jdbcTemplate.batchUpdate(sql, bookList);
        return ints;
    }

    @Override
    public int[] batchAddBook(List<Object[]> bookList) {
        String sql = "insert into t_book(id, name, status) values(?,?,?)";
        return extractBatch(sql, bookList);
    }

    @Override
    public int[] batchUpdateBook(List<Object[]> bookList) {
        String sql = "update t_book set name=?, status=? where id=?";
        return extractBatch(sql, bookList);
    }

    @Override
    public int[] batchDeleteBook(List<Object[]> bookList) {
        String sql = "delete from t_book where id=?";
        return extractBatch(sql, bookList);
    }
}
```

> `BatchUpdate(String sql, List<Object[]> batchArgs)` JdbcTemplate æä¾›çš„æ‰§è¡Œæ‰¹é‡ SQL è¯­å¥çš„æ–¹æ³•ï¼Œå‚æ•°è¯´æ˜ï¼š
>
> + `sql` ï¼šæ‰§è¡Œçš„ SQL è¯­å¥ã€‚
> + `batchArgs` ï¼šç±»å‹ä¸º `List` é›†åˆï¼Œ æ·»åŠ å¤šæ¡è®°å½•æ•°æ®ã€‚



+ åœ¨ `BookService` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```java
public class BookService {
    // æ³¨å…¥DAO
    @Autowired
    private BookDAO bookDAO;
  
    public int[] batchAddBook(List<Object[]> bookList){
        return bookDAO.batchAddBook(bookList);
    }

    public int[] batchUpdateBook(List<Object[]> bookList){
        return bookDAO.batchUpdateBook(bookList);
    }

    public int[] batchDeleteBook(List<Object[]> bookList){
        return bookDAO.batchDeleteBook(bookList);
    }
}
```



+ ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼š

```java
@Test
public void testBookServiceBatchAddBook() {
    List<Object[]> bookList = new ArrayList<>();
    Object[] book1 = {"127", "Java", "batchAdd"};
    Object[] book2 = {"128", "Data", "batchAdd"};
    Object[] book3 = {"129", "SpringCloud", "batchAdd"};
    bookList.add(book1);
    bookList.add(book2);
    bookList.add(book3);
    int[] ints = bookService.batchAddBook(bookList);
    System.out.println(Arrays.toString(ints));
}


@Test
public void testBookServiceBatchUpdateBook() {
    List<Object[]> bookList = new ArrayList<>();
    bookList.add(new String[]{"Java++", "batchUpdate", "127"});
    bookList.add(new String[]{"Python++", "batchUpdate", "128"});
    bookList.add(new String[]{"C++", "batchUpdate", "129"});
    int[] ints = bookService.batchUpdateBook(bookList);
    System.out.println(Arrays.toString(ints));
}

@Test
public void testBookServiceBatchDeleteBook() {
    List<Object[]> bookList = new ArrayList<>();
    bookList.add(new String[]{"127"});
    bookList.add(new String[]{"128"});
    int[] ints = bookService.batchDeleteBook(bookList);
    System.out.println(Arrays.toString(ints));
}
```