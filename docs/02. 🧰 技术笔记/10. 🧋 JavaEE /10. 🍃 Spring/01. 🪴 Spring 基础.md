---
title: 🪴 Spring 基础
date: 2022-03-23 23:23:35
permalink: /pages/2f4396/
categories: 
  - _pages
  - 🧋 JavaEE
  - 🍃 Spring
tags: 
  - null
author: 
  name: Simon
  link: https://github.com/simon1uo
---
## Spring 框架概述

Spring 是轻量级的开源 J2EE 框架，可以解决企业应用开发的复杂性。

+ Spring 有两个核心的部分：

  + **IOC**： 控制反转，把创建对象过程交给 Spring 进行管理

  + **AOP**：面向切面，不修改源代码进行功能增强



+ Spring 的特点：

  + 方便解耦，简化开发

  - 支持 AOP 编程

  - 方便程序测试

  - 方便整合其他框架

  - 方便进行事务操作

  - 降低 API 开发难度



广义的 **Spring** 范围如前，除了 Spring Framework 外，还包括Spring Boot、Spring Data、Spring Cloud等等，一起构成了 Spring 家族。如不特别说明，所指称的 Spring 主要用来特指其核心 **Spring Framework**。

Spring 是 JavaEE 领域一个非常优秀的框架，它的主要核心是 IoC（控制反转）和AOP（面向切面开发），使用基本的 JavaBean 来完成之前只可能由 EJB 完成的工作，取代了 EJB 的臃肿、低效的开发模式。

在Spring中，**它会认为一切 Java 类都是资源，而资源都是 Bean**，容纳这些 Bean 的是 **Spring 所提供的 IoC 容器**。所以 Spring  **是一种基于 Bean 的编程**。



Spring 框架采用的是分层架构，一系列功能要素被分成 20 个模块：

+ Core Container （核心容器）：
  + **Core**：提供了Spring框架的基本组成部分，包括 IoC 及 DI 功能。
  + **Beans**： Spring 将**管理对象**称为 Bean 。
  + **Context**：之是访问**定义和配置的任何对象的媒介**。
  + **SpEL**：是运行时**查询和操作**对象图的强大的表达式语言。

+ Data Access / Integration （数据访问 / 集成）：
  + JDBC：提供了一个 JDBC 的接口抽象层，大幅度的**减少了在开发过程中对数据库操作的编码**。
  + ORM：对流行的对象关系映射 API，包括JPA、JDO和Hibernate提供了集成。
  + ~~*OXM：提供了一个支持对象 / XML联射的抽象层实现，如JAXB、Castor、XMLBeans、JiBX 和 XStream。*~~
  + ~~*JMS：指 Java 清息传递服务，包含使用和产生信息的特性，自 4.1 版本后支持与 Spring message 模块的集成。*~~
  + **Transactions**：支持事务管理。
+ Web ：
  + Servlet：也称 Spring-webmvc 模块，包含 Spring 模型 — 视图 — 控制器（MVC）和 REST Web Services 实现的 Web 程序。
  + Web：提供了基本的 Web 开发集成特性，如：多文件上传、使用 Servlet 监听器来初始化 IoC 容器以及 Web 应用上下文。
  + ~~*Portlet：提供了在 portlet 环境中使用 MVC 实现，蕾丝 Servlet 模块的功能。*~~
  + ~~*WebSocket：提供了 WebSocket 和 SockJS 的实现，以及对 STOMP 的支持。*~~

+ 其他模块：
  + AOP：**提供了面向切面编程实现**，允许定义方法拦截器和切入点，将代码按照功能进行分离，以降低耦合性。
  + **Aspects：提供了与 AspectJ 的集成功能，AspectJ 是一个功能强大且成熟的面向切面编程 （AOP）框架。**
  + ~~*Instrumentation：提供了类工具的支持和类加载器的实现，可以在特定的应用服务器中使用。*~~
  + ~~*Messaging：提供了对消息传递体系结构和协议的支持。*~~
  + Test：提供了对**单元测试和集成测试**的支持。



Spring 功能强大，但它也不排外，能整合开源世界众多著名的第三方框架和类库，如 MyBatis、Struts2 等等。

在现代 JavaEE 企业级应用中，各组件的耦合方式等思想模式直接体现了 Spring 的思想模式，即使你不直接使用 Spring 但你的开发架构会暗合它的思想，而且 Spring 的拓展性强得今人发指，所以 Spring 已经成为事实上的 JavaEE，不懂 Spring 也就根本谈不上会 JavaEE 开发。

## Spring 入门项目

使用 Spring 创建一个对象：

+ 创建一个类，在这个类中创建一个普通方法：

```java
public class User {
    public void add(){
        System.out.println("Hello World: User.add()方法");
    }
}
```

+ 使用 Spring 配置文件 `bean1.xml` ，**在配置文件配置创建的对象**。

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    <!--配置User对象的创建-->
    <bean id="user" class="com.simon.User"/>
</beans>
```

+ 测试代码：（创建一个测试类，要引入 JUnit 依赖）

```Java
@Test
public void testAdd() {
    // 第一步：加载Spring配置文件
    ApplicationContext context = new ClassPathXmlApplicationContext("bean.xml");
    // 第二步：获取配置创建的对象
    User user = context.getBean("user", User.class);
    System.out.println(user);
    user.add();
}
```



## Spring 相关下载

> 🔗 相关链接：
>
> + Spring官网：https://spring.io/projects/spring-framework#learn
> + Spring Framework Github Repo：https://github.com/spring-projects/spring-framework
> + Spring Framework Artifacts：https://repo.spring.io/

在本笔记中要使用的文件需要在：[release-com-org-springframework-spring](https://repo.spring.io/ui/native/release/org/springframework/spring/) 中找到目前 [CURRENT] [GA] 的版本下载。



目前要在 Spring DEMO 项目用到的 `lib` 依赖是：

- `spring-beans-5.3.15.jar`
- `spring-core-5.3.15.jar`
- `spring-context-5.3.15.jar`
- `spring-expression-5.3.15.jar`
- `commons-logging-1.2.jar`（不是 Spring 的包，但有依赖关系，不引入会报错）



### 创建 maven 项目所需要的依赖

（学习 Spring 使用的 Spring Framwork 依赖）

```xml
<!-- https://mvnrepository.com/artifact/org.springframework/spring-context -->
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-context</artifactId>
    <version>5.3.17</version>
</dependency>
<!-- https://mvnrepository.com/artifact/junit/junit -->
<dependency>
    <groupId>junit</groupId>
    <artifactId>junit</artifactId>
    <version>4.13.2</version>
    <scope>test</scope>
</dependency>
```

***

与 AOP 相关的 AspectJ 依赖：

```xml
<dependency>
    <groupId>org.aspectj</groupId>
    <artifactId>aspectjrt</artifactId>
    <version>1.9.8</version>
</dependency>
<dependency>
    <groupId>org.aspectj</groupId>
    <artifactId>aspectjweaver</artifactId>
    <version>1.9.8</version>
</dependency>
```
