---
title:  ğŸ Vue ç”Ÿå‘½å‘¨æœŸç›¸å…³
date: 2022-06-09 10:39:37
permalink: /pages/68ecc7/
categories:
  -  ğŸªé¢è¯•é¢˜æ”¶é›†
  -  ğŸŒ  æ ¸å¿ƒæ¡†æ¶ç›¸å…³
  -  ğŸ Vue
tags:
  - 
---
## Vue çš„æŒ‚è½½

> + Vue å®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ 

+ `new Vue()` æ—¶ï¼Œä¼šè°ƒç”¨ `_init() ` æ–¹æ³•åˆå§‹åŒ–ï¼š
  + å®šä¹‰ `$set`ã€`$get`ã€`$delete`ã€`$watch` ç­‰æ–¹æ³•ï¼›ï¼ˆæ•°æ®ç›¸å…³ï¼‰
  + å®šä¹‰ `$on`ã€`$off`ã€`$emit`ã€`$off` ç­‰äº‹ä»¶ï¼›
  + å®šä¹‰ `_update`ã€`$forceUpdate`ã€`$destroy` ç”Ÿå‘½å‘¨æœŸï¼›
+ è°ƒç”¨ `$mount` è¿›è¡Œé¡µé¢çš„æŒ‚è½½ï¼›
  + é¡µé¢çš„æŒ‚è½½ä¸»è¦é€šè¿‡ `mountComponent` æ–¹æ³•ï¼› 
+ å®šä¹‰ `updateComponent` æ›´æ–°å‡½æ•°ï¼›
+ æ‰§è¡Œ `render` ç”Ÿæˆè™šæ‹Ÿ DOMï¼›
+ `update` å°†è™šæ‹Ÿ DOM ç”ŸæˆçœŸå® DOM ç»“æ„ï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼›



## Vue çš„ç”Ÿå‘½å‘¨æœŸ

Vue çš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ï¼šä» Vue å®ä¾‹çš„åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ï¼Œå³ä» **åˆ›å»ºã€åˆå§‹åŒ–æ•°æ®ã€ç¼–è¯‘æ¨¡ç‰ˆã€æŒ‚è½½ DOM â†’ æ¸²æŸ“ã€æ›´æ–° â†’ æ¸²æŸ“ã€å¸è½½ ** ç­‰ä¸€ç³»åˆ—çš„è¿‡ç¨‹ã€‚

> å¯ä»¥çœ‹ä½œå·¥å‚ä¸­çš„ä¸€æ¡æµæ°´çº¿ï¼Œæ¯ä¸ªå·¥äººï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰ç«™åœ¨å„è‡ªçš„å²—ä½ï¼Œå½“ä»»åŠ¡æµè½¬åˆ°å·¥äººèº«è¾¹çš„æ—¶å€™ï¼Œå·¥äººå°±å¼€å§‹å“¦ç»™ä½ åšã€‚

> Vue ç”Ÿæ˜å‘¨æœŸä¼šè‡ªåŠ¨ç»‘å®šåˆ° `this` ä¸Šä¸‹æ–‡å®ä¾‹ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ `this` è®¿é—®åˆ°æ•°æ®ï¼Œå¯¹ `property` å’Œæ–¹æ³•è¿›è¡Œè¿ç®—ï¼Œä½†æ˜¯è¿™æ„å‘³ç€ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚



Vue ä¸ªç”Ÿå‘½å‘¨æœŸï¼ˆVue 2ï¼‰ï¼ŒåŒ…æ‹¬ ï¼ˆå®ä¾‹ï¼‰åˆ›å»ºå‰åã€æŒ‚è½½å‰åã€æ›´æ–°å‰åã€é”€æ¯å‰åï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šçš„ç”Ÿå‘½å‘¨æœŸï¼š

+ `beforeCreate` ï¼šç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹å‰ï¼›
+ `created`ï¼šç»„ä»¶å®ä¾‹å®Œå…¨åˆ›å»ºï¼›
+ `beforeMount`ï¼šç»„ä»¶æŒ‚è½½ä¹‹å‰ï¼›
+ `mounted`ï¼šç»„ä»¶æŒ‚è½½åˆ°å®ä¾‹ä¹‹åï¼›
+ `beforeUpdate`ï¼šç»„ä»¶æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œæ›´æ–°ä¹‹å‰ï¼›
+ `updated`ï¼šç»„ä»¶æ•°æ®æ›´æ–°ä¹‹åï¼›
+ `beforeDestroy`ï¼šç»„ä»¶å®ä¾‹é”€æ¯ä¹‹å‰ï¼›
+ `destroyed`ï¼šç»„ä»¶å®ä¾‹é”€æ¯ä¹‹åï¼›

***

+ `activated`ï¼š`keep-alive` ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶ï¼›
+ `deactivated`ï¼š`keep-alive` ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶ï¼›
+ `errorCaptured`ï¼šæ•è·ä¸€ä¸ªæ¥è‡ªå­å­™ç»„ä»¶çš„é”™è¯¯æ—¶è¢«è°ƒç”¨ï¼›



Vue ç”Ÿå‘½å‘¨æœŸæµç¨‹ï¼š

::: details



:::



Vue ç”Ÿå‘½å‘¨æœŸå…·ä½“åˆ†æï¼š

+ `beforeCreate` â†’ ` created`ï¼š åˆå§‹åŒ– Vue å®ä¾‹ï¼Œè¿›è¡Œæ•°æ®è§‚æµ‹ï¼›
+ `created`ï¼š
  + å®Œæˆæ•°æ®è§‚æµ‹ã€å±æ€§ä¸æ–¹æ³•çš„è¿ç®—ï¼›`watch`ã€`event` äº‹ä»¶å›è°ƒçš„é…ç½®ï¼›
  + å¯ä»¥è°ƒç”¨ `methods` ä¸­çš„æ–¹æ³•ï¼Œè®¿é—®å’Œä¿®æ”¹ `data` æ•°æ®è§¦å‘å“åº”å¼æ¸²æŸ“ DOMï¼Œå¯ä»¥é€šè¿‡ `computed` å’Œ `watch` å®Œæˆæ•°æ®è®¡ç®—ï¼›
  + æ­¤æ—¶ `vm.$el` å¹¶æ²¡æœ‰è¢«åˆ›å»ºï¼›
  
+ `created`  â†’ `beforeMount`
  + åˆ¤æ–­æ˜¯å¦å­˜åœ¨ `el`ï¼šå¦‚æœä¸å­˜åœ¨åˆ™åœæ­¢ç¼–è¯‘ï¼Œç›´åˆ°è°ƒç”¨ `vm.$mount(el)` æ‰ä¼šç»§ç»­ç¼–è¯‘ï¼›
  + ä¼˜å…ˆçº§ï¼š`render` > `template` > `outerHTML`ï¼›
  + `vm.el` è·å–åˆ°çš„æ˜¯ æŒ‚è½½ DOM çš„ï¼›

+ `beforeMount` â†’ `mounted` ï¼š
  + åœ¨è¿™ä¸ªé˜¶æ®µå¯ä»¥è·å–åˆ° `vm.el`ï¼›
  + åœ¨è¿™ä¸ªé˜¶æ®µè™½ç„¶ `vm.el` å®Œæˆäº† DOM åˆå§‹åŒ–ï¼Œå³å°†å¼€å§‹æ¸²æŸ“ï¼Œä½†å¹¶æœªæŒ‚è½½åœ¨ `el` é€‰é¡¹ä¸Šã€‚
  + è¿™ä¸ªé˜¶æ®µå¯ä»¥ä¿®æ”¹æ•°æ®ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘æ•°æ®æ›´æ–°ç›¸å…³å‹¾å­ï¼›

+ `mounted` ï¼š`vm.el` å®Œæˆäº† DOM çš„æŒ‚è½½å’Œæ¸²æŸ“ï¼Œæ•°æ®å®ŒæˆåŒå‘ç»‘å®šï¼Œæ­¤æ—¶æ‰“å° `vm.$el` å‘ç°æ­¤å‰çš„æŒ‚è½½ç‚¹ä»¥åŠå†…å®¹å·²ç»è¢«æ›¿æ¢æˆæ–°çš„ DOMï¼Œå¯ä»¥è®¿é—® DOM èŠ‚ç‚¹ï¼Œä½¿ç”¨ `$refs` å¯¹ DOM æ“ä½œï¼›
+ `beforeUpdate`ï¼š
  + æ›´æ–°çš„æ•°æ®å¿…é¡»æ˜¯è¢«æ¸²æŸ“åœ¨æ¨¡ç‰ˆä¸Šçš„ï¼ˆ`el`ã€`template`ã€`render` ä¹‹ä¸€ï¼‰ï¼›
  + æ­¤æ—¶ `view` å±‚è¿˜æœªæ›´æ–°ï¼›
  + è‹¥åœ¨ `beforeUpdate` ä¸­å†æ¬¡ä¿®æ”¹æ•°æ®ï¼Œ**ä¸ä¼šå†æ¬¡è§¦å‘æ›´æ–°æ–¹æ³•**ï¼› 

+ `updated`ï¼š
  + å®Œæˆ `view` å±‚çš„æ›´æ–°ï¼›
  + è‹¥åœ¨  `updated` ä¸­åœ¨æ­¤ä¿®æ”¹æ•°æ®ï¼Œ**ä¼šå†æ¬¡è§¦å‘æ›´æ–°æ–¹æ³•ï¼ˆ`beforeUpdate`ã€`updated`ï¼‰**ï¼›

+ `beforeDestroy`ï¼šå®ä¾‹è¢«é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œæ­¤æ—¶å®ä¾‹å±æ€§ä¸æ–¹æ³•ä»ç„¶å¯ä»¥è®¿é—®ï¼›
+ `destroyed`ï¼š
  + å®Œå…¨é”€æ¯ä¸€ä¸ªå®ä¾‹ï¼Œå¯ä»¥æ¸…ç†å®ƒä¸å…¶ä»–å®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å®ƒçš„å…¨éƒ¨æŒ‡ä»¤ä»¥åŠäº‹ä»¶ç›‘å¬å™¨ï¼›
  + å¹¶ä¸èƒ½æ¸…é™¤ DOMï¼Œä»…ä»…é”€æ¯å®ä¾‹ï¼›




**ä½¿ç”¨åœºæ™¯**ï¼š

+ `beforeCreate`ï¼šé€šå¸¸ç”¨äºæ’ä»¶å¼€å‘ä¸­çš„ä¸€äº›åˆå§‹åŒ–ä»»åŠ¡ï¼ˆæ­¤æ—¶ç»„ä»¶å®ä¾‹ä¸ºåˆ›å»ºï¼‰
+ `created`ï¼šç»„ä»¶å®ä¾‹åˆ›å»ºåï¼Œå¯ä»¥è·å–å„ç§æ•°æ®ï¼Œé€šå¸¸ç”¨äº å¼‚æ­¥æ•°æ®çš„è·å–ï¼›
+ `beforeMount`ï¼šæœªæ‰§è¡Œæ¸²æŸ“ã€æ›´æ–°ï¼ŒDOM æœªåˆ›å»ºï¼›
+ `mounted`ï¼šåˆå§‹åŒ–ç»“æŸï¼ŒDOM å·²åˆ›å»ºï¼›å¯ä»¥ç”¨äºè·å–è®¿é—®æ•°æ® å’Œ DOM å…ƒç´ ï¼›
+ `beforeUpdate`ï¼šæ•°æ®æ›´æ–°ä¹‹å‰ï¼Œå¯ç”¨äºè·å–æ›´æ–°å‰çš„å„ç§çŠ¶æ€ï¼›
+ `updated`ï¼šæ•°æ®æ›´æ–°ä¹‹åï¼Œæ‰€æœ‰çŠ¶æ€å·²æ˜¯æœ€æ–°ï¼›
+ `beforeDestroy`ï¼šé”€æ¯ä¹‹å‰ï¼Œç”¨äºè§£ç»‘è®¢é˜…æˆ–è€…å®šæ—¶å™¨ï¼›
+ `destroyed`ï¼šå®Œå…¨é”€æ¯ä¹‹åã€‚



> æ•°æ®è·å–ï¼Œä½¿ç”¨ `created` å’Œ `mounted` çš„åŒºåˆ«ï¼š
>
> + `created` åœ¨ **ç»„ä»¶å®ä¾‹ä¸€æ—¦åˆ›å»ºå®Œæˆä¹‹å** ç«‹åˆ»è°ƒç”¨ï¼Œè¿™æ—¶ DOM èŠ‚ç‚¹å¹¶æœªç”Ÿæˆï¼› 
>
>   `mounted` æ˜¯åœ¨é¡µé¢ DOM èŠ‚ç‚¹æ¸²æŸ“å®Œæ¯•ä¹‹åç«‹å³æ‰§è¡Œçš„ï¼›
>
>   æ‰€ä»¥è§¦å‘æ—¶æœºï¼Œ `created` æ¯” `mounted` æ›´æ—©ã€‚
>
> + ä¸¤è€…ç›¸åŒç‚¹ï¼Œéƒ½èƒ½æ‹¿åˆ° **å®ä¾‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•**ã€‚
>
> + è¿™ä¸ªé—®é¢˜çš„æœ¬è´¨å°±æ˜¯è§¦å‘çš„æ—¶æœºï¼Œæ”¾åœ¨ `mounted` è¯·æ±‚æ•°æ®æœ‰å¯èƒ½å¯¼è‡´é¡µé¢é—ªåŠ¨ï¼ˆå› ä¸ºæ­¤æ—¶ DOM ç»“æ„å·²ç»æ¸²æŸ“å®Œæ¯•ï¼‰ï¼Œä½†æ˜¯å¦‚æœåœ¨é¡µé¢åŠ è½½ä¹‹å‰å®Œæˆæ•°æ®è¯·æ±‚å°±ä¸ä¼šå‘ç”Ÿã€‚å»ºè®®æ”¾åœ¨ `created` ç”Ÿå‘½å‘¨æœŸä¸­ã€‚



Vue ç”Ÿå‘½å‘¨æœŸè¯¦ç»†æµç¨‹ï¼š

![44114780-3aca-11eb-85f6-6fac77c0c9b3](https://cdn.jsdelivr.net/gh/simon1uo/image-flow@master/image/vTSWjQ.png)



Vue 3 ä¸­çš„ç”Ÿå‘½å‘¨æœŸï¼š

+ `setup`	
  + æ›¿ä»£äº† `beforeCreate` / `created`ã€‚
+ `onBeforeMount`
  + æ­¤é˜¶æ®µåœ¨ç»„ä»¶çš„ DOM å®é™…æ¸²æŸ“å’ŒæŒ‚è½½ä¹‹å‰è§¦å‘ã€‚æ‰€ä»¥æ ¹æºç´ è¿˜æ²¡å­˜åœ¨ã€‚
+ `onMounted`
+ `onBeforeUpdate`
+ `onUpdated`
+ `onBeforeUnmount`
+ `onUnmounted`
+ `onErrorCaptured`

***

+ `onActivated`
+ `onDeactivated`

***

è°ƒè¯•æ—¶ä½¿ç”¨é’©å­ï¼š

+ `onRenderTracked`
+ `onRenderTriggered`



## å‚è€ƒ 

+ Vue å®˜æ–¹æ–‡æ¡£ï¼š[ç”Ÿå‘½å‘¨æœŸé’©å­ | Vue.js (vuejs.org)](https://staging-cn.vuejs.org/guide/essentials/lifecycle.html)
