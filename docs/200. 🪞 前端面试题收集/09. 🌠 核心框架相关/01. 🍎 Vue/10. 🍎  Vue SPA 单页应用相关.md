---
title:  ğŸ  Vue SPA å•é¡µåº”ç”¨ç›¸å…³
date: 2022-06-09 15:52:33
permalink: /pages/31a16b/
categories:
  -  ğŸªé¢è¯•é¢˜æ”¶é›†
  -  ğŸŒ  æ ¸å¿ƒæ¡†æ¶ç›¸å…³
  -  ğŸ Vue
tags:
  - 
---
> + è¯´è¯´å¯¹ SPAï¼ˆå•é¡µé¢åº”ç”¨ï¼‰çš„ç†è§£ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ
> + å¦‚ä½•å®ç° SPAï¼Ÿ



## æ¦‚å¿µ

SPAï¼ˆSingle-page Applicationï¼‰ å•é¡µé¢åº”ç”¨æ˜¯ä¸€ç§ **ç½‘ç»œåº”ç”¨ç¨‹åºæˆ–è€…ç½‘ç«™çš„æ¨¡å‹**ï¼›

+ é€šè¿‡åŠ¨æ€é‡å†™å½“å‰é¡µé¢ä¸ç”¨æˆ·äº¤äº’ï¼Œé¿å…äº†é¡µé¢åˆ‡æ¢æ‰“æ–­ç”¨æˆ·ä½“éªŒã€‚

+ åœ¨å•é¡µé¢åº”ç”¨ä¸­ï¼Œå¿…è¦çš„ä»£ç éƒ½é€šè¿‡å•ä¸ªé¡µé¢åŠ è½½å’Œæ£€ç´¢ï¼Œæˆ–è€…æ ¹æ®éœ€è¦ï¼ˆå“åº”ç”¨æˆ·çš„æ“ä½œï¼‰åŠ¨æ€åŠ è½½é€‚å½“çš„èµ„æºæ·»åŠ åˆ°é¡µé¢ä¸­ã€‚

+ é¡µé¢åœ¨ä»»ä½•æ—¶é—´ç‚¹éƒ½ä¸åº”è¯¥ä¼šé‡æ–°åŠ è½½ï¼Œä¹Ÿä¸ä¼šå°†æ§åˆ¶è½¬ç§»åˆ°å…¶ä»–é¡µé¢ã€‚

  > ç†è§£ä¾‹å­ï¼šçœ‹ä½œè¿™ä¸ªé¡µé¢åº”ç”¨ä¸ºä¸€ä¸ªæ¯å­ï¼Œæ¯å­ä¸­å¯ä»¥è£…ä¸åŒçš„å†…å®¹ï¼Œå˜çš„å§‹ç»ˆæ˜¯æ¯å­ä¸­çš„å†…å®¹ï¼Œè€Œä¸æ˜¯æ¯å­ã€‚

+ å¸¸è§çš„ JavaScript æ¡†æ¶ Vueã€Reactã€Angularã€ember éƒ½å±äº SPAã€‚



MPAï¼ˆMulti-page Application å¤šé¡µé¢åº”ç”¨ï¼‰ï¼Œæ„å‘³ç€åº”ç”¨ä¸­æœ‰å¤šä¸ªé¡µé¢ï¼Œæ¯ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªä¸»é¡µé¢ï¼Œå½“è®¿é—®å¦ä¸€ä¸ªé¡µé¢çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°åŠ è½½ HTMLã€CSSã€JavaScript ä»£ç ï¼Œå…¬å…±æ–‡ä»¶åˆ™æ˜¯æŒ‰éœ€åŠ è½½ã€‚



SPA ä¸ MPA ä¸¤è€…å¯¹æ¯”ï¼š

|                  | SPA                | MPA                                  |
| ---------------- | ------------------ | ------------------------------------ |
| åˆ·æ–°æ–¹å¼         | å±€éƒ¨åˆ·æ–°           | æ•´é¡µåˆ·æ–°                             |
| URL æ¨¡å¼         | å“ˆå¸Œæ¨¡å¼           | å†å²æ¨¡å¼                             |
| SEO æœç´¢å¼•æ“ä¼˜åŒ– | éš¾ä»¥å®ç°           | å®¹æ˜“å®ç°                             |
| æ•°æ®ä¼ é€’         | å®¹æ˜“               | é€šè¿‡ URLã€Cookieã€localStorage       |
| é¡µé¢åˆ‡æ¢         | é€Ÿåº¦å¿«ï¼Œç”¨æˆ·ä½“éªŒå¥½ | éœ€è¦åˆ‡æ¢åŠ è½½èµ„æºï¼Œé€Ÿåº¦æ…¢ï¼Œç”¨æˆ·ä½“éªŒå·® |
| ç»´æŠ¤æˆæœ¬         | ç›¸å¯¹å®¹æ˜“           | ç›¸å¯¹å¤æ‚                             |



## SPA çš„ä¼˜ç¼ºç‚¹åˆ†æ

ä¼˜ç‚¹ï¼š

+ å…·æœ‰æ¡Œé¢åº”ç”¨çš„å³æ—¶æ€§ã€ç½‘ç«™çš„å¯ç§»æ¤æ€§ã€å¯è®¿é—®æ€§ç‰¹ç‚¹ï¼›
+ ç”¨æˆ·ä½“éªŒå¥½ã€å¿«é€Ÿï¼Œå†…å®¹æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½é¡µé¢ï¼›
+ è‰¯å¥½çš„å‰åç«¯åˆ†ç¦»ï¼Œåˆ†å·¥æ˜ç¡®ï¼›



ç¼ºç‚¹ï¼š

+ ä¸åˆ©äºæœç´¢å¼•æ“ SEO ä¼˜åŒ–
+ é¦–æ¬¡æ¸²æŸ“é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢



TODOï¼šSPA å®ç° æœç´¢å¼•æ“ SEO ä¼˜åŒ–ï¼›



> + å¦‚ä½•è§£å†³ SPA é¦–å±åŠ è½½é€Ÿåº¦æ…¢ï¼›

## SPA é¦–å±åŠ è½½

**é¦–å±åŠ è½½çš„æ¦‚å¿µ**ï¼šæµè§ˆå™¨ä»å“åº”ç”¨æˆ·è¾“å…¥ç½‘å€ï¼Œåˆ°é¦–å±å†…å®¹æ¸²æŸ“å®Œæˆçš„äº‹ä»¶ï¼Œæ­¤æ—¶æ•´ä¸ªç½‘é¡µä¸ä¸€å®šéœ€è¦å…¨éƒ¨æ¸²æŸ“å®Œæˆï¼Œä½†æ˜¯éœ€è¦å±•ç¤ºå½“å‰è§†çª—éœ€è¦çš„å†…å®¹ï¼›

è®¡ç®—é¦–å±åŠ è½½æ—¶é—´ï¼š

::: details

ä¸¤ç§æ–¹æ³•ï¼š

é€šè¿‡ `DOMContentLoad` äº‹ä»¶ï¼š

```js
document.addEventListener('DOMContentLoaded', (event) => {
  conosole.log('first contentful painting')
})
```



é€šè¿‡ `performance` ï¼š

```js
performance.getEntriesByName("first-contentful-paint")[0].startTime
```

:::



è§£å†³å•é¡µåº”ç”¨é¦–å±è¿›å…¥åŠ è½½æ…¢çš„é—®é¢˜ï¼š

> é¡µé¢æ¸²æŸ“å¯¼è‡´åŠ è½½é€Ÿåº¦æ…¢çš„å› ç´ æœ‰ï¼š
>
> + ç½‘ç»œå»¶æ—¶ï¼›
> + èµ„æºæ–‡ä»¶ä½“ç§¯è¿‡å¤§ï¼›
> + èµ„æºæ˜¯å¦é‡å¤å‘é€è¯·æ±‚å»åŠ è½½ï¼›
> + åŠ è½½è„šæœ¬æ—¶ï¼Œæ¸²æŸ“çš„å†…å®¹å µå¡äº†ï¼›

è§£å†³æ–¹æ¡ˆï¼š

+ å‡å°å…¥å£æ–‡ä»¶ä½“ç§¯ï¼›

  å¸¸è§æ‰‹æ®µæ˜¯è·¯ç”±æ‡’åŠ è½½ï¼ŒæŠŠä¸åŒçš„è·¯ç”±å¯¹åº”ä¸åŒçš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œå¾…è·¯ç”±è¢«è¯·æ±‚çš„æ—¶å€™ä¼šå•ç‹¬æ‰“åŒ…è·¯ç”±ï¼Œä½¿å¾—å…¥å£æ–‡ä»¶å˜å°ï¼ŒåŠ è½½é€Ÿåº¦å¤§å¤§å¢åŠ ã€‚

  ğŸŒ° åŠ¨æ€åŠ è½½è·¯ç”±ä¾‹å­ï¼š

  ```js
  routes: [
    path: '/'
    name: 'main',
    component: () => import('@/views/main.vue')
  ]
  ```

  > å‡½æ•°å½¢å¼åŠ è½½è·¯ç”±ï¼Œå¯ä»¥æŠŠå„è‡ªçš„è·¯ç”±æ–‡ä»¶åˆ†åˆ«æ‰“åŒ…å—ï¼Œåªæœ‰åœ¨è§£æç»™å®šçš„è·¯ç”±æ—¶æ‰ä¼šåŠ è½½è·¯ç”±ç»„ä»¶ã€‚

+ é™æ€èµ„æºæœ¬åœ°ç¼“å­˜ï¼›

  + å›¾ç‰‡èµ„æºå‹ç¼©å¤§å°ï¼›

+ UI æ¡†æ¶æŒ‰éœ€åŠ è½½ï¼›ï¼ˆç»„ä»¶æŒ‰åºå¼•ç”¨ï¼‰

+ ç»„ä»¶é‡å¤æ‰“åŒ…é—®é¢˜ï¼Œé¿å…é‡å¤åŠ è½½ç»„ä»¶ï¼›

+ ä½¿ç”¨ Gzip å‹ç¼©ï¼›

  éœ€è¦æµè§ˆå™¨æ”¯æŒã€‚

+ ä½¿ç”¨ SSRï¼ˆServer Sideï¼‰ï¼š

   æœåŠ¡å™¨ç«¯çš„æ¸²æŸ“ï¼Œç»„ä»¶æˆ–è€…é¡µé¢é€šè¿‡æœåŠ¡å™¨ç”Ÿæˆ HTML ä»£ç ï¼Œå†å‘é€åˆ°æµè§ˆå™¨ã€‚





## å‚è€ƒæ¥æº

> + [é¢è¯•å®˜ï¼šä½ å¯¹SPAå•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°SPAåº”ç”¨å‘¢ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)](https://vue3js.cn/interview/vue/spa.html)
> + [é¢è¯•å®˜ï¼šSPAé¦–å±åŠ è½½é€Ÿåº¦æ…¢çš„æ€ä¹ˆè§£å†³ï¼Ÿ | webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ— (vue3js.cn)](https://vue3js.cn/interview/vue/first_page_time.html)