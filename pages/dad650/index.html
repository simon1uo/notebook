<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>ğŸŒ¿ Spring AOP | notebook</title>
        <meta name="generator" content="VuePress 1.9.7" />
        <link rel="icon" href="/notebook/favicon.ico">
    <link rel="stylesheet" href="/notebook//at.alicdn.com/t/font_3114978_qe0b39no76.css"> <meta name="description" content="a frontend notebook by Simon">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="ä¸ªäººå­¦ä¹ ç¬”è®°,å‰ç«¯å­¦ä¹ ç¬”è®°,å‰ç«¯å­¦ä¹ ,å‰ç«¯å­¦ä¹ èµ„æº,å‰ç«¯å­¦ä¹ è·¯çº¿,HTML,CSS,JavaScript,Vue,React">
    <meta name="theme-color" content="#204A7A">  <link rel="preload" href="/notebook/assets/css/0.styles.e8c79dc0.css" as="style"><link rel="preload" href="/notebook/assets/js/app.6a815fb9.js" as="script"><link rel="preload" href="/notebook/assets/js/2.ddc7fe92.js" as="script"><link rel="preload" href="/notebook/assets/js/3.cf638cd2.js" as="script"><link rel="preload" href="/notebook/assets/js/250.9ae985bc.js" as="script"> <link rel="stylesheet" href="/notebook/assets/css/0.styles.e8c79dc0.css">
    </head>
    <body class="theme-mode-light">
        <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><img src="/notebook/assets/img/logo.png" alt="notebook" class="logo"> <span class="site-name">&lt;notebook/&gt;</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">ğŸŒ é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â˜•ï¸ å‰ç«¯ç¬”è®°" class="dropdown-title"><a href="/notebook/front-end/" class="link-title">â˜•ï¸ å‰ç«¯ç¬”è®°</a> <span class="title" style="display:none;">â˜•ï¸ å‰ç«¯ç¬”è®°</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/front-end/roadmap/" class="nav-link">ğŸ—º å‰ç«¯å­¦ä¹ è·¯çº¿</a></li><li class="dropdown-item"><h4>åˆ†ç±»</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/front-end/beginning/" class="nav-link">ğŸš¶ å‰ç«¯å…¥é—¨åŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/stable/" class="nav-link">ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/core-frame/" class="nav-link">ğŸƒ å‰ç«¯æ ¸å¿ƒæ¡†æ¶</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ”– å…³äº" class="dropdown-title"><a href="/notebook/about/" class="link-title">ğŸ”– å…³äº</a> <span class="title" style="display:none;">ğŸ”– å…³äº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ğŸšç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/archives/" class="nav-link">ğŸ—„å½’æ¡£</a></li><li class="dropdown-subitem"><a href="/notebook/tags/" class="nav-link">ğŸ”–æ ‡ç­¾</a></li></ul></li></ul></div></div> <a href="https://github.com/simon1uo/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
        ğŸ GitHub
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">ğŸŒ é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â˜•ï¸ å‰ç«¯ç¬”è®°" class="dropdown-title"><a href="/notebook/front-end/" class="link-title">â˜•ï¸ å‰ç«¯ç¬”è®°</a> <span class="title" style="display:none;">â˜•ï¸ å‰ç«¯ç¬”è®°</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/front-end/roadmap/" class="nav-link">ğŸ—º å‰ç«¯å­¦ä¹ è·¯çº¿</a></li><li class="dropdown-item"><h4>åˆ†ç±»</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/front-end/beginning/" class="nav-link">ğŸš¶ å‰ç«¯å…¥é—¨åŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/stable/" class="nav-link">ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/core-frame/" class="nav-link">ğŸƒ å‰ç«¯æ ¸å¿ƒæ¡†æ¶</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ”– å…³äº" class="dropdown-title"><a href="/notebook/about/" class="link-title">ğŸ”– å…³äº</a> <span class="title" style="display:none;">ğŸ”– å…³äº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ğŸšç´¢å¼•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/archives/" class="nav-link">ğŸ—„å½’æ¡£</a></li><li class="dropdown-subitem"><a href="/notebook/tags/" class="nav-link">ğŸ”–æ ‡ç­¾</a></li></ul></li></ul></div></div> <a href="https://github.com/simon1uo/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
        ğŸ GitHub
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ”‘ æ•°æ®åº“åŸºç¡€</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span> ğŸ§‹ Java SSM ç›¸å…³</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span> ğŸ—º MyBatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span> ğŸƒ Spring</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/pages/2f4396/" class="sidebar-link">ğŸª´ Spring åŸºç¡€</a></li><li><a href="/notebook/pages/a8acd2/" class="sidebar-link">ğŸŒµ Spring IoC</a></li><li><a href="/notebook/pages/dad650/" aria-current="page" class="active sidebar-link">ğŸŒ¿ Spring AOP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#spring-aop-æ¦‚è¿°" class="sidebar-link">Spring AOP æ¦‚è¿°</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#aop-çš„åº•å±‚åŸç†" class="sidebar-link">AOP çš„åº•å±‚åŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#jdk-åŠ¨æ€ä»£ç†" class="sidebar-link">JDK åŠ¨æ€ä»£ç†</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#cglib-åŠ¨æ€ä»£ç†" class="sidebar-link">CGlib åŠ¨æ€ä»£ç†</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#jdk-åŠ¨æ€ä»£ç†çš„å®ç°" class="sidebar-link">JDK åŠ¨æ€ä»£ç†çš„å®ç°</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#aop-æœ¯è¯­" class="sidebar-link">AOP æœ¯è¯­</a></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#aop-æ“ä½œå‡†å¤‡" class="sidebar-link">AOP æ“ä½œå‡†å¤‡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#aspectj-ä»‹ç»" class="sidebar-link">AspectJ ä»‹ç»</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#å¼•å…¥-aop-ç›¸å…³ä¾èµ–" class="sidebar-link">å¼•å…¥ AOP ç›¸å…³ä¾èµ–</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="sidebar-link">åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#åŸºäºæ³¨è§£çš„-aop-æ“ä½œ" class="sidebar-link">åŸºäºæ³¨è§£çš„ AOP æ“ä½œ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#aspectj-æ³¨è§£å®ç°" class="sidebar-link">AspectJ æ³¨è§£å®ç°</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="sidebar-link">æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§" class="sidebar-link">è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/dad650/#å®Œå…¨æ³¨è§£å¼€å‘" class="sidebar-link">å®Œå…¨æ³¨è§£å¼€å‘</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/dad650/#åŸºäºé…ç½®æ–‡ä»¶çš„-aop-æ“ä½œ" class="sidebar-link">åŸºäºé…ç½®æ–‡ä»¶çš„ AOP æ“ä½œ</a></li></ul></li><li><a href="/notebook/pages/328e92/" class="sidebar-link">ğŸ‹ Spring æ•°æ®åº“ç¼–ç¨‹</a></li><li><a href="/notebook/pages/9f2a81/" class="sidebar-link">â˜˜ï¸ Spring å£°æ˜å¼äº‹åŠ¡</a></li><li><a href="/notebook/pages/30b6df/" class="sidebar-link">ğŸªµ Spring JdbcTemplate</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span> ğŸšSpringMVC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span> ğŸ¤– SpringBoot</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span> ğŸ’¡ Java è¡¥å……</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-16f6d530><div class="articleInfo" data-v-16f6d530><ul class="breadcrumbs" data-v-16f6d530><li data-v-16f6d530><a href="/notebook/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-16f6d530></a></li> <li data-v-16f6d530><a href="/notebook/categories/?category=%20%F0%9F%A7%B0%20%E5%85%B6%E4%BB%96%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0" title="åˆ†ç±»" data-v-16f6d530> ğŸ§° å…¶ä»–å­¦ä¹ ç¬”è®°</a></li><li data-v-16f6d530><a href="/notebook/categories/?category=%20%F0%9F%A7%8B%20Java%20SSM%20%E7%9B%B8%E5%85%B3" title="åˆ†ç±»" data-v-16f6d530> ğŸ§‹ Java SSM ç›¸å…³</a></li><li data-v-16f6d530><a href="/notebook/categories/?category=%20%F0%9F%8D%83%20Spring" title="åˆ†ç±»" data-v-16f6d530> ğŸƒ Spring</a></li></ul> <div class="info" data-v-16f6d530><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-16f6d530><a href="https://github.com/simon1uo" target="_blank" title="ä½œè€…" class="beLink" data-v-16f6d530>Simon</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-16f6d530><a href="javascript:;" data-v-16f6d530>2022-03-28</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><!---->ğŸŒ¿ Spring AOP<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="spring-aop-æ¦‚è¿°"><a href="#spring-aop-æ¦‚è¿°" class="header-anchor">#</a> Spring AOP æ¦‚è¿°</h2> <ul><li>AOP å®šä¹‰ï¼šAspect Oriented Programmingï¼Œ<strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>ï¼ˆæ–¹é¢ï¼‰ï¼Œé€šè¿‡é¢„ç¼–è¯‘å’Œè¿è¡Œæ—¶åŠ¨æ€ä»£ç†æ‹“å±•ç¨‹åºåŠŸèƒ½ã€‚</li> <li>AOP ä½œç”¨ï¼šåˆ©ç”¨ AOP å¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†éš”ç¦»ï¼Œé™ä½è€¦åˆæ€§ï¼Œæé«˜ç¨‹åºå¯é‡ç”¨è¡Œå’Œå¼€å‘æ•ˆç‡ã€‚</li> <li>åœºæ™¯ï¼š æ—¥å¿—è®°å½•ï¼Œæ€§èƒ½ç»Ÿè®¡ï¼Œå®‰å…¨æ§åˆ¶ï¼Œäº‹åŠ¡å¤„ç†ï¼Œå¼‚å¸¸å¤„ç†</li> <li>é€šä¿—æè¿°ï¼šä¸ä¿®æ”¹åŸåŠŸèƒ½æºä»£ç çš„æ–¹å¼ï¼Œ<strong>åœ¨ä¸»å¹²åŠŸèƒ½ä¸­æ·»åŠ æ–°çš„åŠŸèƒ½</strong>ã€‚</li></ul> <p>ğŸŒ° ä¾‹å­ï¼Œä½¿ç”¨ç™»å½•åŠŸèƒ½æ¡ˆä¾‹è¯´æ˜ AOPï¼š</p> <ul><li>æ·»åŠ æƒé™åˆ¤æ–­åŠŸèƒ½ï¼Œä¸é€šè¿‡ä¿®æ”¹ä¸»å¹²ç™»å½•åŠŸèƒ½æ·»åŠ æ–°çš„åˆ¤æ–­æƒé™æ¨¡å—ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«åš AOP ã€‚è¿™ä¸ªè¿‡ç¨‹çš„å¥½å¤„ï¼Œå°†åŠŸèƒ½åˆ†ç¦»å‡ºæ¥ï¼Œ æ­¤åä¸éœ€è¦æ­¤åŠŸèƒ½æ—¶å¯ä»¥ç®€æ˜“åˆ†ç¦»ï¼Œé™ä½åŠŸèƒ½è€¦åˆåº¦ã€‚</li></ul> <h2 id="aop-çš„åº•å±‚åŸç†"><a href="#aop-çš„åº•å±‚åŸç†" class="header-anchor">#</a> AOP çš„åº•å±‚åŸç†</h2> <ul><li>AOP åº•å±‚åŸç†ï¼š<strong>åŠ¨æ€ä»£ç†</strong> <ul><li><strong>æœ‰æ¥å£æƒ…å†µ</strong>ï¼šJDK åŠ¨æ€ä»£ç†ã€‚</li> <li><strong>æ— æ¥å£æƒ…å†µ</strong>ï¼šCGLib åŠ¨æ€ä»£ç†ã€‚</li></ul></li></ul> <p>ï¼ˆå‚è€ƒè®¾è®¡æ¨¡å¼å¯ä»¥äº†è§£ä¸Šé¢ä¸¤ç§ä»£ç†æ–¹å¼ï¼‰</p> <p>ç”±äº Spring5 ä¸­å¯¹ä¸Šè¿°ä»£ç†å·²ç»åšäº†å¾ˆå¥½çš„å°è£…ï¼Œåªéœ€è¦é€šè¿‡æœ€ç®€å•çš„æ–¹å¼è¿›è¡Œé…ç½®å³å¯ã€‚éœ€è¦å¯¹åŸç†æœ‰ä¸€å®šçš„è®¤è¯†ï¼Œæ‰èƒ½åšåˆ°ä»¥ä¸å˜åº”ä¸‡å˜ã€‚</p> <h3 id="jdk-åŠ¨æ€ä»£ç†"><a href="#jdk-åŠ¨æ€ä»£ç†" class="header-anchor">#</a> JDK åŠ¨æ€ä»£ç†</h3> <p>ğŸŒ° ä¾‹å­ï¼šæœ‰æ¥å£çš„æƒ…å†µ</p> <ul><li>å‡è®¾æœ‰æ¥å£ä¸å®ƒçš„å®ç°ç±»ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDAO</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDAO</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//ç™»å½•å®ç°è¿‡ç¨‹</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>è¿™ä¸ªæ—¶å€™è¦åœ¨åŸå§‹ä»£ç çš„åŸºç¡€ä¸Šæ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œ<strong>åˆ›å»º  <code>UserDAO</code>  å®ç°ç±»çš„ä»£ç†å¯¹è±¡</strong>ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡å¢å¼ºåŠŸèƒ½ã€‚</li></ul> <h3 id="cglib-åŠ¨æ€ä»£ç†"><a href="#cglib-åŠ¨æ€ä»£ç†" class="header-anchor">#</a> CGlib åŠ¨æ€ä»£ç†</h3> <p>ğŸŒ° ä¾‹å­ï¼šæ²¡æœ‰æ¥å£çš„æƒ…å†µï¼š</p> <ul><li>å‡è®¾æœ‰  <code>User</code>  å®ä½“ç±»ä¸å®ƒçš„æ–¹æ³•ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>ä½¿ç”¨åŸå§‹æ–¹æ³•æ—¶ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// åŸå§‹æ–¹æ³•ï¼šé€šè¿‡å­ç±»ç»§æ‰¿ï¼Œé‡å†™Userç±»æ–¹æ³•</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å¢å¼ºä»£ç é€»è¾‘</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>å½“æ²¡æœ‰æ¥å£çš„æƒ…å†µï¼Œå¯ä»¥åˆ›å»º  <code>User</code>  ç±»çš„<strong>å­ç±»ä»£ç†å¯¹è±¡</strong>ã€‚</li></ul> <h2 id="jdk-åŠ¨æ€ä»£ç†çš„å®ç°"><a href="#jdk-åŠ¨æ€ä»£ç†çš„å®ç°" class="header-anchor">#</a> JDK åŠ¨æ€ä»£ç†çš„å®ç°</h2> <ul><li>å®ç°æ–¹å¼ï¼šä½¿ç”¨  <code>Proxy</code>  ç±»ä¸­çš„æ–¹æ³•åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</li></ul> <blockquote><p><code>Proxy</code>  ç±»ï¼š <code>java.lang.Object</code>  /  <code>java.lang.reflect.Proxy</code></p></blockquote> <ul><li>å…·ä½“æ–¹æ³•ï¼š <code>newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)</code></li></ul> <blockquote><ul><li><p>è¿”å›æŒ‡å®šæ¥å£çš„ä»£ç†ç±»çš„å®ä¾‹ï¼Œè¯¥æ¥å£æ–¹æ³•è°ƒç”¨åˆ†æ´¾ç»™æŒ‡å®šçš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚</p></li> <li><p>ä¸‰ä¸ªå‚æ•°ï¼š</p> <ul><li><code>ClassLoader loader</code>  ï¼šç±»çš„åŠ è½½å™¨ã€‚</li> <li><code>Class&lt;?&gt;[] interfaces</code> ï¼šå¢å¼ºæ–¹æ³•æ‰€åœ¨ç±»å®ç°çš„æ¥å£æ•°ç»„ï¼ˆè¡¨æ˜å¯ä»¥å¤šä¸ªæ¥å£ï¼‰</li> <li><code>InvocationHandler h</code> ï¼šå®ç° <code>InvocationHandler</code>  æ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œç¼–å†™å¢å¼ºæ–¹æ³•ã€‚</li></ul></li></ul></blockquote> <p>ğŸŒ° ä¾‹å­ï¼ˆåŸå§‹å­¦ä¹ ä¾‹å­ï¼‰ï¼š</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <ul><li>åˆ›å»º UserDAO æ¥å£ä¸å…¶å¯¹åº”çš„å®ç°ç±»ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDAO</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDAO</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>ä½¿ç”¨  <code>Proxy</code>  åˆ›å»º  <code>UserDAO</code>  çš„ä»£ç†å¯¹è±¡ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// åˆ›å»ºä»£ç†å¯¹è±¡ä»£ç </span>
<span class="token keyword">class</span> <span class="token class-name">UserDAOProxy</span> <span class="token keyword">implements</span> <span class="token class-name">InvocationHandler</span> <span class="token punctuation">{</span>

    <span class="token comment">// æŠŠåˆ›å»ºçš„æ˜¯è°çš„ä»£ç†å¯¹è±¡ï¼ŒæŠŠè°ä¼ é€’è¿‡æ¥</span>
    <span class="token comment">// é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•è¿›è¡Œä¼ é€’</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> object<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDAOProxy</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>object <span class="token operator">=</span> object<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¢å¼ºæ–¹æ³•çš„é€»è¾‘</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¢å¼ºæ–¹æ³•ä¹‹å‰</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åœ¨æ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œæ‰§è¡Œçš„æ–¹æ³•å: &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: ä¼ é€’çš„å‚æ•°&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¢«å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span>
        <span class="token class-name">Object</span> res <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å¢å¼ºæ–¹æ³•ä¹‹åæ‰§è¡Œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ–¹æ³•ä¹‹åæ‰§è¡Œ&quot;</span> <span class="token operator">+</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>å¯ä»¥ä½¿ç”¨  <code>method.getName()</code>  å¯¹è¦å¢å¼ºçš„ç‰¹å®šçš„æ–¹æ³•è¿›è¡Œåˆ¤æ–­ï¼Œæ‰§è¡Œç‰¹å®šçš„å¢å¼ºä»£ç ã€‚</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDKProxy</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interfaces <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">UserDAO</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">/*Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() {
            @Override
            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
                return null;
            }
        });*/</span>
        <span class="token class-name">UserDAOImpl</span> userDAO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">UserDAO</span> dao <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDAO</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span><span class="token class-name">JDKProxy</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> interfaces<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOProxy</span><span class="token punctuation">(</span>userDAO<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> dao<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;result&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></details> <p>ğŸŒ° ä¾‹å­ï¼ˆæ”¹è¿›å®Œæˆåº¦ä¾‹å­ï¼‰ï¼š</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <ul><li>åˆ›å»º UserDAO æ¥å£ä¸å…¶å¯¹åº”çš„å®ç°ç±»ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDAO</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDAO</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>åˆ›å»º  <code>UserDAO</code>  ä»£ç†å¯¹è±¡ç±»  <code>UserDAOProxy</code> ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOProxy</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDAO</span> target<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDAOProxy</span><span class="token punctuation">(</span><span class="token class-name">UserDAO</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDAO</span> <span class="token function">newProxyInstances</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> targetClass <span class="token operator">=</span> target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ClassLoader</span> classLoader <span class="token operator">=</span> targetClass<span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> interfaces <span class="token operator">=</span> targetClass<span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">UserDAO</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>classLoader<span class="token punctuation">,</span> interfaces<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOInvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">UserDAOInvocationHandler</span> <span class="token keyword">implements</span> <span class="token class-name">InvocationHandler</span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
            <span class="token comment">// å¢å¼ºæ–¹æ³•ä¹‹å‰</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before method: &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, args: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// è¢«å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span>
            <span class="token class-name">Object</span> res <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// å¢å¼ºæ–¹æ³•ä¹‹åæ‰§è¡Œ</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after method:&quot;</span> <span class="token operator">+</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> res<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">UserDAO</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDAOProxy</span> userDAOProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOProxy</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UserDAO</span> userDAO <span class="token operator">=</span> userDAOProxy<span class="token punctuation">.</span><span class="token function">newProxyInstances</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> userDAO<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        userDAO<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token string">&quot;04191707&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div></details> <h2 id="aop-æœ¯è¯­"><a href="#aop-æœ¯è¯­" class="header-anchor">#</a> AOP æœ¯è¯­</h2> <ul><li>è¿æ¥ç‚¹ï¼š <strong>ç±»ä¸­å¯ä»¥è¢«å¢å¼ºçš„æ–¹æ³•</strong>ã€‚</li> <li>åˆ‡å…¥ç‚¹ï¼š<strong>ç±»ä¸­å®é™…è¢«å¢å¼ºçš„æ–¹æ³•</strong>ã€‚</li> <li>é€šçŸ¥ï¼ˆå¢å¼ºï¼‰ï¼š<strong>å®é™…å¢å¼ºçš„é€»è¾‘éƒ¨åˆ†</strong>ã€‚é€šçŸ¥åˆ†ä¸ºäº”ç§ç±»å‹ï¼š
<ul><li>å‰ç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œä¹‹å‰çš„å¤„ç†ã€‚</li> <li>åç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œä¹‹åçš„å¤„ç†ã€‚</li> <li>ç¯ç»•é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œ<strong>å‰å</strong>çš„å¤„ç†ã€‚</li> <li>å¼‚å¸¸é€šçŸ¥ï¼šæ–¹æ³•<strong>æŠ›å‡ºå¼‚å¸¸</strong>çš„å¤„ç†ã€‚</li> <li>æœ€ç»ˆé€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œæœ€ç»ˆçš„å¤„ç†ï¼ˆç›¸å½“äº  <code>try-catch-finally</code>  ä¸­çš„  <code>finally</code>  éƒ¨åˆ†ï¼‰ã€‚</li></ul></li> <li>åˆ‡é¢ï¼š æ˜¯ä¸€ä¸ªåŠ¨ä½œï¼Œå³æŠŠ<strong>é€šçŸ¥åº”ç”¨åˆ°åˆ‡å…¥ç‚¹çš„è¿‡ç¨‹</strong>ã€‚</li></ul> <p>ğŸŒ° ç†è§£ä¾‹å­ï¼š</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p>ç±»ä¸­å››ä¸ªæ–¹æ³•è¢«å¢å¼ºï¼Œæ‰€ä»¥è¿™å››ä¸ªæ–¹æ³•å¯ä»¥ç§°ä¸ºè¿æ¥ç‚¹ã€‚</p></li> <li><p>å¦‚æœæ­¤æ—¶  <code>add()</code>  æ–¹æ³•è¢«å¢å¼ºï¼Œè¿™æ˜¯çš„åˆ‡å…¥ç‚¹ä¸º  <code>add()</code>  æ–¹æ³•ã€‚</p></li></ul></details> <h2 id="aop-æ“ä½œå‡†å¤‡"><a href="#aop-æ“ä½œå‡†å¤‡" class="header-anchor">#</a> AOP æ“ä½œå‡†å¤‡</h2> <h3 id="aspectj-ä»‹ç»"><a href="#aspectj-ä»‹ç»" class="header-anchor">#</a> AspectJ ä»‹ç»</h3> <p>Spring ä¸€èˆ¬éƒ½æ˜¯åŸºäº  <code>AspectJ</code>  å®ç° AOP æ“ä½œçš„ï¼š</p> <ul><li><p><code>AspectJ</code>  ä¸æ˜¯ Spring çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯<strong>ä¸€ä¸ªç‹¬ç«‹çš„ AOP æ¡†æ¶</strong>ã€‚</p></li> <li><p>ä¸€èˆ¬ä¼šæŠŠ  <code>AspectJ</code>  å’Œ Spring <strong>æ­é…ä½¿ç”¨ï¼Œè¿›è¡Œ AOP æ“ä½œ</strong>ï¼Œå› ä¸ºè¿™æ ·æ›´åŠ æ–¹ä¾¿ã€‚</p></li></ul> <ul><li>åŸºäº AspectJ è¿›è¡Œ AOP æ“ä½œçš„ä¸¤ç§æ–¹å¼ï¼š
<ul><li>åŸºäº XML é…ç½®æ–‡ä»¶æ–¹å¼å®ç°ã€‚</li> <li>åŸºäºæ³¨è§£æ–¹å¼å®ç°ã€‚ï¼ˆæ¨èä½¿ç”¨ï¼‰</li></ul></li></ul> <h3 id="å¼•å…¥-aop-ç›¸å…³ä¾èµ–"><a href="#å¼•å…¥-aop-ç›¸å…³ä¾èµ–" class="header-anchor">#</a> å¼•å…¥ AOP ç›¸å…³ä¾èµ–</h3> <p><img src="https://cdn.jsdelivr.net/gh/simon1uo/image-flow@master/image/ebAArl.png" alt="image-20220328224550819"></p> <ul><li>ï¼ˆåœ¨é¡¹ç›®å·¥ç¨‹ä¸­ï¼‰åœ¨  <code>maven</code>  ä¸­å¼•å…¥ä¾èµ–ï¼š</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjrt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="header-anchor">#</a> åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h3> <ul><li>ä½œç”¨ï¼š<strong>çŸ¥é“å¯¹å“ªä¸ªç±»çš„æ–¹å¼è¿›è¡Œå¢å¼º</strong>ã€‚</li> <li>è¯­æ³•ç»“æ„ï¼š <code>execution([æƒé™ä¿®é¥°ç¬¦][è¿”å›ç±»å‹][ç±»å…¨è·¯å¾„][æ–¹æ³•å]([å‚æ•°åˆ—è¡¨]))</code></li></ul> <p>ğŸŒ° ä¾‹å­ï¼š</p> <ul><li>1ï¸âƒ£ å¯¹  <code>com.simon.dao.BookDAO</code>  ä¸­çš„  <code>add()</code>  æ–¹æ³•è¿›è¡Œå¢å¼ºï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> com<span class="token punctuation">.</span>simon<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>bookDAO<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// æ­¤å¤„*æ ‡è¯†æ‰€æœ‰æƒé™ä¿®é¥°ç¬¦</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>2ï¸âƒ£ å¯¹  <code>com.simon.dao.BookDAO</code>  ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼ºï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> com<span class="token punctuation">.</span>simon<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>bookDAO<span class="token punctuation">.</span>* <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// æ­¤å¤„ç¬¬äºŒ*æ ‡è¯†æ‰€æœ‰æ–¹æ³•</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>3ï¸âƒ£ å¯¹  <code>com.simon.dao</code>  åŒ…ä¸­çš„æ‰€æœ‰çš„ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå¢å¼ºï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> com<span class="token punctuation">.</span>simon<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>*<span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="åŸºäºæ³¨è§£çš„-aop-æ“ä½œ"><a href="#åŸºäºæ³¨è§£çš„-aop-æ“ä½œ" class="header-anchor">#</a> åŸºäºæ³¨è§£çš„ AOP æ“ä½œ</h2> <h3 id="aspectj-æ³¨è§£å®ç°"><a href="#aspectj-æ³¨è§£å®ç°" class="header-anchor">#</a> AspectJ æ³¨è§£å®ç°</h3> <ul><li>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­ï¼Œå¼€å¯æ³¨è§£æ‰«æï¼š
<ul><li>å¼•å…¥  <code>context</code>  å’Œ  <code>aop</code>  åç§°ç©ºé—´ã€‚</li> <li>é…ç½®ç»„ä»¶æ‰«æåŸºç¡€åŒ…ï¼ˆ<strong>å¼€å¯ç»„ä»¶æ³¨è§£æ‰«æ</strong>ï¼‰ã€‚</li> <li>å¼€å¯ AspectJ ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚</li></ul></li></ul> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>


    <span class="token comment">&lt;!--å¼€å¯æ³¨è§£æ‰«æ--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.simon.aopanno<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--å¼€å¯Aspectç”Ÿæˆä»£ç†å¯¹è±¡--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></details> <ul><li><strong>åˆ›å»ºè¢«å¢å¼ºå¯¹è±¡å’Œå¢å¼ºå¯¹è±¡</strong>ï¼š</li></ul> <p>ğŸŒ° ä½¿ç”¨æ³¨è§£åˆ›å»º  <code>User</code>  å’Œ  <code>User</code>  å¯¹è±¡ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;add... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span> <span class="token comment">// ç”Ÿæˆä»£ç†å¯¹è±¡</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserProxy</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‰ç½®é€šçŸ¥</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>æ·»åŠ è¯¦ç»†çš„å¢å¼ºé€šçŸ¥ã€å¢å¼ºç±»æ³¨è§£å’Œåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼š</li></ul> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span> <span class="token comment">// ç”Ÿæˆä»£ç†å¯¹è±¡</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserProxy</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‰ç½®é€šçŸ¥</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// åç½®é€šçŸ¥</span>
    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterReturning ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æœ€ç»ˆé€šçŸ¥</span>
    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¼‚å¸¸é€šçŸ¥</span>
    <span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterThrowing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç¯ç»•é€šçŸ¥</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> proceedingJoinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before around&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proceedingJoinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¢«å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after around&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <ul><li><code>afterReturning</code>  ä¹Ÿå«è¿”å›å€¼åé€šçŸ¥ã€‚</li> <li><code>after</code>  æœ€ç»ˆé€šçŸ¥ä¸ç®¡æœ‰æ— å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œï¼Œè€Œ  <code>afterReturning</code>  ï¼ˆåç½®é€šçŸ¥æˆ–è€…è¿”å›é€šçŸ¥ï¼‰å½“æœ‰å¼‚å¸¸å°±ä¸ä¼šæ‰§è¡Œã€‚</li></ul></div></details> <ul><li>ç¼–å†™æµ‹è¯•ç±»å’Œæµ‹è¯•æ–¹æ³•ï¼š</li></ul> <p>:::: tabs cache-lifetime=&quot;5&quot; :options=&quot;{ useUrlFragment: false }&quot;</p> <p>::: tab testCode</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAop</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">TestAop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;UserProxyBean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>:::</p> <p>::: tab result</p> <ul><li>è¿è¡Œæµ‹è¯•ç»“æœï¼š</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>before around
before..
add... 
afterReturning ...
after...
after around

Process finished with exit code 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>:::</p> <p>::::</p> <ul><li>ä¸ºäº†æµ‹è¯•  <code>@AfterThrowing</code>  ä½œä»¥ä¸‹ä¿®æ”¹ï¼š</li></ul> <p>:::: tabs cache-lifetime=&quot;5&quot; :options=&quot;{ useUrlFragment: false }&quot;</p> <p>::: tab testCode</p> <ul><li>åœ¨  <code>User</code>  ç±»ä¸­ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// æ¨¡æ‹Ÿå¼‚å¸¸æƒ…å†µ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;add... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>:::</p> <p>::: tab result</p> <ul><li>è¿è¡Œæµ‹è¯•ç»“æœï¼š</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>before around
before..
afterThrowing
after...

java.lang.ArithmeticException: / by zero

	at com.simon.aopanno.User.add(User.java:8)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¯¹æ¯”æ­£å¸¸çš„æƒ…å†µï¼Œå¼‚å¸¸æƒ…å†µä¸‹ï¼Œ <code>@AfterReturning</code>  åç½®é€šçŸ¥å’Œ  <code>@Around</code>  ç¯ç»•åç½®é€šçŸ¥çš„éƒ¨åˆ†å¤„ç†æ²¡æœ‰è¿›è¡Œï¼Œè€Œ  <code>@After</code>  æœ€ç»ˆé€šçŸ¥æ— è®ºå¦‚ä½•éƒ½ä¼šè¿›è¡Œã€‚</p> <p>:::</p> <p>::::</p> <h3 id="æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="header-anchor">#</a> æŠ½å–å…¬å…±åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h3> <p>ï¼ˆé‡ç”¨ç›¸åŒçš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼‰</p> <p>åŒæ—¶æˆ‘ä»¬å‘ç°åˆ‡å…¥ç‚¹è¡¨è¾¾å¼éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œå¯ä»¥å¯¹è¿™äº›ç›¸åŒçš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¿›è¡ŒæŠ½å–ï¼Œä»¥è¾¾åˆ°é‡ç”¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å®šä¹‰çš„ç›®çš„ã€‚</p> <ul><li>å¯ä»¥å°†ç›¸åŒçš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å®šä¹‰ä¸ºæˆå‘˜å˜é‡ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> execution <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>åœ¨å¢å¼ºä»£ç†å¯¹è±¡ç±»ä¸­ï¼Œä½¿ç”¨ AspectJ æä¾›çš„  <code>@Pointcut</code>  æ³¨è§£ã€‚</strong></li></ul> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pointDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ğŸŒ° å®Œæ•´ä¾‹å­ï¼ˆå»¶ç»­ä¸Šè¿°æ³¨è§£å®ç°çš„ä¾‹å­ï¼‰ï¼š</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <ul><li>å®Œæ•´çš„  <code>UserProxy</code>  ç±»ä½¿ç”¨å…¬å…±çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span> <span class="token comment">// ç”Ÿæˆä»£ç†å¯¹è±¡</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserProxy</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;execution(* com.simon.aopanno.User.add())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pointDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// å‰ç½®é€šçŸ¥</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pointDemo()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// åç½®é€šçŸ¥</span>
    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pointDemo()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterReturning ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æœ€ç»ˆé€šçŸ¥</span>
    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pointDemo()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¼‚å¸¸é€šçŸ¥</span>
    <span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pointDemo()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterThrowing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç¯ç»•é€šçŸ¥</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pointDemo()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> proceedingJoinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before around&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proceedingJoinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¢«å¢å¼ºçš„æ–¹æ³•æ‰§è¡Œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after around&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div></details> <h3 id="è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§"><a href="#è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§" class="header-anchor">#</a> è®¾ç½®å¢å¼ºç±»ä¼˜å…ˆçº§</h3> <p>å¦‚æœæœ‰å¤šä¸ªå¢å¼ºç±»å¯¹ç±»ä¸­çš„åŒä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¢å¼ºï¼Œå¯ä»¥è®¾ç½®<strong>å¢å¼ºç±»çš„ä¼˜å…ˆçº§</strong>ï¼Œæ¥å†³å®šå“ªä¸€ä¸ªå¢å¼ºç±»ä¼˜å…ˆæ‰§è¡Œï¼Œå“ªä¸€ä¸ªå¢å¼ºç±»åæ‰§è¡Œã€‚</p> <ul><li><p>ä½¿ç”¨ AspectJ æä¾›çš„  <code>@Order</code>  æ³¨è§£è®¾ç½®ä¼˜å…ˆçº§ï¼Œå…¶ä¸­æŒ‡å®šä¼˜å…ˆçº§çš„æ•°å­—ï¼Œæ ¼å¼ä¸º  <code>@Order(æ•°å­—ç±»å‹å€¼)</code> ï¼Œæ•°å­—ç±»å‹å€¼éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p> <ul><li><p><strong>æ•°å­—ç±»å‹å€¼æœ€å°ï¼Œä¼˜å…ˆçº§è¶Šé«˜</strong>ã€‚</p></li> <li><p><strong>æ•°å­—ç±»å‹å€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šä½ã€‚</strong></p></li></ul></li></ul> <p>ğŸŒ° å¢å¼ºç±»ä¼˜å…ˆçº§ä¾‹å­ï¼š</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <ul><li>åˆ›å»ºæ–°çš„ä¸€ä¸ªå¢å¼ºç±»  <code>PersonProxy</code>  ç±»ï¼Œä½¿ç”¨  <code>@Order</code>  ä¼˜å…ˆçº§æ³¨è§£è®¾ç½®ä¸¤ä¸ªç±»çš„ä¼˜å…ˆçº§ï¼Œå¦‚ä¸‹ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Order</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonProxy</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Order</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserProxy</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Person before around
Person before..
before around
before..
add... 
afterReturning ...
after...
after around
Person afterReturning ...
Person after...
Person after around

Process finished with exit code 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">æç¤º</p> <p>å¯ä»¥çœ‹å‡ºï¼š</p> <ul><li><code>PersonProxy</code>  ä¸­çš„å‰ç½®é€šçŸ¥å…ˆäº  <code>UserProxy</code>  ä¸­çš„å‰ç½®é€šçŸ¥æ‰§è¡Œ</li> <li><strong><code>PersonProxy</code>  ä¸­çš„åç½®é€šçŸ¥æ™šäº  <code>UserProxy</code>  ä¸­çš„åç½®é€šçŸ¥æ‰§è¡Œ</strong></li></ul></div></details> <h3 id="å®Œå…¨æ³¨è§£å¼€å‘"><a href="#å®Œå…¨æ³¨è§£å¼€å‘" class="header-anchor">#</a> å®Œå…¨æ³¨è§£å¼€å‘</h3> <p>è¦ç”¨å®Œå…¨æ³¨è§£çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£é…ç½®ç±»æ›¿ä»£ Spring çš„é…ç½®æ–‡ä»¶ï¼š<br>
ğŸŒ° ä¾‹å­ï¼š</p> <ul><li>åˆ›å»º  <code>AopConfig</code>  ç±»ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;com.simon.aopanno&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableAspectJAutoProxy</span><span class="token punctuation">(</span>proxyTargetClass <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AopConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>ä½¿ç”¨æ³¨è§£ä¸é…ç½®æ–‡ä»¶ä¸­çš„ç›¸å…³å¯¹è±¡ï¼š</p> <ul><li><code>@ComponentScan</code>  æ³¨è§£è¿›è¡Œäº†ç»„ä»¶æ‰«æï¼Œå¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„  <code>&lt;context:component-scan&gt;</code>  ã€‚</li> <li><code>@EnableAspectJAutoProxy</code>  å¼€å¯ AspectJ ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œå¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„  <code>&lt;aop:aspectj-autoproxy&gt;</code> ã€‚</li></ul></blockquote> <h2 id="åŸºäºé…ç½®æ–‡ä»¶çš„-aop-æ“ä½œ"><a href="#åŸºäºé…ç½®æ–‡ä»¶çš„-aop-æ“ä½œ" class="header-anchor">#</a> åŸºäºé…ç½®æ–‡ä»¶çš„ AOP æ“ä½œ</h2> <p>ï¼ˆäº†è§£å³å¯ï¼Œå®é™…è¿ç”¨ä¸­ä¸€èˆ¬ä½¿ç”¨æ³¨è§£æ–¹å¼ï¼‰</p> <p>ğŸŒ° ä¾‹å­ï¼š</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <ul><li>åˆ›å»ºè¢«å¢å¼ºçš„å¯¹è±¡ï¼ˆ <code>Book</code>  ç±»ï¼‰å’Œå¢å¼ºå¯¹è±¡ï¼ˆ <code>BookProxy</code>  ç±»ï¼‰ï¼š</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Book.buy() ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookProxy</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterReturning ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterThrowing ... &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;around before ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;around after ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¼•å…¥  <code>aop</code>  å‘½åç©ºé—´ï¼š</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/aop<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªç±»çš„å¯¹è±¡ï¼š</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--åˆ›å»ºä¸¤ä¸ªç±»çš„å¯¹è±¡--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.simon.aopxml.Book<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookProxy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.simon.aopxml.BookProxy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­é…ç½®  <code>aop</code>  å¢å¼ºï¼š</li></ul> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--é…ç½®aopå¢å¼º--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®åˆ‡å…¥ç‚¹--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* com.simon.aopxml.Book.buy(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--é…ç½®åˆ‡é¢--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspect</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookProxy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--é…ç½®å¢å¼ºä½œç”¨åœ¨å“ªä¸ªæ–¹æ³•ä¸Š--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>before</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--åç½®é€šçŸ¥--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after-returning</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>afterReturning<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--æœ€ç»ˆé€šçŸ¥--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>after<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--å¼‚å¸¸é€šçŸ¥--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>after-throwing</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>afterThrowing<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--ç¯ç»•é€šçŸ¥--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>around</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>around<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>p<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspect</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></details></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/simon1uo/notebook/edit/master/docs/300. ğŸ§° å…¶ä»–å­¦ä¹ ç¬”è®°/10. ğŸ§‹ Java SSM ç›¸å…³/10. ğŸƒ Spring/03. ğŸŒ¿ Spring AOP .md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ğŸ“¢ ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/06/30, 22:33:11</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/notebook/pages/a8acd2/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ğŸŒµ Spring IoC</div></a> <a href="/notebook/pages/328e92/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ğŸ‹ Spring æ•°æ®åº“ç¼–ç¨‹</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
                â†
                <a href="/notebook/pages/a8acd2/" class="prev">ğŸŒµ Spring IoC</a></span> <span class="next"><a href="/notebook/pages/328e92/">ğŸ‹ Spring æ•°æ®åº“ç¼–ç¨‹</a>â†’
            </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
        Copyright Â© 2020-2022
        |
        <span></span>

    theme on based
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="theme">Vdoing</a> powered By Vuepress
</div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
                    è·Ÿéšç³»ç»Ÿ
                </li><li class="iconfont icon-rijianmoshi">
                    æµ…è‰²æ¨¡å¼
                </li><li class="iconfont icon-yejianmoshi">
                    æ·±è‰²æ¨¡å¼
                </li><li class="iconfont icon-yuedu">
                    é˜…è¯»æ¨¡å¼
                </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
        <script src="/notebook/assets/js/app.6a815fb9.js" defer></script><script src="/notebook/assets/js/2.ddc7fe92.js" defer></script><script src="/notebook/assets/js/3.cf638cd2.js" defer></script><script src="/notebook/assets/js/250.9ae985bc.js" defer></script>
    </body>
</html>
