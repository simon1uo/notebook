<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>ğŸª JavaScript Proxy å’Œ Reflect | notebook</title>
        <meta name="generator" content="VuePress 1.9.7" />
        <link rel="icon" href="/notebook/favicon.ico">
    <link rel="stylesheet" href="/notebook//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css">
    <script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script> <meta name="description" content="a frontend notebook by Simon">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="ä¸ªäººå­¦ä¹ ç¬”è®°,å‰ç«¯å­¦ä¹ ç¬”è®°,å‰ç«¯å­¦ä¹ ,å‰ç«¯å­¦ä¹ èµ„æº,å‰ç«¯å­¦ä¹ è·¯çº¿,HTML,CSS,JavaScript,Vue,React">
    <meta name="theme-color" content="#204A7A">  <link rel="preload" href="/notebook/assets/css/0.styles.29a47cad.css" as="style"><link rel="preload" href="/notebook/assets/js/app.c1e92184.js" as="script"><link rel="preload" href="/notebook/assets/js/2.f4898154.js" as="script"><link rel="preload" href="/notebook/assets/js/3.c3838318.js" as="script"><link rel="preload" href="/notebook/assets/js/138.f4f41aba.js" as="script"> <link rel="stylesheet" href="/notebook/assets/css/0.styles.29a47cad.css">
    </head>
    <body class="theme-mode-light">
        <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><img src="/notebook/assets/img/logo.png" alt="notebook" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">ğŸŒ é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â˜•ï¸ å‰ç«¯ç¬”è®°" class="dropdown-title"><a href="/notebook/front-end/" class="link-title">â˜•ï¸ å‰ç«¯ç¬”è®°</a> <span class="title" style="display:none;">â˜•ï¸ å‰ç«¯ç¬”è®°</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/front-end/roadmap/" class="nav-link">ğŸ—º å‰ç«¯å­¦ä¹ è·¯çº¿</a></li><li class="dropdown-item"><h4>åˆ†ç±»</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/front-end/beginning/" class="nav-link">ğŸš¶ å‰ç«¯å…¥é—¨åŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/stable/" class="nav-link">ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/core-frame/" class="nav-link">ğŸƒ å‰ç«¯æ ¸å¿ƒæ¡†æ¶</a></li><li class="dropdown-subitem"><a href="/notebook/pages/15a7cb/front-end/interview/" class="nav-link">ğŸª å‰ç«¯é¢è¯•é¢˜æ”¶é›†</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸš ç´¢å¼•" class="dropdown-title"><a href="/notebook/archives/" class="link-title">ğŸš ç´¢å¼•</a> <span class="title" style="display:none;">ğŸš ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/archives/" class="nav-link">ğŸ—„å½’æ¡£</a></li><li class="dropdown-item"><!----> <a href="/notebook/tags/" class="nav-link">ğŸ”–æ ‡ç­¾</a></li></ul></div></div><div class="nav-item"><a href="/notebook/about/" class="nav-link">ğŸ”– å…³äº</a></div> <a href="https://github.com/simon1uo/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
            ğŸ GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">ğŸŒ é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â˜•ï¸ å‰ç«¯ç¬”è®°" class="dropdown-title"><a href="/notebook/front-end/" class="link-title">â˜•ï¸ å‰ç«¯ç¬”è®°</a> <span class="title" style="display:none;">â˜•ï¸ å‰ç«¯ç¬”è®°</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/front-end/roadmap/" class="nav-link">ğŸ—º å‰ç«¯å­¦ä¹ è·¯çº¿</a></li><li class="dropdown-item"><h4>åˆ†ç±»</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/front-end/beginning/" class="nav-link">ğŸš¶ å‰ç«¯å…¥é—¨åŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/stable/" class="nav-link">ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/core-frame/" class="nav-link">ğŸƒ å‰ç«¯æ ¸å¿ƒæ¡†æ¶</a></li><li class="dropdown-subitem"><a href="/notebook/pages/15a7cb/front-end/interview/" class="nav-link">ğŸª å‰ç«¯é¢è¯•é¢˜æ”¶é›†</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸš ç´¢å¼•" class="dropdown-title"><a href="/notebook/archives/" class="link-title">ğŸš ç´¢å¼•</a> <span class="title" style="display:none;">ğŸš ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/archives/" class="nav-link">ğŸ—„å½’æ¡£</a></li><li class="dropdown-item"><!----> <a href="/notebook/tags/" class="nav-link">ğŸ”–æ ‡ç­¾</a></li></ul></div></div><div class="nav-item"><a href="/notebook/about/" class="nav-link">ğŸ”– å…³äº</a></div> <a href="https://github.com/simon1uo/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
            ğŸ GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ¯ ES6 åŸºæœ¬è¯­æ³•</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notebook/pages/4e50dd/" class="sidebar-link">ğŸŒ± node.js åŸºæœ¬ä½¿ç”¨</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ“’ JavaScript æ·±å…¥å¯¹è±¡</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ“• JavaScript æ·±å…¥æ•°æ®ç±»å‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ“— JavaScript æ·±å…¥å‡½æ•°</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ“˜ JavaScript åŸå‹ä¸ç»§æ‰¿</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ“™ JavaScript ç±»</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ““ JavaScript DOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸ¯ JavaScript AJAX ç½‘ç»œè¯·æ±‚</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸš‡ JavaScript Promise</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span> ğŸ“” JavaScript å…¶ä»–å†…å®¹</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/pages/921863/" class="sidebar-link">ğŸ§¨ JavaScript é˜²æŠ–ä¸èŠ‚æµ</a></li><li><a href="/notebook/pages/ce4056/" class="sidebar-link">ğŸ—‘ JavaScript å…³äºä½¿ç”¨ var å£°æ˜å˜é‡</a></li><li><a href="/notebook/pages/6edabb/" class="sidebar-link">ğŸª¤JavaScript çš„æ¨¡å—ç®¡ç†</a></li><li><a href="/notebook/pages/7c3484/" class="sidebar-link">ğŸ”¦ JavaScript çš„é”™è¯¯å¤„ç†</a></li><li><a href="/notebook/pages/15a7cb/" aria-current="page" class="active sidebar-link">ğŸª JavaScript Proxy å’Œ Reflect</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/notebook/pages/15a7cb/#proxy" class="sidebar-link">Proxy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#è¯»å–å’Œå†™å…¥æ“ä½œ" class="sidebar-link">è¯»å–å’Œå†™å…¥æ“ä½œ</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#è¿­ä»£æ“ä½œ" class="sidebar-link">è¿­ä»£æ“ä½œ</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#å¯¹å†…éƒ¨å—ä¿æŠ¤å±æ€§æ“ä½œ" class="sidebar-link">å¯¹å†…éƒ¨å—ä¿æŠ¤å±æ€§æ“ä½œ</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#ä½¿ç”¨-has-æ‹¦æˆª-in" class="sidebar-link">ä½¿ç”¨ has æ‹¦æˆª in</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#åŒ…è£…å‡½æ•°" class="sidebar-link">åŒ…è£…å‡½æ•°</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/15a7cb/#reflect" class="sidebar-link">Reflect</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#ä»£ç†-getter-è®¿é—®å™¨" class="sidebar-link">ä»£ç† getter è®¿é—®å™¨</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/15a7cb/#proxy-çš„å±€é™" class="sidebar-link">Proxy çš„å±€é™</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#å†…å»ºå¯¹è±¡çš„å†…éƒ¨æ’æ§½" class="sidebar-link">å†…å»ºå¯¹è±¡çš„å†…éƒ¨æ’æ§½</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#ç§æœ‰å­—æ®µ" class="sidebar-link">ç§æœ‰å­—æ®µ</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#ä»£ç†å¯¹è±¡ä¹‹å" class="sidebar-link">ä»£ç†å¯¹è±¡ä¹‹åâ€¦</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/15a7cb/#å¯æ’¤é”€çš„ä»£ç†" class="sidebar-link">å¯æ’¤é”€çš„ä»£ç†</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/15a7cb/#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/notebook/pages/40ee0e/" class="sidebar-link">ğŸ“¦ JavaScript æµè§ˆå™¨å­˜å‚¨</a></li><li><a href="/notebook/pages/f38565/" class="sidebar-link">ğŸ£ JavaScript æ­£åˆ™è¡¨è¾¾å¼</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸƒ JavaScript è¿›é˜¶é«˜çº§</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> Ê¦ TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ğŸšŸ axios</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-16f6d530><div class="articleInfo" data-v-16f6d530><ul class="breadcrumbs" data-v-16f6d530><li data-v-16f6d530><a href="/notebook/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-16f6d530></a></li> <li data-v-16f6d530><a href="/notebook/front-end/stable/# ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€" data-v-16f6d530> ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€</a></li><li data-v-16f6d530><a href="/notebook/front-end/stable/# ğŸ“” JavaScript å…¶ä»–å†…å®¹" data-v-16f6d530> ğŸ“” JavaScript å…¶ä»–å†…å®¹</a></li></ul> <div class="info" data-v-16f6d530><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-16f6d530><a href="https://github.com/simon1uo" target="_blank" title="ä½œè€…" class="beLink" data-v-16f6d530>Simon Luo</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-16f6d530><a href="javascript:;" data-v-16f6d530>2022-05-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><!---->ğŸª JavaScript Proxy å’Œ Reflect<!----></h1> <!----> <div class="theme-vdoing-content content__default"><blockquote><p>Vue çš„æ–°ç‰ˆä¸­ å“åº”å¼ æ•°æ®å®ç°åŸç†ã€‚</p> <p>ECMA å…³äº Proxy çš„è§„èŒƒï¼š <a href="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots" target="_blank" rel="noopener noreferrer">ECMAScriptÂ® 2023 Language Specification (tc39.es)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>MDN å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener noreferrer">Proxy - JavaScript | MDN (mozilla.org)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="proxy"><a href="#proxy" class="header-anchor">#</a> <code>Proxy</code></h2> <p>ä½¿ç”¨  <code>Proxy</code>  å¯¹è±¡å¯ä»¥ <strong>åŒ…è£…å¦ä¸€ä¸ªå¯¹è±¡</strong> å¹¶ä¸” <strong>æ‹¦æˆªè¯»å†™æ“ä½œ</strong>ï¼Œç„¶ååœ¨ <strong>è‡ªè¡Œå¤„ç†</strong> è¯»å†™æ“ä½œã€æˆ–è€…å…è®¸è¯¥å¯¹è±¡å¤„ç†è¯»å†™æ“ä½œã€‚</p> <p>ä½¿ç”¨è¯­æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>target</code> ï¼š è¦åŒ…è£…çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼ˆåŒ…æ‹¬å‡½æ•°ï¼‰ã€‚</li> <li><code>handler</code> ï¼šä»£ç†çš„é…ç½®ã€‚ï¼ˆå¸¦æœ‰ æ‹¦æˆªæ“ä½œçš„æ–¹æ³• çš„å¯¹è±¡ï¼‰ï¼Œ <code>get</code>  æ‹¦æˆªè¯»æ“ä½œï¼Œ <code>set</code>  æ‹¦æˆªå†™æ“ä½œã€‚</li></ul> <p>å¯¹  <code>proxy</code>  è¿›è¡Œæ“ä½œï¼Œå¦‚æœåœ¨  <code>handler</code>  ä¸­å­˜åœ¨ç›¸åº”çš„ æ‹¦æˆªæ–¹æ³•ï¼Œåˆ™è¿è¡Œè¯¥æ‹¦æˆªæ–¹æ³•ï¼Œå¹¶ä¸”  <code>Proxy</code>  æœ‰æœºä¼šå¯¹å®ƒè¿›è¡Œå¤„ç†ã€‚å¦‚æœæ²¡æœ‰åˆ™å¯¹  <code>target</code>  ç›´æ¥å¤„ç†ã€‚</p> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

proxy<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>test<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>test<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>ä¸Šé¢çš„ä¾‹å­ï¼Œ  <code>handler</code>  ä¸ºç©ºï¼Œåˆ™å¯¹  <code>target</code>  ç›´æ¥è¿›è¡Œè¯»å†™æ“ä½œï¼Œå¯¹äº  <code>proxy</code>  çš„æ“ä½œç›´æ¥è½¬å‘ç»™äº†  <code>target</code> ã€‚</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">æç¤º</p> <p><code>Proxy</code>  æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œæ²¡æœ‰è‡ªå·±çš„å±æ€§ï¼Œå¦‚æœ <code>handler</code>  ä¸ºç©ºï¼Œåˆ™é€æ˜åœ°å°†æ“ä½œè½¬å‘ç»™  <code>target</code> ã€‚</p></div> <p>èƒ½ç»™  <code>Proxy</code>  æ·»åŠ çš„  <code>handler</code>  æ•æ‰å™¨ï¼š</p> <blockquote><p><code>handler</code>  èƒ½æ‹¦æˆª JavaScript ä¸­çš„å†…éƒ¨å·¥ä½œæ–¹æ³•ï¼Œä¾‹å¦‚  <code>[[get]]</code>  è¯»å–å±æ€§çš„å†…éƒ¨æ–¹æ³•ã€ <code>[[set]]</code>  å†™å…¥å±æ€§çš„å†…éƒ¨æ–¹æ³•ã€‚å› ä¸ºè¿™äº›æ–¹æ³•åç§°ä»…åœ¨è§„èŒƒä¸­ä½¿ç”¨ï¼Œä¸èƒ½é€šè¿‡ç›´æ¥è°ƒç”¨ä½¿ç”¨ã€‚</p> <p>æ‰€ä»¥è¦é€šè¿‡  <code>Proxy</code>  çš„  <code>handler</code>  æ•æ‰å™¨æ‹¦æˆªè¿™äº›æ–¹æ³•çš„è°ƒç”¨ã€‚</p></blockquote> <p>å¸¸ç”¨ï¼š</p> <table><thead><tr><th style="text-align:left;">å†…éƒ¨æ–¹æ³•</th> <th style="text-align:left;">Handler æ–¹æ³•</th> <th style="text-align:left;">ä½•æ—¶è§¦å‘</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>[[Get]]</code></td> <td style="text-align:left;"><code>get</code></td> <td style="text-align:left;">è¯»å–å±æ€§</td></tr> <tr><td style="text-align:left;"><code>[[Set]]</code></td> <td style="text-align:left;"><code>set</code></td> <td style="text-align:left;">å†™å…¥å±æ€§</td></tr> <tr><td style="text-align:left;"><code>[[HasProperty]]</code></td> <td style="text-align:left;"><code>has</code></td> <td style="text-align:left;"><code>in</code>  æ“ä½œç¬¦</td></tr> <tr><td style="text-align:left;"><code>[[Delete]]</code></td> <td style="text-align:left;"><code>deleteProperty</code></td> <td style="text-align:left;"><code>delete</code>  æ“ä½œç¬¦</td></tr> <tr><td style="text-align:left;"><code>[[Call]]</code></td> <td style="text-align:left;"><code>apply</code></td> <td style="text-align:left;">å‡½æ•°è°ƒç”¨</td></tr> <tr><td style="text-align:left;"><code>[[Construct]]</code></td> <td style="text-align:left;"><code>construct</code></td> <td style="text-align:left;"><code>new</code>  æ“ä½œç¬¦</td></tr></tbody></table> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <table><thead><tr><th><code>[[GetPrototypeOf]]</code></th> <th><code>getPrototypeOf</code></th> <th><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" target="_blank" rel="noopener noreferrer">Object.getPrototypeOf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></th></tr></thead> <tbody><tr><td><code>[[SetPrototypeOf]]</code></td> <td><code>setPrototypeOf</code></td> <td><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" target="_blank" rel="noopener noreferrer">Object.setPrototypeOf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[IsExtensible]]</code></td> <td><code>isExtensible</code></td> <td><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" rel="noopener noreferrer">Object.isExtensible<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[PreventExtensions]]</code></td> <td><code>preventExtensions</code></td> <td><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noopener noreferrer">Object.preventExtensions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[DefineOwnProperty]]</code></td> <td><code>defineProperty</code></td> <td><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreferrer">Object.defineProperty<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties" target="_blank" rel="noopener noreferrer">Object.defineProperties<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td><code>[[GetOwnProperty]]</code></td> <td><code>getOwnPropertyDescriptor</code></td> <td><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyDescriptor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,  <code>for..in</code> ,  <code>Object.keys/values/entries</code></td></tr> <tr><td><code>[[OwnPropertyKeys]]</code></td> <td><code>ownKeys</code></td> <td><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyNames<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols" target="_blank" rel="noopener noreferrer">Object.getOwnPropertySymbols<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,  <code>for..in</code> ,  <code>Object.keys/values/entries</code> s</td></tr></tbody></table></details> <blockquote><p>JavaScript å°†å¼ºåˆ¶æ‰§è¡Œ <strong>å†…éƒ¨æ–¹æ³•å’Œæ•æ‰å™¨å¿…é¡»éµå¾ªçš„æ¡ä»¶</strong> ï¼ˆ<strong>ä¸å˜é‡</strong>ï¼‰ã€‚ä¾‹å¦‚ï¼š</p> <ul><li><p><code>[[Set]]</code>  å¦‚æœå€¼å·²æˆåŠŸå†™å…¥ï¼Œåˆ™å¿…é¡»è¿”å›  <code>true</code> ï¼Œå¦åˆ™è¿”å›  <code>false</code> ã€‚</p></li> <li><p><code>[[Delete]]</code>  å¦‚æœå·²æˆåŠŸåˆ é™¤è¯¥å€¼ï¼Œåˆ™å¿…é¡»è¿”å›  <code>true</code> ï¼Œå¦åˆ™è¿”å›  <code>false</code> ã€‚</p></li> <li><p><code>[[GetPrototypeOf]]</code> ï¼Œå¿…é¡»è¿”å›ä¸åº”ç”¨äºè¢«ä»£ç†å¯¹è±¡çš„  <code>[[GetPrototypeOf]]</code>  ç›¸åŒçš„å€¼ã€‚è¯»å–ä»£ç†å¯¹è±¡çš„åŸå‹å¿…é¡»å§‹ç»ˆè¿”å›è¢«ä»£ç†å¯¹è±¡çš„åŸå‹ã€‚</p></li></ul> <p>ä¸å˜é‡ç¡®ä¿äº†è¯­è¨€åŠŸèƒ½çš„æ­£ç¡®å’Œä¸€è‡´çš„è¡Œä¸ºã€‚</p></blockquote> <h3 id="è¯»å–å’Œå†™å…¥æ“ä½œ"><a href="#è¯»å–å’Œå†™å…¥æ“ä½œ" class="header-anchor">#</a> è¯»å–å’Œå†™å…¥æ“ä½œ</h3> <p>ä½¿ç”¨æ•æ‰å™¨æ‹¦æˆªè¯»å–æ“ä½œï¼Œ <code>handler</code>  åº”è¯¥æœ‰  <code>get(target, property, receiver)</code>  æ–¹æ³•ï¼Œåœ¨è¯»å–å±æ€§æ—¶è§¦å‘è¯¥æ–¹æ³•ã€‚</p> <ul><li><code>target</code> ï¼šç›®æ ‡å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¢«ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™  <code>new Proxy</code> ã€‚</li> <li><code>property</code> ï¼šç›®æ ‡å±æ€§åã€‚</li> <li><code>receiver</code> ï¼šå¦‚æœç›®æ ‡å±æ€§æ˜¯ä¸€ä¸ª getter è®¿é—®å™¨å±æ€§ï¼Œåˆ™  <code>receiver</code>  å°±æ˜¯æœ¬æ¬¡è¯»å–å±æ€§æ‰€åœ¨çš„  <code>this</code>  å¯¹è±¡ã€‚ä¸€èˆ¬æ˜¯  <code>proxy</code>  å¯¹è±¡çš„æœ¬èº«ã€‚</li></ul> <p>ğŸŒ° ä¾‹å­ / ä½¿ç”¨  <code>handler</code>  å®ç°å¯¹è±¡çš„é»˜è®¤å€¼ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>

numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>property <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span> <span class="token comment">// é»˜è®¤å€¼</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 0 å› ä¸ºæ²¡æœ‰è¿™ä¸ªæ•°ç»„é¡¹</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>åˆ©ç”¨ æ•æ‰å™¨ æ‹¦æˆªè¯»å–æ“ä½œï¼Œå¯ä»¥é¿å… è¦è¯»å–çš„ç›®æ ‡å±æ€§ä¸­æ²¡æœ‰ ç›®æ ‡å€¼ æ—¶ï¼Œèµ‹äºˆé»˜è®¤å€¼å¯ä»¥æ›¿ä»£  <code>undefined</code>  çš„æƒ…å†µã€‚</p></blockquote> <blockquote><p><code>numbers = new Proxy(numbers, ...)</code>  å®Œå…¨æ›¿ä»£äº†åŸæ¥çš„ç›®æ ‡å¯¹è±¡ã€‚ä»£ç†è¯¥ç›®æ ‡å¯¹è±¡åï¼Œä¸åº”è¯¥åœ¨å¼•ç”¨ç›®æ ‡å¯¹è±¡ã€‚</p></blockquote> <p>ä½¿ç”¨æ•æ‰å™¨æ‹¦æˆªå†™å…¥æ“ä½œï¼Œ <code>set</code>  æ•æ‰å™¨è¢«è§¦å‘  <code>set(target, property, value, receiver)</code> ï¼š</p> <ul><li><code>target</code>  ï¼šæ˜¯ç›®æ ‡å¯¹è±¡ã€‚ï¼ˆè¦å†™å…¥çš„å¯¹è±¡ï¼‰</li> <li><code>property</code> ï¼šç›®æ ‡å±æ€§åç§°ã€‚</li> <li><code>value</code> ï¼šç›®æ ‡å±æ€§çš„å€¼ã€‚ï¼ˆè¦å†™å…¥çš„å€¼ï¼‰</li> <li><code>receiver</code> ï¼šä¸  <code>get</code>  æ•æ‰å™¨ç±»ä¼¼ï¼Œä»…ä¸ setter è®¿é—®å™¨å±æ€§ç›¸å…³ã€‚</li></ul> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>typef value <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span> <span class="token comment">// TypeError</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>ä½¿ç”¨  <code>set</code>  æ‹¦æˆªäº† å†™å…¥çš„æ“ä½œï¼Œç®€å•å®ç°äº†è§„å®šï¼ˆé™åˆ¶ï¼‰äº†è¦å†™å…¥çš„å€¼çš„ç±»å‹ã€‚å› æ­¤ä¸éœ€è¦é‡å†™æ·»åŠ å…ƒç´ æ•°ç»„æ–¹æ³•å°±å¯ä»¥æ£€æŸ¥å†™å…¥æ•°ç»„çš„å€¼çš„ç±»å‹ã€‚</p> <p>å¹¶ä¸”  <code>set</code> <strong>å¿…é¡»è¦åœ¨å†™å…¥æˆåŠŸæ—¶è¿”å›  <code>true</code></strong>ã€‚å¦‚æœæ²¡æœ‰è¿”å›ï¼Œæˆ–è€…è¿”å›  <code>false</code> ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚</p></blockquote> <h3 id="è¿­ä»£æ“ä½œ"><a href="#è¿­ä»£æ“ä½œ" class="header-anchor">#</a> è¿­ä»£æ“ä½œ</h3> <p><code>Object.keys</code> ï¼Œ <code>for..in</code>  å¾ªç¯å’Œå¤§å¤šæ•°å…¶ä»–éå†å¯¹è±¡å±æ€§çš„æ–¹æ³•éƒ½ä½¿ç”¨å†…éƒ¨æ–¹æ³•  <code>[[OwnPropertyKeys]]</code> ï¼ˆç”±  <code>ownKeys</code>  æ•æ‰å™¨æ‹¦æˆª) æ¥è·å–å±æ€§åˆ—è¡¨ã€‚</p> <p>å¯ä»¥ä½¿ç”¨  <code>ownkeys</code>  æ‹¦æˆªéå†æ“ä½œã€‚</p> <p>ğŸŒ° ä¾‹å­ / ä½¿ç”¨  <code>ownkeys</code>  æ‹¦æˆªï¼Œéå†æ—¶è·³è¿‡å¸¦æœ‰  <code>_</code>  å¼€å¤´çš„å±æ€§ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_password</span><span class="token operator">:</span> <span class="token string">&quot;***&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>

<span class="token comment">// å¯¹ä¸‹åˆ—æ–¹æ³•åŒæ ·æœ‰æ•ˆ</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ä½†æ˜¯å½“ <strong>è¿”å›å¯¹è±¡ä¸­ä¸å­˜åœ¨çš„é”®</strong> æ—¶ï¼Œ <code>ownKeys</code>  å¤±æ•ˆï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &lt;empty&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>å› ä¸º  <code>Object.keys</code>  ä»…è¿”å›å¸¦æœ‰  <code>enumerable</code>  æ ‡å¿—çš„å±æ€§ã€‚è¯¥æ–¹æ³•ä¼šå¯¹æ¯ä¸ªå±æ€§è°ƒç”¨å†…éƒ¨æ–¹æ³•  <code>[[GetOwnProperty]]</code>  æ¥è·å– <strong>æè¿°ç¬¦</strong>ã€‚è€Œ <strong>æ–°è¿”å›çš„é”®</strong>ï¼Œ æ²¡æœ‰å±æ€§ã€æè¿°ç¬¦ä¸ºç©ºï¼Œè‡ªç„¶ä¼šè¢«å¿½ç•¥ã€‚</p> <p>å¦‚æœè¦ä½¿å¾— æ–°è¿”å›çš„é”® èƒ½å¸¦æœ‰  <code>enumerable</code>  æè¿°ç¬¦ï¼Œå¯ä»¥ <strong>æ‹¦æˆª  <code>[[GetOwnProperty]]</code></strong> çš„è°ƒç”¨ï¼Œè¿”å›å¸¦æœ‰  <code>enumberable: true</code>  çš„æè¿°ç¬¦ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸€æ—¦è·å–å±æ€§åˆ—è¡¨å°±ä¼šè°ƒç”¨</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// ä¸€æ—¦è·å–å±æ€§å°±ä¼šè°ƒç”¨</span>
  <span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token comment">// ... </span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></blockquote> <h3 id="å¯¹å†…éƒ¨å—ä¿æŠ¤å±æ€§æ“ä½œ"><a href="#å¯¹å†…éƒ¨å—ä¿æŠ¤å±æ€§æ“ä½œ" class="header-anchor">#</a> å¯¹å†…éƒ¨å—ä¿æŠ¤å±æ€§æ“ä½œ</h3> <p>å—ä¿æŠ¤çš„å±æ€§ä¸€èˆ¬ä½¿ç”¨ å¼€å¤´  <code>_</code>  æ ‡è¯†å±æ€§åç§°ã€‚ä½†æŠ€æœ¯ä¸Šï¼Œè¿˜æ˜¯èƒ½å¤Ÿä»å¤–éƒ¨è·å–ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡ä½¿ç”¨æ•æ‰å™¨ï¼Œä¾‹å¦‚æ‹¦æˆª  <code>[[get]]</code>  è¯»å–æ“ä½œå®ç°ä¿æŠ¤  <code>_</code>  å¼€å¤´çš„ <strong>å—ä¿æŠ¤å±æ€§</strong>ã€‚</p> <p>åªéœ€è¦å®ç°ï¼š</p> <ul><li><code>get</code>  è¯»å–å±æ€§æ—¶æŠ›å‡ºé”™è¯¯ï¼›</li> <li><code>set</code>  å†™å…¥å±æ€§æ—¶æŠ›å‡ºé”™è¯¯ï¼›</li> <li><code>deleteProperty</code>  åˆ é™¤å±æ€§æ—¶æŠ›å‡ºé”™è¯¯ï¼›</li> <li>éå†æ—¶ï¼ˆ <code>for...in</code> ã€ <code>Object.keys</code> ï¼‰ æ’é™¤æ‰è¿™äº›å±æ€§ã€‚</li></ul> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;simon&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_password</span><span class="token operator">:</span> <span class="token string">&quot;****&quot;</span>
<span class="token punctuation">}</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>property<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Accress Denied&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>property<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Accress Denied&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">=</span> value
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>property<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Accress Denied&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>_password<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
	user<span class="token punctuation">.</span>_password <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">delete</span> user<span class="token punctuation">.</span>_password
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token comment">// name</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>åœ¨è¦åˆ©ç”¨ä¸€ä¸ª è®¿é—®å™¨ è®¿é—®è¯¥ä¿æŠ¤å±æ€§æ—¶ï¼Œè¦åœ¨æ‹¦æˆªæ–¹æ³•  <code>get</code>  ä¸­æ£€æµ‹ <strong>å±æ€§çš„ç±»å‹</strong>ï¼š</p> <p>ğŸŒ° ä¾‹å­ï¼š</p> <p>å½“è¦è°ƒç”¨ è®¿é—®å™¨æ—¶ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... </span>
  <span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_password
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>æ£€æµ‹è¾“å…¥çš„å¯†ç æ˜¯å¦ä¸ ä¿æŠ¤çš„å±æ€§ å¯†ç å€¼ç›¸åŒã€‚</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> target<span class="token punctuation">[</span>property<span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>åœ¨æ‹¦æˆªä¹‹åï¼Œè°ƒç”¨è¯¥  <code>target[property]</code>  å¯èƒ½ä¼šä¸¢å¤±åŸæ¥çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæ‰€ä»¥è¦ä½¿ç”¨  <code>bind</code>  ç»‘å®šåŸæ¥çš„  <code>target</code> ï¼Œä½¿å¾—å®ƒå°†æ¥çš„è°ƒç”¨éƒ½ä¼šä½¿ç”¨  <code>target</code>  ä¸º  <code>this</code> ã€‚</p></blockquote> <blockquote><p>ä¸Šè¿°çš„ ä¿æŠ¤å†…éƒ¨å±æ€§ çš„ä»£ç†æ–¹å¼ï¼Œè™½ç„¶å¯è¡Œï¼Œä½†æ˜¯å­˜åœ¨æœªçŸ¥æ€§çš„é”™è¯¯ã€‚å¦‚æœä¸€ä¸ªæ–¹æ³•å¯èƒ½ä¼šé™æœªè¢«ä»£ç†çš„å¯¹è±¡ä¼ é€’åˆ°å…¶ä»–åœ°æ–¹ï¼Œç„¶å æ­¤æ—¶åŸå§‹å¯¹è±¡å’Œè¢«ä»£ç†å¯¹è±¡éƒ½å¯èƒ½ä¸¢å¤±ã€‚å¹¶ä¸”ä¸€ä¸ªå¯¹è±¡ä¹Ÿå¯èƒ½ä¼šè¢«ä»£ç†å¤šæ¬¡ï¼Œå¦‚æœå°†æœªè¢«åŒ…è£…çš„å¯¹è±¡ä¼ é€’ç»™æ–¹æ³•ï¼Œå°±ä¼šäº§ç”ŸæœªçŸ¥çš„é”™è¯¯ã€‚</p> <p>æ‰€ä»¥ä¸åº”è¯¥è¿™æ ·ä½¿ç”¨ä»£ç†å¯¹è±¡ã€‚åœ¨ æ–°çš„ JavaScript ç‰¹æ€§ä¸­ï¼Œå·²ç»ä½¿ç”¨  <code>#</code>  æ ‡è¯†ç§æœ‰å±æ€§ã€‚</p></blockquote> <h3 id="ä½¿ç”¨-has-æ‹¦æˆª-in"><a href="#ä½¿ç”¨-has-æ‹¦æˆª-in" class="header-anchor">#</a> ä½¿ç”¨  <code>has</code>  æ‹¦æˆª  <code>in</code></h3> <p>å½“ä½¿ç”¨  <code>in</code>  æ“ä½œç¬¦æ¥æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦åœ¨  <code>range</code>  èŒƒå›´å†…ã€‚</p> <p><code>has</code>  æ•æ‰å™¨å¯ä»¥æ‹¦æˆª  <code>in</code>  çš„è°ƒç”¨ï¼Œ <code>has(target, property)</code> ï¼š</p> <ul><li><code>target</code> ï¼šç›®æ ‡å¯¹è±¡ï¼›</li> <li><code>property</code> ï¼šå±æ€§åç§°ï¼›</li></ul> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> prop <span class="token operator">&gt;=</span> target<span class="token punctuation">.</span>start <span class="token operator">&amp;&amp;</span> prop <span class="token operator">&lt;=</span> target<span class="token punctuation">.</span>end
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span>  <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">50</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="åŒ…è£…å‡½æ•°"><a href="#åŒ…è£…å‡½æ•°" class="header-anchor">#</a> åŒ…è£…å‡½æ•°</h3> <p>å°† ä»£ç† åŒ…è£…åœ¨å‡½æ•°çš„å‘¨å›´ï¼Œä½¿ç”¨  <code>apply(target, thisArg, args)</code>   æ•æ‰å™¨ä»£ç† <strong>ä»¥å‡½æ•°çš„æ–¹å¼è¢«è°ƒç”¨</strong>ï¼š</p> <ul><li><code>target</code> ï¼šç›®æ ‡å¯¹è±¡ï¼ˆå‡½æ•°ï¼‰ï¼›</li> <li><code>thisArg</code> ï¼š <code>this</code>  çš„å€¼ï¼›</li> <li><code>args</code> ï¼šå‚æ•°åˆ—è¡¨ï¼›</li></ul> <p>ğŸŒ° ä¾‹å­ / å»¶è¿Ÿå‡½æ•°çš„è°ƒç”¨è£…é¥°å™¨  <code>delay(f, ms)</code> ï¼š</p> <ul><li>åœ¨ åŸºäºå‡½æ•° æ–¹å¼å®ç°ï¼š</li></ul> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 1ï¼ˆå‚æ•°ä¸ªæ•°ï¼‰</span>

sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 0 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></details> <blockquote><p>åŸºäºå‡½æ•°å®ç°çš„åŒ…è£…å‡½æ•°ï¼Œä¸ä¼šè½¬å‘ å±æ€§ è¯»å–å’Œå†™å…¥æ“ä½œï¼Œè¿›è¡ŒåŒ…è£…åå°±ä¼šå¤±å»å¯¹åŸå§‹å‡½æ•°å±æ€§çš„è®¿é—®ï¼Œä¾‹å¦‚  <code>name</code> ã€ <code>length</code> ã€‚</p></blockquote> <ul><li>ä½¿ç”¨  <code>apply</code>  æ•æ‰å™¨æ‹¦æˆªï¼š</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">target</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArgs<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> 

sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>ä½¿ç”¨  <code>Proxy</code>  çš„åŠŸèƒ½è¦å¼ºå¤§å¾—å¤šï¼Œå› ä¸ºå®ƒå¯ä»¥å°†æ‰€æœ‰ä¸œè¥¿è½¬å‘åˆ°ç›®æ ‡å¯¹è±¡ã€‚</p> <p>è¿™æ—¶å¾—åˆ°ä¸€ä¸ª æ›´åŠ ä¸°å¯Œ çš„åŒ…è£…å™¨ã€‚</p></blockquote> <h2 id="reflect"><a href="#reflect" class="header-anchor">#</a> <code>Reflect</code></h2> <p>æ˜¯ JavaScript çš„å†…å»ºå¯¹è±¡ï¼Œç®€åŒ–  <code>Proxy</code>  çš„åˆ›å»ºã€‚</p> <p>åœ¨  <code>Proxy</code>  ä¸­ä¸å¯ä»¥ç›´æ¥è°ƒç”¨  <code>[[Get]]</code>  ã€  <code>[[Set]]</code>  ç­‰è§„èŒƒæ€§å†…éƒ¨æ–¹æ³•ï¼Œåœ¨  <code>Reflect</code>  å¯¹è±¡ä¸­å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•çš„æœ€å°åŒ…è£…ã€‚</p> <p>å¹¶ä¸”ï¼Œ  <code>Reflect</code>  è¿è¡Œå°† <strong>æ“ä½œç¬¦</strong> ï¼ˆ <code>new</code> ã€ <code>delete</code>  ç­‰ï¼‰ä½œä¸ºå‡½æ•°æ‰§è¡Œè°ƒç”¨ï¼ˆå¯¹åº”æ–¹æ³•  <code>construct</code> ã€ <code>deleteProperty</code> ï¼‰ã€‚</p> <details class="custom-block details"><summary>ç‚¹å‡»æŸ¥çœ‹</summary> <table><thead><tr><th style="text-align:left;">æ“ä½œ</th> <th style="text-align:left;"><code>Reflect</code>  è°ƒç”¨</th> <th style="text-align:left;">å†…éƒ¨æ–¹æ³•</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>obj[prop]</code></td> <td style="text-align:left;"><code>Reflect.get(obj, prop)</code></td> <td style="text-align:left;"><code>[[Get]]</code></td></tr> <tr><td style="text-align:left;"><code>obj[prop] = value</code></td> <td style="text-align:left;"><code>Reflect.set(obj, prop, value)</code></td> <td style="text-align:left;"><code>[[Set]]</code></td></tr> <tr><td style="text-align:left;"><code>delete obj[prop]</code></td> <td style="text-align:left;"><code>Reflect.deleteProperty(obj, prop)</code></td> <td style="text-align:left;"><code>[[Delete]]</code></td></tr> <tr><td style="text-align:left;"><code>new F(value)</code></td> <td style="text-align:left;"><code>Reflect.construct(F, value)</code></td> <td style="text-align:left;"><code>[[Construct]]</code></td></tr></tbody></table></details> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// John</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>å¯¹äºæ¯ä¸ªå¯è¢«  <code>Proxy</code>  æ•è·çš„å†…éƒ¨æ–¹æ³•ï¼Œåœ¨  <code>Reflect</code>  ä¸­éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ–¹æ³•ï¼Œå…¶åç§°å’Œå‚æ•°ä¸  <code>Proxy</code>  æ•æ‰å™¨ç›¸åŒã€‚</strong> æ‰€ä»¥ï¼Œå¯ä»¥ä½¿ç”¨  <code>Reflect</code>  æ¥å°†æ“ä½œè½¬å‘ç»™åŸå§‹å¯¹è±¡ã€‚</p> <p>ğŸŒ° ä¾‹å­ / ç»“åˆ  <code>Proxy</code>  å’Œ  <code>Reflect</code>  çš„ä½¿ç”¨ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">GET </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>property<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SET </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>property<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>å¦‚æœä¸€ä¸ªæ•æ‰å™¨æƒ³è¦å°†è°ƒç”¨è½¬å‘ç»™å¯¹è±¡ï¼Œåˆ™åªéœ€ä½¿ç”¨ç›¸åŒçš„å‚æ•°è°ƒç”¨  <code>Reflect.&lt;method&gt;</code>  å°±è¶³å¤Ÿäº†ã€‚ ç®€åŒ–äº†  <code>Proxy</code>  çš„å·¥ä½œã€‚</p></blockquote> <h3 id="ä»£ç†-getter-è®¿é—®å™¨"><a href="#ä»£ç†-getter-è®¿é—®å™¨" class="header-anchor">#</a> ä»£ç†  <code>getter</code>  è®¿é—®å™¨</h3> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">_name</span><span class="token operator">:</span> <span class="token string">&quot;Guest&quot;</span><span class="token punctuation">,</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userProperty<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>æ­¤å¤„ï¼Œä¸€åˆ‡è¿˜æ­£å¸¸ã€‚</p></blockquote> <p>åˆ›å»ºä¸€ä¸ªä»¥  <code>userProxy</code>  ä¸ºåŸå‹çš„  <code>admin</code>  å¯¹è±¡ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> userProxy<span class="token punctuation">,</span>
  <span class="token literal-property property">_name</span><span class="token operator">:</span> <span class="token string">&quot;Admin&quot;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &quot;Guest&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœç›´æ¥è¯»å–  <code>admin.name</code>  ï¼Œæ²¡æœ‰æ‰¾åˆ°  <code>amdin</code>  ä¸­çš„  <code>name</code>  å±æ€§ï¼Œè½¬è€Œå‘  <code>admin</code>  çš„åŸå‹å¯¹è±¡  <code>userProxy</code>  æ‰¾ï¼Œæ­¤æ—¶  <code>userProxy.name</code>  ä¼šä»£ç† è¯»å–å±æ€§ çš„æ–¹æ³•ï¼Œæ‰¾åˆ°çš„æ˜¯ä¸Šä¸‹æ–‡æ˜¯  <code>user</code>  çš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ˜¯  <code>guest</code> ã€‚</p></blockquote> <p>è¦è§£å†³è¿™ç§æƒ…å†µï¼Œéœ€è¦ä½¿ç”¨æ•æ‰å™¨  <code>get</code>  çš„ç¬¬ä¸‰ä¸ªå‚æ•°  <code>receiver</code>  å°†æ­£ç¡®çš„  <code>this</code>  è½¬å‘ç»™  <code>getter</code> ã€‚ä½†æ˜¯æŒ‰ç…§è§„èŒƒ  <code>Proxy</code>  ä¸­çš„  <code>get</code>  ä¸èƒ½è¢«è°ƒç”¨ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨  <code>Reflect.get</code> ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>æ­¤æ—¶é€šè¿‡  <code>receiver</code>   ä¿ç•™äº†å¯¹æ­£ç¡®  <code>this</code>  çš„å¼•ç”¨ï¼ˆå³  <code>admin</code> ï¼‰ã€‚</p></blockquote> <p>ç®€åŒ–  <code>Reflect</code>  çš„ä½¿ç”¨ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>Reflect</code>  è°ƒç”¨çš„å‘½åä¸æ•æ‰å™¨çš„å‘½åå®Œå…¨ç›¸åŒï¼Œå¹¶ä¸”æ¥å—ç›¸åŒçš„å‚æ•°ã€‚å®ƒä»¬æ˜¯ä»¥è¿™ç§æ–¹å¼ä¸“é—¨è®¾è®¡çš„ã€‚</p> <p>å› æ­¤ï¼Œ <code>return Reflect...</code>  æä¾›äº†ä¸€ä¸ªå®‰å…¨çš„æ–¹å¼ï¼Œå¯ä»¥è½»æ¾åœ°è½¬å‘æ“ä½œï¼Œå¹¶ç¡®ä¿ä¸ä¼šå¿˜è®°ä¸æ­¤ç›¸å…³çš„ä»»ä½•å†…å®¹ã€‚</p> <h2 id="proxy-çš„å±€é™"><a href="#proxy-çš„å±€é™" class="header-anchor">#</a> <code>Proxy</code>  çš„å±€é™</h2> <h3 id="å†…å»ºå¯¹è±¡çš„å†…éƒ¨æ’æ§½"><a href="#å†…å»ºå¯¹è±¡çš„å†…éƒ¨æ’æ§½" class="header-anchor">#</a> å†…å»ºå¯¹è±¡çš„å†…éƒ¨æ’æ§½</h3> <p>è®¸å¤šå†…å»ºå¯¹è±¡ï¼Œä¾‹å¦‚  <code>Map</code> ï¼Œ <code>Set</code> ï¼Œ <code>Date</code> ï¼Œ <code>Promise</code>  ç­‰ï¼Œéƒ½ä½¿ç”¨ã€Œå†…éƒ¨æ’æ§½ã€ã€‚å®ƒä»¬ç±»ä¼¼äºå±æ€§ï¼Œ<strong>ä½†ä»…é™äºå†…éƒ¨ä½¿ç”¨ï¼Œä»…ç”¨äºè§„èŒƒç›®çš„</strong>ã€‚</p> <p>ä¾‹å¦‚ï¼Œ <code>Map</code>  å°†é¡¹ç›®ï¼ˆitemï¼‰å­˜å‚¨åœ¨  <code>[[MapData]]</code>  ä¸­ã€‚å†…å»ºæ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®å®ƒä»¬ï¼Œè€Œä¸é€šè¿‡  <code>[[Get]]/[[Set]]</code>  å†…éƒ¨æ–¹æ³•ã€‚</p> <p>æ‰€ä»¥ï¼Œå½“ä½¿ç”¨  <code>Proxy</code>  ä»£ç†è¿™äº›å†…å»ºå¯¹è±¡ï¼Œè¿™äº›å†…éƒ¨æ’æ§½å¹¶ä¸èƒ½è¢«æ‹¦æˆªã€‚</p> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
proxy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// Error</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>ç”±äº  <code>this =ã€‚proxy</code> ï¼Œåœ¨  <code>proxy</code>  ä¸­æ— æ³•æ‰¾åˆ°  <code>this.[[MapData]</code> ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚</p></blockquote> <p>è§£å†³æ–¹æ³•ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">==</span> <span class="token string">'function'</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

proxy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>è¿™æ—¶ï¼Œ <code>proxy.set</code>  çš„å†…éƒ¨  <code>this</code>  ä¸æ˜¯  <code>proxy</code>  è€Œæ˜¯åŸå§‹çš„  <code>map</code> ï¼Œæ‰€ä»¥æ‰¾å¾—åˆ°  <code>this.[[MapData]]</code>  å†…éƒ¨æ’æ§½ã€‚</p></blockquote> <h3 id="ç§æœ‰å­—æ®µ"><a href="#ç§æœ‰å­—æ®µ" class="header-anchor">#</a> ç§æœ‰å­—æ®µ</h3> <p>ç§æœ‰å­—æ®µä¹Ÿæ˜¯é€šè¿‡ å†…éƒ¨æ’æ§½ å®ç°çš„ï¼Œæ‰€ä»¥ç›´æ¥ä»£ç†å¹¶ä¸èƒ½æ­£å¸¸  <code>[[GET]]/[[SET]]</code> ã€‚åŒæ ·è¦ä½¿ç”¨  <code>Reflect</code>  å¸¦  <code>bind</code>  æ–¹æ³•è§£å†³ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  #name <span class="token operator">=</span> <span class="token string">&quot;Guest&quot;</span><span class="token punctuation">;</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">==</span> <span class="token string">'function'</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>ä½†æ˜¯è¿™ç§æ–¹æ³•ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå°†åŸå§‹å¯¹è±¡æš´éœ²ç»™è¯¥æ–¹æ³•ï¼Œå¯èƒ½ä¼šè¿›ä¸€æ­¥ä¼ é€’ç ´åå…¶ä»–ä»£ç†åŠŸèƒ½ã€‚</p></blockquote> <h3 id="ä»£ç†å¯¹è±¡ä¹‹å"><a href="#ä»£ç†å¯¹è±¡ä¹‹å" class="header-anchor">#</a> ä»£ç†å¯¹è±¡ä¹‹åâ€¦</h3> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> allUsers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    allUsers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allUsers<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allUsers<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p><code>user</code>  è¢«ä»£ç†åï¼Œä¸èƒ½å†  <code>allusers</code>  ä¸­æ‰¾åˆ°ã€‚å› ä¸ºä»£ç†æ˜¯ä¸€ä¸ªä¸åŒçš„å¯¹è±¡ã€‚</p></blockquote> <div class="custom-block warning"><p class="custom-block-title">æ³¨æ„</p> <p><strong><code>Proxy</code>  æ— æ³•æ‹¦æˆªä¸¥æ ¼ç›¸ç­‰æ€§æ£€æŸ¥</strong> <code>===</code> ï¼šä¸€ä¸ªå¯¹è±¡åªä¸¥æ ¼ç­‰äºå…¶è‡ªèº«ï¼Œæ²¡æœ‰å…¶ä»–å€¼ã€‚å› æ­¤ï¼Œæ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ‰€æœ‰æ“ä½œå’Œå†…å»ºç±»éƒ½ä¼šåŒºåˆ†å¯¹è±¡å’Œä»£ç†ã€‚è¿™é‡Œæ²¡æœ‰é€æ˜çš„æ›¿ä»£å“ã€‚</p></div> <h3 id="å¯æ’¤é”€çš„ä»£ç†"><a href="#å¯æ’¤é”€çš„ä»£ç†" class="header-anchor">#</a> å¯æ’¤é”€çš„ä»£ç†</h3> <p>ä¸€ä¸ª <strong>å¯æ’¤é”€</strong> çš„ä»£ç†æ˜¯å¯ä»¥è¢«ç¦ç”¨çš„ä»£ç†ã€‚</p> <p>å‡è®¾æœ‰ä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”æƒ³éšæ—¶å…³é—­å¯¹è¯¥èµ„æºçš„è®¿é—®ã€‚</p> <p>å¯ä»¥åšçš„æ˜¯å°†å®ƒåŒ…è£…æˆå¯ä¸€ä¸ªæ’¤é”€çš„ä»£ç†ï¼Œæ²¡æœ‰ä»»ä½•æ•æ‰å™¨ã€‚è¿™æ ·çš„ä»£ç†ä¼šå°†æ“ä½œè½¬å‘ç»™å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥éšæ—¶å°†å…¶ç¦ç”¨ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿™ä¸ª  <code>Proxy</code>  è°ƒç”¨è¿”å›ä¸€ä¸ªå¸¦æœ‰  <code>proxy</code>  å’Œ  <code>revoke</code>  å‡½æ•°çš„å¯¹è±¡ä»¥å°†å…¶ç¦ç”¨ã€‚</p> <p>ğŸŒ° ä¾‹å­ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;Valuable data&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

conosole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span> 
<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// Error</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><code>revoke()</code>  çš„è°ƒç”¨ä¼šä»ä»£ç†ä¸­åˆ é™¤å¯¹ç›®æ ‡å¯¹è±¡çš„æ‰€æœ‰å†…éƒ¨å¼•ç”¨ï¼Œå› æ­¤å®ƒä»¬ä¹‹é—´å†æ— è¿æ¥ã€‚</p></blockquote> <p>ğŸŒ° ä¾‹å­ / åˆ©ç”¨  <code>WeakMap</code>  çš„ä¸é˜»æ­¢ã€Œåƒåœ¾å›æ”¶ã€ çš„æœºåˆ¶ç»‘å®š  <code>proxy</code>  å’Œ  <code>revoke</code> ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> revokes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;Valuable data&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
revokes<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ... then</span>
revoke <span class="token operator">=</span> revokes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span>
<span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// Error</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>å¦‚æœä¸€ä¸ªä»£ç†å¯¹è±¡å˜å¾—ã€Œä¸å¯è®¿é—®ã€ï¼ˆä¾‹å¦‚ï¼Œæ²¡æœ‰å˜é‡å†å¼•ç”¨å®ƒï¼‰ï¼Œåˆ™  <code>WeakMap</code>  å…è®¸å°†å…¶ä¸å®ƒçš„  <code>revoke</code>  ä¸€èµ·ä»å†…å­˜ä¸­æ¸…é™¤ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å†éœ€è¦å®ƒäº†ã€‚</p></blockquote> <h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <ul><li><code>Proxy</code>  æ˜¯å¯¹è±¡çš„åŒ…è£…å™¨ï¼Œå°†ä»£ç†ä¸Šçš„æ“ä½œè½¬å‘åˆ°å¯¹è±¡ï¼Œå¹¶å¯ä»¥é€‰æ‹©æ•è·å…¶ä¸­ä¸€äº›æ“ä½œã€‚å®ƒå¯ä»¥åŒ…è£…ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ç±»å’Œå‡½æ•°ã€‚</li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/simon1uo/notebook/edit/master/docs/101. ğŸš¶ğŸ» å‰ç«¯å·©å›ºåŸºç¡€/40. ğŸ“” JavaScript å…¶ä»–å†…å®¹/30. ğŸª JavaScript Proxy å’Œ Reflect.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/notebook/tags/?tag=JavaScript%E6%B7%B1%E5%85%A5%E9%83%A8%E5%88%86" title="æ ‡ç­¾">#JavaScriptæ·±å…¥éƒ¨åˆ†</a></div> <div class="last-updated"><span class="prefix">ğŸ“¢ ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/09/02, 09:25:12</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/notebook/pages/7c3484/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ğŸ”¦ JavaScript çš„é”™è¯¯å¤„ç†</div></a> <a href="/notebook/pages/40ee0e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ğŸ“¦ JavaScript æµè§ˆå™¨å­˜å‚¨</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
                    â†
                    <a href="/notebook/pages/7c3484/" class="prev">ğŸ”¦ JavaScript çš„é”™è¯¯å¤„ç†</a></span> <span class="next"><a href="/notebook/pages/40ee0e/">ğŸ“¦ JavaScript æµè§ˆå™¨å­˜å‚¨</a>â†’
                </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
            Copyright Â© 2020-2022
            |
            <span>wrote with â¤ï¸ by <a href="https://simon1uo.github.io">Simon</a></br></span>

        theme based on
        <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="theme">Vdoing</a> powered By Vuepress
    </div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
                        è·Ÿéšç³»ç»Ÿ
                    </li><li class="iconfont icon-rijianmoshi">
                        æµ…è‰²æ¨¡å¼
                    </li><li class="iconfont icon-yejianmoshi">
                        æ·±è‰²æ¨¡å¼
                    </li><li class="iconfont icon-yuedu">
                        é˜…è¯»æ¨¡å¼
                    </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
        <script src="/notebook/assets/js/app.c1e92184.js" defer></script><script src="/notebook/assets/js/2.f4898154.js" defer></script><script src="/notebook/assets/js/3.c3838318.js" defer></script><script src="/notebook/assets/js/138.f4f41aba.js" defer></script>
    </body>
</html>
