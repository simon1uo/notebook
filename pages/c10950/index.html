<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>🌓 Vue 计算属性与监视 | notebook</title>
        <meta name="generator" content="VuePress 1.9.7" />
        <link rel="icon" href="/notebook/favicon.ico">
    <link rel="stylesheet" href="/notebook//at.alicdn.com/t/font_3114978_qe0b39no76.css"> <meta name="description" content="a frontend notebook by Simon">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="个人学习笔记,前端学习笔记,前端学习,前端学习资源,前端学习路线,HTML,CSS,JavaScript,Vue,React">
    <meta name="theme-color" content="#204A7A">  <link rel="preload" href="/notebook/assets/css/0.styles.e8c79dc0.css" as="style"><link rel="preload" href="/notebook/assets/js/app.eeed6bec.js" as="script"><link rel="preload" href="/notebook/assets/js/2.9c8aa4ca.js" as="script"><link rel="preload" href="/notebook/assets/js/3.0190ea50.js" as="script"><link rel="preload" href="/notebook/assets/js/157.cb540f95.js" as="script"> <link rel="stylesheet" href="/notebook/assets/css/0.styles.e8c79dc0.css">
    </head>
    <body class="theme-mode-light">
        <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><img src="/notebook/assets/img/logo.png" alt="notebook" class="logo"> <span class="site-name">&lt;notebook/&gt;</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">🌏 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="☕️ 前端笔记" class="dropdown-title"><a href="/notebook/front-end/" class="link-title">☕️ 前端笔记</a> <span class="title" style="display:none;">☕️ 前端笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/front-end/roadmap/" class="nav-link">🗺 前端学习路线</a></li><li class="dropdown-item"><h4>分类</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/front-end/beginning/" class="nav-link">🚶 前端入门基础</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/stable/" class="nav-link">🚶🏻 前端巩固基础</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/core-frame/" class="nav-link">🏃 前端核心框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔖 关于" class="dropdown-title"><a href="/notebook/about/" class="link-title">🔖 关于</a> <span class="title" style="display:none;">🔖 关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>🚏索引</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/archives/" class="nav-link">🗄归档</a></li><li class="dropdown-subitem"><a href="/notebook/tags/" class="nav-link">🔖标签</a></li></ul></li></ul></div></div> <a href="https://github.com/simon1uo/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
        🍞 GitHub
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">🌏 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="☕️ 前端笔记" class="dropdown-title"><a href="/notebook/front-end/" class="link-title">☕️ 前端笔记</a> <span class="title" style="display:none;">☕️ 前端笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notebook/front-end/roadmap/" class="nav-link">🗺 前端学习路线</a></li><li class="dropdown-item"><h4>分类</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/front-end/beginning/" class="nav-link">🚶 前端入门基础</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/stable/" class="nav-link">🚶🏻 前端巩固基础</a></li><li class="dropdown-subitem"><a href="/notebook/front-end/core-frame/" class="nav-link">🏃 前端核心框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔖 关于" class="dropdown-title"><a href="/notebook/about/" class="link-title">🔖 关于</a> <span class="title" style="display:none;">🔖 关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>🚏索引</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/notebook/archives/" class="nav-link">🗄归档</a></li><li class="dropdown-subitem"><a href="/notebook/tags/" class="nav-link">🔖标签</a></li></ul></li></ul></div></div> <a href="https://github.com/simon1uo/notebook" target="_blank" rel="noopener noreferrer" class="repo-link">
        🍞 GitHub
        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> 🎹 Web Components 组件化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ☔️ 核心框架项目搭建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span> 🌧️ Vue 基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/pages/85a3ba/" class="sidebar-link">🌨 Vue 介绍与基本使用</a></li><li><a href="/notebook/pages/c0d42b/" class="sidebar-link">🌕 Vue 模版语法</a></li><li><a href="/notebook/pages/14aa98/" class="sidebar-link">🌔 Vue 数据代理, 事件处理</a></li><li><a href="/notebook/pages/c10950/" aria-current="page" class="active sidebar-link">🌓 Vue 计算属性与监视</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/notebook/pages/c10950/#计算属性与监视" class="sidebar-link">计算属性与监视</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/c10950/#计算属性-computed" class="sidebar-link">计算属性 computed</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/c10950/#监视属性-watch" class="sidebar-link">监视属性 watch</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/c10950/#使用监视与计算属性对比" class="sidebar-link">使用监视与计算属性对比</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/notebook/pages/c10950/#绑定样式" class="sidebar-link">绑定样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/notebook/pages/c10950/#class-绑定" class="sidebar-link">class 绑定</a></li><li class="sidebar-sub-header level3"><a href="/notebook/pages/c10950/#style-绑定" class="sidebar-link">style 绑定</a></li></ul></li></ul></li><li><a href="/notebook/pages/fcee68/" class="sidebar-link">🌒 Vue 条件渲染, 列表渲染</a></li><li><a href="/notebook/pages/55d982/" class="sidebar-link">🌑 Vue 指令</a></li><li><a href="/notebook/pages/021159/" class="sidebar-link">🌞 Vue 声明周期</a></li><li><a href="/notebook/pages/905c0c/" class="sidebar-link">✨ Vue 实用实例</a></li><li><a href="/notebook/pages/701e29/" class="sidebar-link">🌟 Vue 关键问题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> ⛈ Vue 脚手架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> 🌨 Vue 3</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-16f6d530><div class="articleInfo" data-v-16f6d530><ul class="breadcrumbs" data-v-16f6d530><li data-v-16f6d530><a href="/notebook/" title="首页" class="iconfont icon-home router-link-active" data-v-16f6d530></a></li> <li data-v-16f6d530><a href="/notebook/front-end/core-frame/# 🏃 前端核心框架" data-v-16f6d530> 🏃 前端核心框架</a></li><li data-v-16f6d530><a href="/notebook/front-end/core-frame/# 🌧️ Vue 基础" data-v-16f6d530> 🌧️ Vue 基础</a></li></ul> <div class="info" data-v-16f6d530><div title="作者" class="author iconfont icon-touxiang" data-v-16f6d530><a href="https://github.com/simon1uo" target="_blank" title="作者" class="beLink" data-v-16f6d530>Simon</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-16f6d530><a href="javascript:;" data-v-16f6d530>2022-03-11</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><!---->🌓 Vue 计算属性与监视<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="计算属性与监视"><a href="#计算属性与监视" class="header-anchor">#</a> 计算属性与监视</h2> <h3 id="计算属性-computed"><a href="#计算属性-computed" class="header-anchor">#</a> 计算属性 computed</h3> <p>Vue 中不推荐使用复杂的表达式，应该重构为「计算属性」或方法；（官网风格指南）</p> <p>要显示的「<strong>属性</strong>」不存在时，要通过「<strong>已有属性</strong>（在 Vue 下管理）」计算得到时可以使用计算属性  <code>computed</code>  ：</p> <ul><li><p>原理：底层借助了  <code>Objcet.defineProperty()</code>  方法提供的  <code>getter</code>  和  <code>setter</code> 。</p> <ul><li><p><code>get</code>  函数什么时候执行？</p> <ul><li><strong>初次读取时会执行一次</strong>（将保存在缓存提供重复使用）；</li> <li><strong>依赖的数据</strong>发生改变时会被再次调用；</li></ul></li> <li><p>与  <code>methods</code>  实现相比，内部有<strong>缓存机制（复用），效率更高，调试方便</strong>。</p></li></ul></li> <li><p>⚠️注意：</p> <ul><li>最终的计算属性会出现在  <code>vm</code> ，直接读取使用（会自动调用  <code>get</code>  ）即可；</li> <li>如果计算属性要被修改，那必须写  <code>set</code>  函数去响应修改，且  <code>set</code>  中要引起计算时依赖的数据发生改变。</li></ul></li> <li><p>使用方法：</p> <ul><li><p>在  <code>computed</code>  对象中定义计算属性（ <code>get()</code>  和  <code>set()</code>  ）；</p></li> <li><p>在页面中使用  <code></code>  来显示计算的结果；</p></li> <li><p>只读不改的简写，省略  <code>set()</code>  只有  <code>get()</code>  时，直接当计算属性的  <code>get()</code> ；</p></li></ul></li></ul> <h3 id="监视属性-watch"><a href="#监视属性-watch" class="header-anchor">#</a> 监视属性 watch</h3> <p>（<strong>侦听属性</strong>）</p> <p>当被监视的属性发生变化时，回调函数自动调用进行相关的操作：</p> <ul><li><p>⚠️：监视的「<strong>属性</strong>」必须存在才能进行监视；</p></li> <li><p>监视的两种写法：通过在  <code>new Vue</code>  时传入 <code>watch</code>  配置来监视指定的属性或者通过  <code>vm</code>  对象的  <code>$watch()</code>  监视  ；</p></li> <li><p>监视的  <code>watch(oldValue, newValue)</code>  可以通过参数获取变化的值（旧值和新值）；</p></li> <li><p>监视的简写（适用于不需要配置 <code>immediate</code>  等参数）；</p></li></ul> <p><strong>深度监视</strong>：</p> <ul><li><p>Vue 中的  <code>watch</code>  默认不监测对象内部值的改变（一层）；</p></li> <li><p>配置  <code>deep: true</code>  可以监测对象内部值的改变；</p></li> <li><p>⚠️注意：</p> <ul><li>Vue 自身可以检测对象的内部值改变，但是 Vue 提供的监视属性  <code>watch</code>  默认不可以；</li> <li>使用  <code>watch</code>  可以根据数据的具体结构，决定是否采用深度监视；</li></ul></li></ul> <h3 id="使用监视与计算属性对比"><a href="#使用监视与计算属性对比" class="header-anchor">#</a> 使用监视与计算属性对比</h3> <ul><li><code>computed</code>  能完成时， <code>watch</code>  都能完成：当  <code>watch</code>  和  <code>computed</code>  都能实现时，首选用  <code>computed</code>  提高性能；</li> <li><code>watch</code>  能完成的功能， <code>computed</code>  不一定完成：当时需要实现一些异步功能（例如延时显示）时，就使用  <code>watch</code> （ <code>computed</code>  依靠  <code>return</code>  获取值）</li></ul> <h2 id="绑定样式"><a href="#绑定样式" class="header-anchor">#</a> 绑定样式</h2> <p>在应用界面中，某个（些）元素的样式是会发生变化的。使用  <code>class</code>  /  <code>style</code>  绑定实现<strong>动态样式</strong>效果的技术；</p> <h3 id="class-绑定"><a href="#class-绑定" class="header-anchor">#</a> <code>class</code>  绑定</h3> <ul><li>语法： <code>:class=&quot;xxx&quot;</code>  ，有三种写法：
<ul><li><code>xxx</code>  表达式是字符串  <code>:'classA'</code>  ，适用于类名不确定时；</li> <li><code>xxx</code>  表达式是数组： <code>['classA','classB']</code> ，适用于要绑定多个样式，但是个数不确定、名字不确定；</li> <li><code>xxx</code>  表达式是对象：  <code>:{classA:isA, classB: isB}</code> ，适用于绑定多个样式，个数不确定、名字不确定、是否使用也不确定；</li></ul></li></ul> <h3 id="style-绑定"><a href="#style-绑定" class="header-anchor">#</a> <code>style</code>  绑定</h3> <ul><li><p>语法：  <code>:style=&quot;xxx&quot;</code> ：</p> <ul><li><code>xxx</code>  表达式是样式对象，可动态修改样式属性值，例如 <code>{fontSize: 40+‘px’}</code> 。</li> <li><code>xxx</code>  表达式是数组， <code>[a,b]</code>  其中  <code>a,b</code>  是样式对象；</li></ul></li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/simon1uo/notebook/edit/master/docs/105. 🏃 前端核心框架/10. 🌧️ Vue 基础/04. 🌓 Vue 计算属性与监视.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">📢 上次更新:</span> <span class="time">2022/06/10, 14:42:18</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/notebook/pages/14aa98/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">🌔 Vue 数据代理, 事件处理</div></a> <a href="/notebook/pages/fcee68/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">🌒 Vue 条件渲染, 列表渲染</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
                ←
                <a href="/notebook/pages/14aa98/" class="prev">🌔 Vue 数据代理, 事件处理</a></span> <span class="next"><a href="/notebook/pages/fcee68/">🌒 Vue 条件渲染, 列表渲染</a>→
            </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
        Copyright © 2020-2022
        |
        <span></span>

    theme on based
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="theme">Vdoing</a> powered By Vuepress
</div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
                    跟随系统
                </li><li class="iconfont icon-rijianmoshi">
                    浅色模式
                </li><li class="iconfont icon-yejianmoshi">
                    深色模式
                </li><li class="iconfont icon-yuedu">
                    阅读模式
                </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
        <script src="/notebook/assets/js/app.eeed6bec.js" defer></script><script src="/notebook/assets/js/2.9c8aa4ca.js" defer></script><script src="/notebook/assets/js/3.0190ea50.js" defer></script><script src="/notebook/assets/js/157.cb540f95.js" defer></script>
    </body>
</html>
